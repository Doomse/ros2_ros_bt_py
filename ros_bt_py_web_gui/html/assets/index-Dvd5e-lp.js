import{e as Ra,r as E,m as Pa,a as ni,i as Gs,b as ja,t as oi,g as ai,o as ri,w as Nt,n as ii,f as li,c as Q,j as ci,k as ui,s as ne,E as L,d as oe,l as Ne,p as x,q as h,u as d,v as ge,x as he,y as J,z as b,A as F,B as Z,F as ie,C as me,D as $e,G as Wn,H as Ae,I as Ws,J as ns,K as Pe,L as os,M as di,R as sn,N as ht,O as St,P as _i,Q as Fa,S as fi,T as mn,U as pi,W as vi,V as hi,X as mi,Y as gi,Z as yi}from"./vue-extras-ChxG9Psp.js";import{d as bi,a as G,p as We,g as wi}from"./roslib-CVfGsBJM.js";import{F as xe}from"./fusejs-Ch1WBRTM.js";import{s as se,q as Ei,a as Ti,f as Ai,l as Ni,b as Ci,c as ki,z as Ii,p as Ss,t as Si,h as xi}from"./d3-DNndPsJ1.js";import{f as za,a as Ua,b as Wa,c as Ha,d as Va,l as Oi,e as Di,g as Li,h as Mi,i as $i,j as Ri,k as Pi,m as ji,n as Fi,o as zi,p as Ui,q as Wi,r as Hi,s as Vi,t as Yi,u as Bi,v as Gi,w as Ki,x as Zi,y as Qi,z as Ji,A as Xi,B as qi,C as el,D as tl,E as sl,F as nl,G as ol,H as al,I as rl,J as il,K as ll,L as cl,M as ul,N as dl,O as _l,P as fl,Q as pl,R as vl,S as hl,T as ml}from"./fontawesome-DA5bRjaJ.js";import{r as gl}from"./jsoneditor-DvhDDJh-.js";import{j as gn}from"./jsyaml-mbYHt68G.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Oe="top",je="bottom",Fe="right",De="left",nn="auto",as=[Oe,je,Fe,De],xt="start",Zt="end",Ya="clippingParents",ro="viewport",Ht="popper",Ba="reference",Hn=as.reduce(function(s,e){return s.concat([e+"-"+xt,e+"-"+Zt])},[]),io=[].concat(as,[nn]).reduce(function(s,e){return s.concat([e,e+"-"+xt,e+"-"+Zt])},[]),Ga="beforeRead",Ka="read",Za="afterRead",Qa="beforeMain",Ja="main",Xa="afterMain",qa="beforeWrite",er="write",tr="afterWrite",sr=[Ga,Ka,Za,Qa,Ja,Xa,qa,er,tr];function ot(s){return s?(s.nodeName||"").toLowerCase():null}function ze(s){if(s==null)return window;if(s.toString()!=="[object Window]"){var e=s.ownerDocument;return e&&e.defaultView||window}return s}function Ot(s){var e=ze(s).Element;return s instanceof e||s instanceof Element}function Be(s){var e=ze(s).HTMLElement;return s instanceof e||s instanceof HTMLElement}function lo(s){if(typeof ShadowRoot>"u")return!1;var e=ze(s).ShadowRoot;return s instanceof e||s instanceof ShadowRoot}function yl(s){var e=s.state;Object.keys(e.elements).forEach(function(t){var n=e.styles[t]||{},o=e.attributes[t]||{},a=e.elements[t];!Be(a)||!ot(a)||(Object.assign(a.style,n),Object.keys(o).forEach(function(i){var r=o[i];r===!1?a.removeAttribute(i):a.setAttribute(i,r===!0?"":r)}))})}function bl(s){var e=s.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(n){var o=e.elements[n],a=e.attributes[n]||{},i=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:t[n]),r=i.reduce(function(l,c){return l[c]="",l},{});!Be(o)||!ot(o)||(Object.assign(o.style,r),Object.keys(a).forEach(function(l){o.removeAttribute(l)}))})}}const co={name:"applyStyles",enabled:!0,phase:"write",fn:yl,effect:bl,requires:["computeStyles"]};function st(s){return s.split("-")[0]}var It=Math.max,Ks=Math.min,Qt=Math.round;function Vn(){var s=navigator.userAgentData;return s!=null&&s.brands&&Array.isArray(s.brands)?s.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function nr(){return!/^((?!chrome|android).)*safari/i.test(Vn())}function Jt(s,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var n=s.getBoundingClientRect(),o=1,a=1;e&&Be(s)&&(o=s.offsetWidth>0&&Qt(n.width)/s.offsetWidth||1,a=s.offsetHeight>0&&Qt(n.height)/s.offsetHeight||1);var i=Ot(s)?ze(s):window,r=i.visualViewport,l=!nr()&&t,c=(n.left+(l&&r?r.offsetLeft:0))/o,u=(n.top+(l&&r?r.offsetTop:0))/a,_=n.width/o,v=n.height/a;return{width:_,height:v,top:u,right:c+_,bottom:u+v,left:c,x:c,y:u}}function uo(s){var e=Jt(s),t=s.offsetWidth,n=s.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:s.offsetLeft,y:s.offsetTop,width:t,height:n}}function or(s,e){var t=e.getRootNode&&e.getRootNode();if(s.contains(e))return!0;if(t&&lo(t)){var n=e;do{if(n&&s.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function ct(s){return ze(s).getComputedStyle(s)}function wl(s){return["table","td","th"].indexOf(ot(s))>=0}function bt(s){return((Ot(s)?s.ownerDocument:s.document)||window.document).documentElement}function on(s){return ot(s)==="html"?s:s.assignedSlot||s.parentNode||(lo(s)?s.host:null)||bt(s)}function ko(s){return!Be(s)||ct(s).position==="fixed"?null:s.offsetParent}function El(s){var e=/firefox/i.test(Vn()),t=/Trident/i.test(Vn());if(t&&Be(s)){var n=ct(s);if(n.position==="fixed")return null}var o=on(s);for(lo(o)&&(o=o.host);Be(o)&&["html","body"].indexOf(ot(o))<0;){var a=ct(o);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return o;o=o.parentNode}return null}function Es(s){for(var e=ze(s),t=ko(s);t&&wl(t)&&ct(t).position==="static";)t=ko(t);return t&&(ot(t)==="html"||ot(t)==="body"&&ct(t).position==="static")?e:t||El(s)||e}function _o(s){return["top","bottom"].indexOf(s)>=0?"x":"y"}function ms(s,e,t){return It(s,Ks(e,t))}function Tl(s,e,t){var n=ms(s,e,t);return n>t?t:n}function ar(){return{top:0,right:0,bottom:0,left:0}}function rr(s){return Object.assign({},ar(),s)}function ir(s,e){return e.reduce(function(t,n){return t[n]=s,t},{})}var Al=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,rr(typeof e!="number"?e:ir(e,as))};function Nl(s){var e,t=s.state,n=s.name,o=s.options,a=t.elements.arrow,i=t.modifiersData.popperOffsets,r=st(t.placement),l=_o(r),c=[De,Fe].indexOf(r)>=0,u=c?"height":"width";if(!(!a||!i)){var _=Al(o.padding,t),v=uo(a),f=l==="y"?Oe:De,g=l==="y"?je:Fe,m=t.rects.reference[u]+t.rects.reference[l]-i[l]-t.rects.popper[u],A=i[l]-t.rects.reference[l],w=Es(a),N=w?l==="y"?w.clientHeight||0:w.clientWidth||0:0,C=m/2-A/2,k=_[f],R=N-v[u]-_[g],W=N/2-v[u]/2+C,M=ms(k,W,R),S=l;t.modifiersData[n]=(e={},e[S]=M,e.centerOffset=M-W,e)}}function Cl(s){var e=s.state,t=s.options,n=t.element,o=n===void 0?"[data-popper-arrow]":n;o!=null&&(typeof o=="string"&&(o=e.elements.popper.querySelector(o),!o)||or(e.elements.popper,o)&&(e.elements.arrow=o))}const lr={name:"arrow",enabled:!0,phase:"main",fn:Nl,effect:Cl,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Xt(s){return s.split("-")[1]}var kl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Il(s,e){var t=s.x,n=s.y,o=e.devicePixelRatio||1;return{x:Qt(t*o)/o||0,y:Qt(n*o)/o||0}}function Io(s){var e,t=s.popper,n=s.popperRect,o=s.placement,a=s.variation,i=s.offsets,r=s.position,l=s.gpuAcceleration,c=s.adaptive,u=s.roundOffsets,_=s.isFixed,v=i.x,f=v===void 0?0:v,g=i.y,m=g===void 0?0:g,A=typeof u=="function"?u({x:f,y:m}):{x:f,y:m};f=A.x,m=A.y;var w=i.hasOwnProperty("x"),N=i.hasOwnProperty("y"),C=De,k=Oe,R=window;if(c){var W=Es(t),M="clientHeight",S="clientWidth";if(W===ze(t)&&(W=bt(t),ct(W).position!=="static"&&r==="absolute"&&(M="scrollHeight",S="scrollWidth")),W=W,o===Oe||(o===De||o===Fe)&&a===Zt){k=je;var O=_&&W===R&&R.visualViewport?R.visualViewport.height:W[M];m-=O-n.height,m*=l?1:-1}if(o===De||(o===Oe||o===je)&&a===Zt){C=Fe;var P=_&&W===R&&R.visualViewport?R.visualViewport.width:W[S];f-=P-n.width,f*=l?1:-1}}var te=Object.assign({position:r},c&&kl),le=u===!0?Il({x:f,y:m},ze(t)):{x:f,y:m};if(f=le.x,m=le.y,l){var ce;return Object.assign({},te,(ce={},ce[k]=N?"0":"",ce[C]=w?"0":"",ce.transform=(R.devicePixelRatio||1)<=1?"translate("+f+"px, "+m+"px)":"translate3d("+f+"px, "+m+"px, 0)",ce))}return Object.assign({},te,(e={},e[k]=N?m+"px":"",e[C]=w?f+"px":"",e.transform="",e))}function Sl(s){var e=s.state,t=s.options,n=t.gpuAcceleration,o=n===void 0?!0:n,a=t.adaptive,i=a===void 0?!0:a,r=t.roundOffsets,l=r===void 0?!0:r,c={placement:st(e.placement),variation:Xt(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Io(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:i,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Io(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const fo={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Sl,data:{}};var xs={passive:!0};function xl(s){var e=s.state,t=s.instance,n=s.options,o=n.scroll,a=o===void 0?!0:o,i=n.resize,r=i===void 0?!0:i,l=ze(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(u){u.addEventListener("scroll",t.update,xs)}),r&&l.addEventListener("resize",t.update,xs),function(){a&&c.forEach(function(u){u.removeEventListener("scroll",t.update,xs)}),r&&l.removeEventListener("resize",t.update,xs)}}const po={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:xl,data:{}};var Ol={left:"right",right:"left",bottom:"top",top:"bottom"};function Hs(s){return s.replace(/left|right|bottom|top/g,function(e){return Ol[e]})}var Dl={start:"end",end:"start"};function So(s){return s.replace(/start|end/g,function(e){return Dl[e]})}function vo(s){var e=ze(s),t=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:t,scrollTop:n}}function ho(s){return Jt(bt(s)).left+vo(s).scrollLeft}function Ll(s,e){var t=ze(s),n=bt(s),o=t.visualViewport,a=n.clientWidth,i=n.clientHeight,r=0,l=0;if(o){a=o.width,i=o.height;var c=nr();(c||!c&&e==="fixed")&&(r=o.offsetLeft,l=o.offsetTop)}return{width:a,height:i,x:r+ho(s),y:l}}function Ml(s){var e,t=bt(s),n=vo(s),o=(e=s.ownerDocument)==null?void 0:e.body,a=It(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),i=It(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),r=-n.scrollLeft+ho(s),l=-n.scrollTop;return ct(o||t).direction==="rtl"&&(r+=It(t.clientWidth,o?o.clientWidth:0)-a),{width:a,height:i,x:r,y:l}}function mo(s){var e=ct(s),t=e.overflow,n=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+n)}function cr(s){return["html","body","#document"].indexOf(ot(s))>=0?s.ownerDocument.body:Be(s)&&mo(s)?s:cr(on(s))}function gs(s,e){var t;e===void 0&&(e=[]);var n=cr(s),o=n===((t=s.ownerDocument)==null?void 0:t.body),a=ze(n),i=o?[a].concat(a.visualViewport||[],mo(n)?n:[]):n,r=e.concat(i);return o?r:r.concat(gs(on(i)))}function Yn(s){return Object.assign({},s,{left:s.x,top:s.y,right:s.x+s.width,bottom:s.y+s.height})}function $l(s,e){var t=Jt(s,!1,e==="fixed");return t.top=t.top+s.clientTop,t.left=t.left+s.clientLeft,t.bottom=t.top+s.clientHeight,t.right=t.left+s.clientWidth,t.width=s.clientWidth,t.height=s.clientHeight,t.x=t.left,t.y=t.top,t}function xo(s,e,t){return e===ro?Yn(Ll(s,t)):Ot(e)?$l(e,t):Yn(Ml(bt(s)))}function Rl(s){var e=gs(on(s)),t=["absolute","fixed"].indexOf(ct(s).position)>=0,n=t&&Be(s)?Es(s):s;return Ot(n)?e.filter(function(o){return Ot(o)&&or(o,n)&&ot(o)!=="body"}):[]}function Pl(s,e,t,n){var o=e==="clippingParents"?Rl(s):[].concat(e),a=[].concat(o,[t]),i=a[0],r=a.reduce(function(l,c){var u=xo(s,c,n);return l.top=It(u.top,l.top),l.right=Ks(u.right,l.right),l.bottom=Ks(u.bottom,l.bottom),l.left=It(u.left,l.left),l},xo(s,i,n));return r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}function ur(s){var e=s.reference,t=s.element,n=s.placement,o=n?st(n):null,a=n?Xt(n):null,i=e.x+e.width/2-t.width/2,r=e.y+e.height/2-t.height/2,l;switch(o){case Oe:l={x:i,y:e.y-t.height};break;case je:l={x:i,y:e.y+e.height};break;case Fe:l={x:e.x+e.width,y:r};break;case De:l={x:e.x-t.width,y:r};break;default:l={x:e.x,y:e.y}}var c=o?_o(o):null;if(c!=null){var u=c==="y"?"height":"width";switch(a){case xt:l[c]=l[c]-(e[u]/2-t[u]/2);break;case Zt:l[c]=l[c]+(e[u]/2-t[u]/2);break}}return l}function qt(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=n===void 0?s.placement:n,a=t.strategy,i=a===void 0?s.strategy:a,r=t.boundary,l=r===void 0?Ya:r,c=t.rootBoundary,u=c===void 0?ro:c,_=t.elementContext,v=_===void 0?Ht:_,f=t.altBoundary,g=f===void 0?!1:f,m=t.padding,A=m===void 0?0:m,w=rr(typeof A!="number"?A:ir(A,as)),N=v===Ht?Ba:Ht,C=s.rects.popper,k=s.elements[g?N:v],R=Pl(Ot(k)?k:k.contextElement||bt(s.elements.popper),l,u,i),W=Jt(s.elements.reference),M=ur({reference:W,element:C,placement:o}),S=Yn(Object.assign({},C,M)),O=v===Ht?S:W,P={top:R.top-O.top+w.top,bottom:O.bottom-R.bottom+w.bottom,left:R.left-O.left+w.left,right:O.right-R.right+w.right},te=s.modifiersData.offset;if(v===Ht&&te){var le=te[o];Object.keys(P).forEach(function(ce){var Y=[Fe,je].indexOf(ce)>=0?1:-1,z=[Oe,je].indexOf(ce)>=0?"y":"x";P[ce]+=le[z]*Y})}return P}function jl(s,e){e===void 0&&(e={});var t=e,n=t.placement,o=t.boundary,a=t.rootBoundary,i=t.padding,r=t.flipVariations,l=t.allowedAutoPlacements,c=l===void 0?io:l,u=Xt(n),_=u?r?Hn:Hn.filter(function(g){return Xt(g)===u}):as,v=_.filter(function(g){return c.indexOf(g)>=0});v.length===0&&(v=_);var f=v.reduce(function(g,m){return g[m]=qt(s,{placement:m,boundary:o,rootBoundary:a,padding:i})[st(m)],g},{});return Object.keys(f).sort(function(g,m){return f[g]-f[m]})}function Fl(s){if(st(s)===nn)return[];var e=Hs(s);return[So(s),e,So(e)]}function zl(s){var e=s.state,t=s.options,n=s.name;if(!e.modifiersData[n]._skip){for(var o=t.mainAxis,a=o===void 0?!0:o,i=t.altAxis,r=i===void 0?!0:i,l=t.fallbackPlacements,c=t.padding,u=t.boundary,_=t.rootBoundary,v=t.altBoundary,f=t.flipVariations,g=f===void 0?!0:f,m=t.allowedAutoPlacements,A=e.options.placement,w=st(A),N=w===A,C=l||(N||!g?[Hs(A)]:Fl(A)),k=[A].concat(C).reduce(function(pe,ue){return pe.concat(st(ue)===nn?jl(e,{placement:ue,boundary:u,rootBoundary:_,padding:c,flipVariations:g,allowedAutoPlacements:m}):ue)},[]),R=e.rects.reference,W=e.rects.popper,M=new Map,S=!0,O=k[0],P=0;P<k.length;P++){var te=k[P],le=st(te),ce=Xt(te)===xt,Y=[Oe,je].indexOf(le)>=0,z=Y?"width":"height",X=qt(e,{placement:te,boundary:u,rootBoundary:_,altBoundary:v,padding:c}),B=Y?ce?Fe:De:ce?je:Oe;R[z]>W[z]&&(B=Hs(B));var fe=Hs(B),ye=[];if(a&&ye.push(X[le]<=0),r&&ye.push(X[B]<=0,X[fe]<=0),ye.every(function(pe){return pe})){O=te,S=!1;break}M.set(te,ye)}if(S)for(var q=g?3:1,Xe=function(ue){var ke=k.find(function(be){var we=M.get(be);if(we)return we.slice(0,ue).every(function(qe){return qe})});if(ke)return O=ke,"break"},Re=q;Re>0;Re--){var Ue=Xe(Re);if(Ue==="break")break}e.placement!==O&&(e.modifiersData[n]._skip=!0,e.placement=O,e.reset=!0)}}const dr={name:"flip",enabled:!0,phase:"main",fn:zl,requiresIfExists:["offset"],data:{_skip:!1}};function Oo(s,e,t){return t===void 0&&(t={x:0,y:0}),{top:s.top-e.height-t.y,right:s.right-e.width+t.x,bottom:s.bottom-e.height+t.y,left:s.left-e.width-t.x}}function Do(s){return[Oe,Fe,je,De].some(function(e){return s[e]>=0})}function Ul(s){var e=s.state,t=s.name,n=e.rects.reference,o=e.rects.popper,a=e.modifiersData.preventOverflow,i=qt(e,{elementContext:"reference"}),r=qt(e,{altBoundary:!0}),l=Oo(i,n),c=Oo(r,o,a),u=Do(l),_=Do(c);e.modifiersData[t]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:_},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":_})}const _r={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ul};function Wl(s,e,t){var n=st(s),o=[De,Oe].indexOf(n)>=0?-1:1,a=typeof t=="function"?t(Object.assign({},e,{placement:s})):t,i=a[0],r=a[1];return i=i||0,r=(r||0)*o,[De,Fe].indexOf(n)>=0?{x:r,y:i}:{x:i,y:r}}function Hl(s){var e=s.state,t=s.options,n=s.name,o=t.offset,a=o===void 0?[0,0]:o,i=io.reduce(function(u,_){return u[_]=Wl(_,e.rects,a),u},{}),r=i[e.placement],l=r.x,c=r.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=c),e.modifiersData[n]=i}const fr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Hl};function Vl(s){var e=s.state,t=s.name;e.modifiersData[t]=ur({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const go={name:"popperOffsets",enabled:!0,phase:"read",fn:Vl,data:{}};function Yl(s){return s==="x"?"y":"x"}function Bl(s){var e=s.state,t=s.options,n=s.name,o=t.mainAxis,a=o===void 0?!0:o,i=t.altAxis,r=i===void 0?!1:i,l=t.boundary,c=t.rootBoundary,u=t.altBoundary,_=t.padding,v=t.tether,f=v===void 0?!0:v,g=t.tetherOffset,m=g===void 0?0:g,A=qt(e,{boundary:l,rootBoundary:c,padding:_,altBoundary:u}),w=st(e.placement),N=Xt(e.placement),C=!N,k=_o(w),R=Yl(k),W=e.modifiersData.popperOffsets,M=e.rects.reference,S=e.rects.popper,O=typeof m=="function"?m(Object.assign({},e.rects,{placement:e.placement})):m,P=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),te=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,le={x:0,y:0};if(W){if(a){var ce,Y=k==="y"?Oe:De,z=k==="y"?je:Fe,X=k==="y"?"height":"width",B=W[k],fe=B+A[Y],ye=B-A[z],q=f?-S[X]/2:0,Xe=N===xt?M[X]:S[X],Re=N===xt?-S[X]:-M[X],Ue=e.elements.arrow,pe=f&&Ue?uo(Ue):{width:0,height:0},ue=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:ar(),ke=ue[Y],be=ue[z],we=ms(0,M[X],pe[X]),qe=C?M[X]/2-q-we-ke-P.mainAxis:Xe-we-ke-P.mainAxis,et=C?-M[X]/2+q+we+be+P.mainAxis:Re+we+be+P.mainAxis,$t=e.elements.arrow&&Es(e.elements.arrow),hn=$t?k==="y"?$t.clientTop||0:$t.clientLeft||0:0,Is=(ce=te==null?void 0:te[k])!=null?ce:0,T=B+qe-Is-hn,y=B+et-Is,p=ms(f?Ks(fe,T):fe,B,f?It(ye,y):ye);W[k]=p,le[k]=p-B}if(r){var I,$=k==="x"?Oe:De,j=k==="x"?je:Fe,H=W[R],ee=R==="y"?"height":"width",K=H+A[$],ae=H-A[j],de=[Oe,De].indexOf(w)!==-1,re=(I=te==null?void 0:te[R])!=null?I:0,tt=de?K:H-M[ee]-S[ee]-re+P.altAxis,dt=de?H+M[ee]+S[ee]-re-P.altAxis:ae,Tt=f&&de?Tl(tt,H,dt):ms(f?tt:K,H,f?dt:ae);W[R]=Tt,le[R]=Tt-H}e.modifiersData[n]=le}}const pr={name:"preventOverflow",enabled:!0,phase:"main",fn:Bl,requiresIfExists:["offset"]};function Gl(s){return{scrollLeft:s.scrollLeft,scrollTop:s.scrollTop}}function Kl(s){return s===ze(s)||!Be(s)?vo(s):Gl(s)}function Zl(s){var e=s.getBoundingClientRect(),t=Qt(e.width)/s.offsetWidth||1,n=Qt(e.height)/s.offsetHeight||1;return t!==1||n!==1}function Ql(s,e,t){t===void 0&&(t=!1);var n=Be(e),o=Be(e)&&Zl(e),a=bt(e),i=Jt(s,o,t),r={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!t)&&((ot(e)!=="body"||mo(a))&&(r=Kl(e)),Be(e)?(l=Jt(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=ho(a))),{x:i.left+r.scrollLeft-l.x,y:i.top+r.scrollTop-l.y,width:i.width,height:i.height}}function Jl(s){var e=new Map,t=new Set,n=[];s.forEach(function(a){e.set(a.name,a)});function o(a){t.add(a.name);var i=[].concat(a.requires||[],a.requiresIfExists||[]);i.forEach(function(r){if(!t.has(r)){var l=e.get(r);l&&o(l)}}),n.push(a)}return s.forEach(function(a){t.has(a.name)||o(a)}),n}function Xl(s){var e=Jl(s);return sr.reduce(function(t,n){return t.concat(e.filter(function(o){return o.phase===n}))},[])}function ql(s){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(s())})})),e}}function ec(s){var e=s.reduce(function(t,n){var o=t[n.name];return t[n.name]=o?Object.assign({},o,n,{options:Object.assign({},o.options,n.options),data:Object.assign({},o.data,n.data)}):n,t},{});return Object.keys(e).map(function(t){return e[t]})}var Lo={placement:"bottom",modifiers:[],strategy:"absolute"};function Mo(){for(var s=arguments.length,e=new Array(s),t=0;t<s;t++)e[t]=arguments[t];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function an(s){s===void 0&&(s={});var e=s,t=e.defaultModifiers,n=t===void 0?[]:t,o=e.defaultOptions,a=o===void 0?Lo:o;return function(r,l,c){c===void 0&&(c=a);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Lo,a),modifiersData:{},elements:{reference:r,popper:l},attributes:{},styles:{}},_=[],v=!1,f={state:u,setOptions:function(w){var N=typeof w=="function"?w(u.options):w;m(),u.options=Object.assign({},a,u.options,N),u.scrollParents={reference:Ot(r)?gs(r):r.contextElement?gs(r.contextElement):[],popper:gs(l)};var C=Xl(ec([].concat(n,u.options.modifiers)));return u.orderedModifiers=C.filter(function(k){return k.enabled}),g(),f.update()},forceUpdate:function(){if(!v){var w=u.elements,N=w.reference,C=w.popper;if(Mo(N,C)){u.rects={reference:Ql(N,Es(C),u.options.strategy==="fixed"),popper:uo(C)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(P){return u.modifiersData[P.name]=Object.assign({},P.data)});for(var k=0;k<u.orderedModifiers.length;k++){if(u.reset===!0){u.reset=!1,k=-1;continue}var R=u.orderedModifiers[k],W=R.fn,M=R.options,S=M===void 0?{}:M,O=R.name;typeof W=="function"&&(u=W({state:u,options:S,name:O,instance:f})||u)}}}},update:ql(function(){return new Promise(function(A){f.forceUpdate(),A(u)})}),destroy:function(){m(),v=!0}};if(!Mo(r,l))return f;f.setOptions(c).then(function(A){!v&&c.onFirstUpdate&&c.onFirstUpdate(A)});function g(){u.orderedModifiers.forEach(function(A){var w=A.name,N=A.options,C=N===void 0?{}:N,k=A.effect;if(typeof k=="function"){var R=k({state:u,name:w,instance:f,options:C}),W=function(){};_.push(R||W)}})}function m(){_.forEach(function(A){return A()}),_=[]}return f}}var tc=an(),sc=[po,go,fo,co],nc=an({defaultModifiers:sc}),oc=[po,go,fo,co,fr,dr,pr,lr,_r],yo=an({defaultModifiers:oc});const vr=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Xa,afterRead:Za,afterWrite:tr,applyStyles:co,arrow:lr,auto:nn,basePlacements:as,beforeMain:Qa,beforeRead:Ga,beforeWrite:qa,bottom:je,clippingParents:Ya,computeStyles:fo,createPopper:yo,createPopperBase:tc,createPopperLite:nc,detectOverflow:qt,end:Zt,eventListeners:po,flip:dr,hide:_r,left:De,main:Ja,modifierPhases:sr,offset:fr,placements:io,popper:Ht,popperGenerator:an,popperOffsets:go,preventOverflow:pr,read:Ka,reference:Ba,right:Fe,start:xt,top:Oe,variationPlacements:Hn,viewport:ro,write:er},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const _t=new Map,yn={set(s,e,t){_t.has(s)||_t.set(s,new Map);const n=_t.get(s);if(!n.has(e)&&n.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(n.keys())[0]}.`);return}n.set(e,t)},get(s,e){return _t.has(s)&&_t.get(s).get(e)||null},remove(s,e){if(!_t.has(s))return;const t=_t.get(s);t.delete(e),t.size===0&&_t.delete(s)}},ac=1e6,rc=1e3,Bn="transitionend",hr=s=>(s&&window.CSS&&window.CSS.escape&&(s=s.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),s),ic=s=>s==null?`${s}`:Object.prototype.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase(),lc=s=>{do s+=Math.floor(Math.random()*ac);while(document.getElementById(s));return s},cc=s=>{if(!s)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(s);const n=Number.parseFloat(e),o=Number.parseFloat(t);return!n&&!o?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*rc)},mr=s=>{s.dispatchEvent(new Event(Bn))},it=s=>!s||typeof s!="object"?!1:(typeof s.jquery<"u"&&(s=s[0]),typeof s.nodeType<"u"),mt=s=>it(s)?s.jquery?s[0]:s:typeof s=="string"&&s.length>0?document.querySelector(hr(s)):null,rs=s=>{if(!it(s)||s.getClientRects().length===0)return!1;const e=getComputedStyle(s).getPropertyValue("visibility")==="visible",t=s.closest("details:not([open])");if(!t)return e;if(t!==s){const n=s.closest("summary");if(n&&n.parentNode!==t||n===null)return!1}return e},gt=s=>!s||s.nodeType!==Node.ELEMENT_NODE||s.classList.contains("disabled")?!0:typeof s.disabled<"u"?s.disabled:s.hasAttribute("disabled")&&s.getAttribute("disabled")!=="false",gr=s=>{if(!document.documentElement.attachShadow)return null;if(typeof s.getRootNode=="function"){const e=s.getRootNode();return e instanceof ShadowRoot?e:null}return s instanceof ShadowRoot?s:s.parentNode?gr(s.parentNode):null},Zs=()=>{},Ts=s=>{s.offsetHeight},yr=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,bn=[],uc=s=>{document.readyState==="loading"?(bn.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of bn)e()}),bn.push(s)):s()},Ge=()=>document.documentElement.dir==="rtl",Ze=s=>{uc(()=>{const e=yr();if(e){const t=s.NAME,n=e.fn[t];e.fn[t]=s.jQueryInterface,e.fn[t].Constructor=s,e.fn[t].noConflict=()=>(e.fn[t]=n,s.jQueryInterface)}})},Me=(s,e=[],t=s)=>typeof s=="function"?s(...e):t,br=(s,e,t=!0)=>{if(!t){Me(s);return}const o=cc(e)+5;let a=!1;const i=({target:r})=>{r===e&&(a=!0,e.removeEventListener(Bn,i),Me(s))};e.addEventListener(Bn,i),setTimeout(()=>{a||mr(e)},o)},bo=(s,e,t,n)=>{const o=s.length;let a=s.indexOf(e);return a===-1?!t&&n?s[o-1]:s[0]:(a+=t?1:-1,n&&(a=(a+o)%o),s[Math.max(0,Math.min(a,o-1))])},dc=/[^.]*(?=\..*)\.|.*/,_c=/\..*/,fc=/::\d+$/,wn={};let $o=1;const wr={mouseenter:"mouseover",mouseleave:"mouseout"},pc=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Er(s,e){return e&&`${e}::${$o++}`||s.uidEvent||$o++}function Tr(s){const e=Er(s);return s.uidEvent=e,wn[e]=wn[e]||{},wn[e]}function vc(s,e){return function t(n){return wo(n,{delegateTarget:s}),t.oneOff&&D.off(s,n.type,e),e.apply(s,[n])}}function hc(s,e,t){return function n(o){const a=s.querySelectorAll(e);for(let{target:i}=o;i&&i!==this;i=i.parentNode)for(const r of a)if(r===i)return wo(o,{delegateTarget:i}),n.oneOff&&D.off(s,o.type,e,t),t.apply(i,[o])}}function Ar(s,e,t=null){return Object.values(s).find(n=>n.callable===e&&n.delegationSelector===t)}function Nr(s,e,t){const n=typeof e=="string",o=n?t:e||t;let a=Cr(s);return pc.has(a)||(a=s),[n,o,a]}function Ro(s,e,t,n,o){if(typeof e!="string"||!s)return;let[a,i,r]=Nr(e,t,n);e in wr&&(i=(g=>function(m){if(!m.relatedTarget||m.relatedTarget!==m.delegateTarget&&!m.delegateTarget.contains(m.relatedTarget))return g.call(this,m)})(i));const l=Tr(s),c=l[r]||(l[r]={}),u=Ar(c,i,a?t:null);if(u){u.oneOff=u.oneOff&&o;return}const _=Er(i,e.replace(dc,"")),v=a?hc(s,t,i):vc(s,i);v.delegationSelector=a?t:null,v.callable=i,v.oneOff=o,v.uidEvent=_,c[_]=v,s.addEventListener(r,v,a)}function Gn(s,e,t,n,o){const a=Ar(e[t],n,o);a&&(s.removeEventListener(t,a,!!o),delete e[t][a.uidEvent])}function mc(s,e,t,n){const o=e[t]||{};for(const[a,i]of Object.entries(o))a.includes(n)&&Gn(s,e,t,i.callable,i.delegationSelector)}function Cr(s){return s=s.replace(_c,""),wr[s]||s}const D={on(s,e,t,n){Ro(s,e,t,n,!1)},one(s,e,t,n){Ro(s,e,t,n,!0)},off(s,e,t,n){if(typeof e!="string"||!s)return;const[o,a,i]=Nr(e,t,n),r=i!==e,l=Tr(s),c=l[i]||{},u=e.startsWith(".");if(typeof a<"u"){if(!Object.keys(c).length)return;Gn(s,l,i,a,o?t:null);return}if(u)for(const _ of Object.keys(l))mc(s,l,_,e.slice(1));for(const[_,v]of Object.entries(c)){const f=_.replace(fc,"");(!r||e.includes(f))&&Gn(s,l,i,v.callable,v.delegationSelector)}},trigger(s,e,t){if(typeof e!="string"||!s)return null;const n=yr(),o=Cr(e),a=e!==o;let i=null,r=!0,l=!0,c=!1;a&&n&&(i=n.Event(e,t),n(s).trigger(i),r=!i.isPropagationStopped(),l=!i.isImmediatePropagationStopped(),c=i.isDefaultPrevented());const u=wo(new Event(e,{bubbles:r,cancelable:!0}),t);return c&&u.preventDefault(),l&&s.dispatchEvent(u),u.defaultPrevented&&i&&i.preventDefault(),u}};function wo(s,e={}){for(const[t,n]of Object.entries(e))try{s[t]=n}catch{Object.defineProperty(s,t,{configurable:!0,get(){return n}})}return s}function Po(s){if(s==="true")return!0;if(s==="false")return!1;if(s===Number(s).toString())return Number(s);if(s===""||s==="null")return null;if(typeof s!="string")return s;try{return JSON.parse(decodeURIComponent(s))}catch{return s}}function En(s){return s.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const lt={setDataAttribute(s,e,t){s.setAttribute(`data-bs-${En(e)}`,t)},removeDataAttribute(s,e){s.removeAttribute(`data-bs-${En(e)}`)},getDataAttributes(s){if(!s)return{};const e={},t=Object.keys(s.dataset).filter(n=>n.startsWith("bs")&&!n.startsWith("bsConfig"));for(const n of t){let o=n.replace(/^bs/,"");o=o.charAt(0).toLowerCase()+o.slice(1,o.length),e[o]=Po(s.dataset[n])}return e},getDataAttribute(s,e){return Po(s.getAttribute(`data-bs-${En(e)}`))}};class As{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const n=it(t)?lt.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof n=="object"?n:{},...it(t)?lt.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[n,o]of Object.entries(t)){const a=e[n],i=it(a)?"element":ic(a);if(!new RegExp(o).test(i))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${n}" provided type "${i}" but expected type "${o}".`)}}}const gc="5.3.3";class Je extends As{constructor(e,t){super(),e=mt(e),e&&(this._element=e,this._config=this._getConfig(t),yn.set(this._element,this.constructor.DATA_KEY,this))}dispose(){yn.remove(this._element,this.constructor.DATA_KEY),D.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,n=!0){br(e,t,n)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return yn.get(mt(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return gc}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Tn=s=>{let e=s.getAttribute("data-bs-target");if(!e||e==="#"){let t=s.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>hr(t)).join(","):null},U={find(s,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,s))},findOne(s,e=document.documentElement){return Element.prototype.querySelector.call(e,s)},children(s,e){return[].concat(...s.children).filter(t=>t.matches(e))},parents(s,e){const t=[];let n=s.parentNode.closest(e);for(;n;)t.push(n),n=n.parentNode.closest(e);return t},prev(s,e){let t=s.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(s,e){let t=s.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(s){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,s).filter(t=>!gt(t)&&rs(t))},getSelectorFromElement(s){const e=Tn(s);return e&&U.findOne(e)?e:null},getElementFromSelector(s){const e=Tn(s);return e?U.findOne(e):null},getMultipleElementsFromSelector(s){const e=Tn(s);return e?U.find(e):[]}},rn=(s,e="hide")=>{const t=`click.dismiss${s.EVENT_KEY}`,n=s.NAME;D.on(document,t,`[data-bs-dismiss="${n}"]`,function(o){if(["A","AREA"].includes(this.tagName)&&o.preventDefault(),gt(this))return;const a=U.getElementFromSelector(this)||this.closest(`.${n}`);s.getOrCreateInstance(a)[e]()})},yc="alert",bc="bs.alert",kr=`.${bc}`,wc=`close${kr}`,Ec=`closed${kr}`,Tc="fade",Ac="show";class ln extends Je{static get NAME(){return yc}close(){if(D.trigger(this._element,wc).defaultPrevented)return;this._element.classList.remove(Ac);const t=this._element.classList.contains(Tc);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),D.trigger(this._element,Ec),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=ln.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}rn(ln,"close");Ze(ln);const Nc="button",Cc="bs.button",kc=`.${Cc}`,Ic=".data-api",Sc="active",jo='[data-bs-toggle="button"]',xc=`click${kc}${Ic}`;class cn extends Je{static get NAME(){return Nc}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Sc))}static jQueryInterface(e){return this.each(function(){const t=cn.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}D.on(document,xc,jo,s=>{s.preventDefault();const e=s.target.closest(jo);cn.getOrCreateInstance(e).toggle()});Ze(cn);const Oc="swipe",is=".bs.swipe",Dc=`touchstart${is}`,Lc=`touchmove${is}`,Mc=`touchend${is}`,$c=`pointerdown${is}`,Rc=`pointerup${is}`,Pc="touch",jc="pen",Fc="pointer-event",zc=40,Uc={endCallback:null,leftCallback:null,rightCallback:null},Wc={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Qs extends As{constructor(e,t){super(),this._element=e,!(!e||!Qs.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Uc}static get DefaultType(){return Wc}static get NAME(){return Oc}dispose(){D.off(this._element,is)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Me(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=zc)return;const t=e/this._deltaX;this._deltaX=0,t&&Me(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(D.on(this._element,$c,e=>this._start(e)),D.on(this._element,Rc,e=>this._end(e)),this._element.classList.add(Fc)):(D.on(this._element,Dc,e=>this._start(e)),D.on(this._element,Lc,e=>this._move(e)),D.on(this._element,Mc,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===jc||e.pointerType===Pc)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const Hc="carousel",Vc="bs.carousel",wt=`.${Vc}`,Ir=".data-api",Yc="ArrowLeft",Bc="ArrowRight",Gc=500,_s="next",Rt="prev",Vt="left",Vs="right",Kc=`slide${wt}`,An=`slid${wt}`,Zc=`keydown${wt}`,Qc=`mouseenter${wt}`,Jc=`mouseleave${wt}`,Xc=`dragstart${wt}`,qc=`load${wt}${Ir}`,eu=`click${wt}${Ir}`,Sr="carousel",Os="active",tu="slide",su="carousel-item-end",nu="carousel-item-start",ou="carousel-item-next",au="carousel-item-prev",xr=".active",Or=".carousel-item",ru=xr+Or,iu=".carousel-item img",lu=".carousel-indicators",cu="[data-bs-slide], [data-bs-slide-to]",uu='[data-bs-ride="carousel"]',du={[Yc]:Vs,[Bc]:Vt},_u={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},fu={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Ns extends Je{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=U.findOne(lu,this._element),this._addEventListeners(),this._config.ride===Sr&&this.cycle()}static get Default(){return _u}static get DefaultType(){return fu}static get NAME(){return Hc}next(){this._slide(_s)}nextWhenVisible(){!document.hidden&&rs(this._element)&&this.next()}prev(){this._slide(Rt)}pause(){this._isSliding&&mr(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){D.one(this._element,An,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){D.one(this._element,An,()=>this.to(e));return}const n=this._getItemIndex(this._getActive());if(n===e)return;const o=e>n?_s:Rt;this._slide(o,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&D.on(this._element,Zc,e=>this._keydown(e)),this._config.pause==="hover"&&(D.on(this._element,Qc,()=>this.pause()),D.on(this._element,Jc,()=>this._maybeEnableCycle())),this._config.touch&&Qs.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const n of U.find(iu,this._element))D.on(n,Xc,o=>o.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(Vt)),rightCallback:()=>this._slide(this._directionToOrder(Vs)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),Gc+this._config.interval))}};this._swipeHelper=new Qs(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=du[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=U.findOne(xr,this._indicatorsElement);t.classList.remove(Os),t.removeAttribute("aria-current");const n=U.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);n&&(n.classList.add(Os),n.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const n=this._getActive(),o=e===_s,a=t||bo(this._getItems(),n,o,this._config.wrap);if(a===n)return;const i=this._getItemIndex(a),r=f=>D.trigger(this._element,f,{relatedTarget:a,direction:this._orderToDirection(e),from:this._getItemIndex(n),to:i});if(r(Kc).defaultPrevented||!n||!a)return;const c=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(i),this._activeElement=a;const u=o?nu:su,_=o?ou:au;a.classList.add(_),Ts(a),n.classList.add(u),a.classList.add(u);const v=()=>{a.classList.remove(u,_),a.classList.add(Os),n.classList.remove(Os,_,u),this._isSliding=!1,r(An)};this._queueCallback(v,n,this._isAnimated()),c&&this.cycle()}_isAnimated(){return this._element.classList.contains(tu)}_getActive(){return U.findOne(ru,this._element)}_getItems(){return U.find(Or,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return Ge()?e===Vt?Rt:_s:e===Vt?_s:Rt}_orderToDirection(e){return Ge()?e===Rt?Vt:Vs:e===Rt?Vs:Vt}static jQueryInterface(e){return this.each(function(){const t=Ns.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}D.on(document,eu,cu,function(s){const e=U.getElementFromSelector(this);if(!e||!e.classList.contains(Sr))return;s.preventDefault();const t=Ns.getOrCreateInstance(e),n=this.getAttribute("data-bs-slide-to");if(n){t.to(n),t._maybeEnableCycle();return}if(lt.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});D.on(window,qc,()=>{const s=U.find(uu);for(const e of s)Ns.getOrCreateInstance(e)});Ze(Ns);const pu="collapse",vu="bs.collapse",Cs=`.${vu}`,hu=".data-api",mu=`show${Cs}`,gu=`shown${Cs}`,yu=`hide${Cs}`,bu=`hidden${Cs}`,wu=`click${Cs}${hu}`,Nn="show",Gt="collapse",Ds="collapsing",Eu="collapsed",Tu=`:scope .${Gt} .${Gt}`,Au="collapse-horizontal",Nu="width",Cu="height",ku=".collapse.show, .collapse.collapsing",Kn='[data-bs-toggle="collapse"]',Iu={parent:null,toggle:!0},Su={parent:"(null|element)",toggle:"boolean"};class bs extends Je{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const n=U.find(Kn);for(const o of n){const a=U.getSelectorFromElement(o),i=U.find(a).filter(r=>r===this._element);a!==null&&i.length&&this._triggerArray.push(o)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Iu}static get DefaultType(){return Su}static get NAME(){return pu}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(ku).filter(r=>r!==this._element).map(r=>bs.getOrCreateInstance(r,{toggle:!1}))),e.length&&e[0]._isTransitioning||D.trigger(this._element,mu).defaultPrevented)return;for(const r of e)r.hide();const n=this._getDimension();this._element.classList.remove(Gt),this._element.classList.add(Ds),this._element.style[n]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const o=()=>{this._isTransitioning=!1,this._element.classList.remove(Ds),this._element.classList.add(Gt,Nn),this._element.style[n]="",D.trigger(this._element,gu)},i=`scroll${n[0].toUpperCase()+n.slice(1)}`;this._queueCallback(o,this._element,!0),this._element.style[n]=`${this._element[i]}px`}hide(){if(this._isTransitioning||!this._isShown()||D.trigger(this._element,yu).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,Ts(this._element),this._element.classList.add(Ds),this._element.classList.remove(Gt,Nn);for(const o of this._triggerArray){const a=U.getElementFromSelector(o);a&&!this._isShown(a)&&this._addAriaAndCollapsedClass([o],!1)}this._isTransitioning=!0;const n=()=>{this._isTransitioning=!1,this._element.classList.remove(Ds),this._element.classList.add(Gt),D.trigger(this._element,bu)};this._element.style[t]="",this._queueCallback(n,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Nn)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=mt(e.parent),e}_getDimension(){return this._element.classList.contains(Au)?Nu:Cu}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Kn);for(const t of e){const n=U.getElementFromSelector(t);n&&this._addAriaAndCollapsedClass([t],this._isShown(n))}}_getFirstLevelChildren(e){const t=U.find(Tu,this._config.parent);return U.find(e,this._config.parent).filter(n=>!t.includes(n))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const n of e)n.classList.toggle(Eu,!t),n.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const n=bs.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e]()}})}}D.on(document,wu,Kn,function(s){(s.target.tagName==="A"||s.delegateTarget&&s.delegateTarget.tagName==="A")&&s.preventDefault();for(const e of U.getMultipleElementsFromSelector(this))bs.getOrCreateInstance(e,{toggle:!1}).toggle()});Ze(bs);const Fo="dropdown",xu="bs.dropdown",Dt=`.${xu}`,Eo=".data-api",Ou="Escape",zo="Tab",Du="ArrowUp",Uo="ArrowDown",Lu=2,Mu=`hide${Dt}`,$u=`hidden${Dt}`,Ru=`show${Dt}`,Pu=`shown${Dt}`,Dr=`click${Dt}${Eo}`,Lr=`keydown${Dt}${Eo}`,ju=`keyup${Dt}${Eo}`,Yt="show",Fu="dropup",zu="dropend",Uu="dropstart",Wu="dropup-center",Hu="dropdown-center",Ct='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',Vu=`${Ct}.${Yt}`,Ys=".dropdown-menu",Yu=".navbar",Bu=".navbar-nav",Gu=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",Ku=Ge()?"top-end":"top-start",Zu=Ge()?"top-start":"top-end",Qu=Ge()?"bottom-end":"bottom-start",Ju=Ge()?"bottom-start":"bottom-end",Xu=Ge()?"left-start":"right-start",qu=Ge()?"right-start":"left-start",ed="top",td="bottom",sd={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},nd={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class nt extends Je{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=U.next(this._element,Ys)[0]||U.prev(this._element,Ys)[0]||U.findOne(Ys,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return sd}static get DefaultType(){return nd}static get NAME(){return Fo}toggle(){return this._isShown()?this.hide():this.show()}show(){if(gt(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!D.trigger(this._element,Ru,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(Bu))for(const n of[].concat(...document.body.children))D.on(n,"mouseover",Zs);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Yt),this._element.classList.add(Yt),D.trigger(this._element,Pu,e)}}hide(){if(gt(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!D.trigger(this._element,Mu,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const n of[].concat(...document.body.children))D.off(n,"mouseover",Zs);this._popper&&this._popper.destroy(),this._menu.classList.remove(Yt),this._element.classList.remove(Yt),this._element.setAttribute("aria-expanded","false"),lt.removeDataAttribute(this._menu,"popper"),D.trigger(this._element,$u,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!it(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${Fo.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof vr>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;this._config.reference==="parent"?e=this._parent:it(this._config.reference)?e=mt(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=yo(e,this._menu,t)}_isShown(){return this._menu.classList.contains(Yt)}_getPlacement(){const e=this._parent;if(e.classList.contains(zu))return Xu;if(e.classList.contains(Uu))return qu;if(e.classList.contains(Wu))return ed;if(e.classList.contains(Hu))return td;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(Fu)?t?Zu:Ku:t?Ju:Qu}_detectNavbar(){return this._element.closest(Yu)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(lt.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Me(this._config.popperConfig,[e])}}_selectMenuItem({key:e,target:t}){const n=U.find(Gu,this._menu).filter(o=>rs(o));n.length&&bo(n,t,e===Uo,!n.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=nt.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===Lu||e.type==="keyup"&&e.key!==zo)return;const t=U.find(Vu);for(const n of t){const o=nt.getInstance(n);if(!o||o._config.autoClose===!1)continue;const a=e.composedPath(),i=a.includes(o._menu);if(a.includes(o._element)||o._config.autoClose==="inside"&&!i||o._config.autoClose==="outside"&&i||o._menu.contains(e.target)&&(e.type==="keyup"&&e.key===zo||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const r={relatedTarget:o._element};e.type==="click"&&(r.clickEvent=e),o._completeHide(r)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),n=e.key===Ou,o=[Du,Uo].includes(e.key);if(!o&&!n||t&&!n)return;e.preventDefault();const a=this.matches(Ct)?this:U.prev(this,Ct)[0]||U.next(this,Ct)[0]||U.findOne(Ct,e.delegateTarget.parentNode),i=nt.getOrCreateInstance(a);if(o){e.stopPropagation(),i.show(),i._selectMenuItem(e);return}i._isShown()&&(e.stopPropagation(),i.hide(),a.focus())}}D.on(document,Lr,Ct,nt.dataApiKeydownHandler);D.on(document,Lr,Ys,nt.dataApiKeydownHandler);D.on(document,Dr,nt.clearMenus);D.on(document,ju,nt.clearMenus);D.on(document,Dr,Ct,function(s){s.preventDefault(),nt.getOrCreateInstance(this).toggle()});Ze(nt);const Mr="backdrop",od="fade",Wo="show",Ho=`mousedown.bs.${Mr}`,ad={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},rd={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class $r extends As{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return ad}static get DefaultType(){return rd}static get NAME(){return Mr}show(e){if(!this._config.isVisible){Me(e);return}this._append();const t=this._getElement();this._config.isAnimated&&Ts(t),t.classList.add(Wo),this._emulateAnimation(()=>{Me(e)})}hide(e){if(!this._config.isVisible){Me(e);return}this._getElement().classList.remove(Wo),this._emulateAnimation(()=>{this.dispose(),Me(e)})}dispose(){this._isAppended&&(D.off(this._element,Ho),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(od),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=mt(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),D.on(e,Ho,()=>{Me(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){br(e,this._getElement(),this._config.isAnimated)}}const id="focustrap",ld="bs.focustrap",Js=`.${ld}`,cd=`focusin${Js}`,ud=`keydown.tab${Js}`,dd="Tab",_d="forward",Vo="backward",fd={autofocus:!0,trapElement:null},pd={autofocus:"boolean",trapElement:"element"};class Rr extends As{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return fd}static get DefaultType(){return pd}static get NAME(){return id}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),D.off(document,Js),D.on(document,cd,e=>this._handleFocusin(e)),D.on(document,ud,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,D.off(document,Js))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const n=U.focusableChildren(t);n.length===0?t.focus():this._lastTabNavDirection===Vo?n[n.length-1].focus():n[0].focus()}_handleKeydown(e){e.key===dd&&(this._lastTabNavDirection=e.shiftKey?Vo:_d)}}const Yo=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Bo=".sticky-top",Ls="padding-right",Go="margin-right";class Zn{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ls,t=>t+e),this._setElementAttributes(Yo,Ls,t=>t+e),this._setElementAttributes(Bo,Go,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ls),this._resetElementAttributes(Yo,Ls),this._resetElementAttributes(Bo,Go)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,n){const o=this.getWidth(),a=i=>{if(i!==this._element&&window.innerWidth>i.clientWidth+o)return;this._saveInitialAttribute(i,t);const r=window.getComputedStyle(i).getPropertyValue(t);i.style.setProperty(t,`${n(Number.parseFloat(r))}px`)};this._applyManipulationCallback(e,a)}_saveInitialAttribute(e,t){const n=e.style.getPropertyValue(t);n&&lt.setDataAttribute(e,t,n)}_resetElementAttributes(e,t){const n=o=>{const a=lt.getDataAttribute(o,t);if(a===null){o.style.removeProperty(t);return}lt.removeDataAttribute(o,t),o.style.setProperty(t,a)};this._applyManipulationCallback(e,n)}_applyManipulationCallback(e,t){if(it(e)){t(e);return}for(const n of U.find(e,this._element))t(n)}}const vd="modal",hd="bs.modal",Ke=`.${hd}`,md=".data-api",gd="Escape",yd=`hide${Ke}`,bd=`hidePrevented${Ke}`,Pr=`hidden${Ke}`,jr=`show${Ke}`,wd=`shown${Ke}`,Ed=`resize${Ke}`,Td=`click.dismiss${Ke}`,Ad=`mousedown.dismiss${Ke}`,Nd=`keydown.dismiss${Ke}`,Cd=`click${Ke}${md}`,Ko="modal-open",kd="fade",Zo="show",Cn="modal-static",Id=".modal.show",Sd=".modal-dialog",xd=".modal-body",Od='[data-bs-toggle="modal"]',Dd={backdrop:!0,focus:!0,keyboard:!0},Ld={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class es extends Je{constructor(e,t){super(e,t),this._dialog=U.findOne(Sd,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Zn,this._addEventListeners()}static get Default(){return Dd}static get DefaultType(){return Ld}static get NAME(){return vd}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||D.trigger(this._element,jr,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Ko),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||D.trigger(this._element,yd).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Zo),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){D.off(window,Ke),D.off(this._dialog,Ke),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new $r({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Rr({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=U.findOne(xd,this._dialog);t&&(t.scrollTop=0),Ts(this._element),this._element.classList.add(Zo);const n=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,D.trigger(this._element,wd,{relatedTarget:e})};this._queueCallback(n,this._dialog,this._isAnimated())}_addEventListeners(){D.on(this._element,Nd,e=>{if(e.key===gd){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),D.on(window,Ed,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),D.on(this._element,Ad,e=>{D.one(this._element,Td,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Ko),this._resetAdjustments(),this._scrollBar.reset(),D.trigger(this._element,Pr)})}_isAnimated(){return this._element.classList.contains(kd)}_triggerBackdropTransition(){if(D.trigger(this._element,bd).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,n=this._element.style.overflowY;n==="hidden"||this._element.classList.contains(Cn)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Cn),this._queueCallback(()=>{this._element.classList.remove(Cn),this._queueCallback(()=>{this._element.style.overflowY=n},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),n=t>0;if(n&&!e){const o=Ge()?"paddingLeft":"paddingRight";this._element.style[o]=`${t}px`}if(!n&&e){const o=Ge()?"paddingRight":"paddingLeft";this._element.style[o]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const n=es.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof n[e]>"u")throw new TypeError(`No method named "${e}"`);n[e](t)}})}}D.on(document,Cd,Od,function(s){const e=U.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&s.preventDefault(),D.one(e,jr,o=>{o.defaultPrevented||D.one(e,Pr,()=>{rs(this)&&this.focus()})});const t=U.findOne(Id);t&&es.getInstance(t).hide(),es.getOrCreateInstance(e).toggle(this)});rn(es);Ze(es);const Md="offcanvas",$d="bs.offcanvas",ut=`.${$d}`,Fr=".data-api",Rd=`load${ut}${Fr}`,Pd="Escape",Qo="show",Jo="showing",Xo="hiding",jd="offcanvas-backdrop",zr=".offcanvas.show",Fd=`show${ut}`,zd=`shown${ut}`,Ud=`hide${ut}`,qo=`hidePrevented${ut}`,Ur=`hidden${ut}`,Wd=`resize${ut}`,Hd=`click${ut}${Fr}`,Vd=`keydown.dismiss${ut}`,Yd='[data-bs-toggle="offcanvas"]',Bd={backdrop:!0,keyboard:!0,scroll:!1},Gd={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class yt extends Je{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Bd}static get DefaultType(){return Gd}static get NAME(){return Md}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||D.trigger(this._element,Fd,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Zn().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Jo);const n=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Qo),this._element.classList.remove(Jo),D.trigger(this._element,zd,{relatedTarget:e})};this._queueCallback(n,this._element,!0)}hide(){if(!this._isShown||D.trigger(this._element,Ud).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Xo),this._backdrop.hide();const t=()=>{this._element.classList.remove(Qo,Xo),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Zn().reset(),D.trigger(this._element,Ur)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){D.trigger(this._element,qo);return}this.hide()},t=!!this._config.backdrop;return new $r({className:jd,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new Rr({trapElement:this._element})}_addEventListeners(){D.on(this._element,Vd,e=>{if(e.key===Pd){if(this._config.keyboard){this.hide();return}D.trigger(this._element,qo)}})}static jQueryInterface(e){return this.each(function(){const t=yt.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}D.on(document,Hd,Yd,function(s){const e=U.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&s.preventDefault(),gt(this))return;D.one(e,Ur,()=>{rs(this)&&this.focus()});const t=U.findOne(zr);t&&t!==e&&yt.getInstance(t).hide(),yt.getOrCreateInstance(e).toggle(this)});D.on(window,Rd,()=>{for(const s of U.find(zr))yt.getOrCreateInstance(s).show()});D.on(window,Wd,()=>{for(const s of U.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(s).position!=="fixed"&&yt.getOrCreateInstance(s).hide()});rn(yt);Ze(yt);const Kd=/^aria-[\w-]*$/i,Wr={"*":["class","dir","id","lang","role",Kd],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Zd=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Qd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Jd=(s,e)=>{const t=s.nodeName.toLowerCase();return e.includes(t)?Zd.has(t)?!!Qd.test(s.nodeValue):!0:e.filter(n=>n instanceof RegExp).some(n=>n.test(t))};function Xd(s,e,t){if(!s.length)return s;if(t&&typeof t=="function")return t(s);const o=new window.DOMParser().parseFromString(s,"text/html"),a=[].concat(...o.body.querySelectorAll("*"));for(const i of a){const r=i.nodeName.toLowerCase();if(!Object.keys(e).includes(r)){i.remove();continue}const l=[].concat(...i.attributes),c=[].concat(e["*"]||[],e[r]||[]);for(const u of l)Jd(u,c)||i.removeAttribute(u.nodeName)}return o.body.innerHTML}const qd="TemplateFactory",e_={allowList:Wr,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},t_={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},s_={entry:"(string|element|function|null)",selector:"(string|element)"};class n_ extends As{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return e_}static get DefaultType(){return t_}static get NAME(){return qd}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[o,a]of Object.entries(this._config.content))this._setContent(e,a,o);const t=e.children[0],n=this._resolvePossibleFunction(this._config.extraClass);return n&&t.classList.add(...n.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,n]of Object.entries(e))super._typeCheckConfig({selector:t,entry:n},s_)}_setContent(e,t,n){const o=U.findOne(n,e);if(o){if(t=this._resolvePossibleFunction(t),!t){o.remove();return}if(it(t)){this._putElementInTemplate(mt(t),o);return}if(this._config.html){o.innerHTML=this._maybeSanitize(t);return}o.textContent=t}}_maybeSanitize(e){return this._config.sanitize?Xd(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Me(e,[this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const o_="tooltip",a_=new Set(["sanitize","allowList","sanitizeFn"]),kn="fade",r_="modal",Ms="show",i_=".tooltip-inner",ea=`.${r_}`,ta="hide.bs.modal",fs="hover",In="focus",l_="click",c_="manual",u_="hide",d_="hidden",__="show",f_="shown",p_="inserted",v_="click",h_="focusin",m_="focusout",g_="mouseenter",y_="mouseleave",b_={AUTO:"auto",TOP:"top",RIGHT:Ge()?"left":"right",BOTTOM:"bottom",LEFT:Ge()?"right":"left"},w_={allowList:Wr,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},E_={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ls extends Je{constructor(e,t){if(typeof vr>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return w_}static get DefaultType(){return E_}static get NAME(){return o_}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),D.off(this._element.closest(ea),ta,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=D.trigger(this._element,this.constructor.eventName(__)),n=(gr(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!n)return;this._disposePopper();const o=this._getTipElement();this._element.setAttribute("aria-describedby",o.getAttribute("id"));const{container:a}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(a.append(o),D.trigger(this._element,this.constructor.eventName(p_))),this._popper=this._createPopper(o),o.classList.add(Ms),"ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))D.on(r,"mouseover",Zs);const i=()=>{D.trigger(this._element,this.constructor.eventName(f_)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(i,this.tip,this._isAnimated())}hide(){if(!this._isShown()||D.trigger(this._element,this.constructor.eventName(u_)).defaultPrevented)return;if(this._getTipElement().classList.remove(Ms),"ontouchstart"in document.documentElement)for(const o of[].concat(...document.body.children))D.off(o,"mouseover",Zs);this._activeTrigger[l_]=!1,this._activeTrigger[In]=!1,this._activeTrigger[fs]=!1,this._isHovered=null;const n=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),D.trigger(this._element,this.constructor.eventName(d_)))};this._queueCallback(n,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(kn,Ms),t.classList.add(`bs-${this.constructor.NAME}-auto`);const n=lc(this.constructor.NAME).toString();return t.setAttribute("id",n),this._isAnimated()&&t.classList.add(kn),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new n_({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[i_]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(kn)}_isShown(){return this.tip&&this.tip.classList.contains(Ms)}_createPopper(e){const t=Me(this._config.placement,[this,e,this._element]),n=b_[t.toUpperCase()];return yo(this._element,e,this._getPopperConfig(n))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Me(e,[this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:n=>{this._getTipElement().setAttribute("data-popper-placement",n.state.placement)}}]};return{...t,...Me(this._config.popperConfig,[t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")D.on(this._element,this.constructor.eventName(v_),this._config.selector,n=>{this._initializeOnDelegatedTarget(n).toggle()});else if(t!==c_){const n=t===fs?this.constructor.eventName(g_):this.constructor.eventName(h_),o=t===fs?this.constructor.eventName(y_):this.constructor.eventName(m_);D.on(this._element,n,this._config.selector,a=>{const i=this._initializeOnDelegatedTarget(a);i._activeTrigger[a.type==="focusin"?In:fs]=!0,i._enter()}),D.on(this._element,o,this._config.selector,a=>{const i=this._initializeOnDelegatedTarget(a);i._activeTrigger[a.type==="focusout"?In:fs]=i._element.contains(a.relatedTarget),i._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},D.on(this._element.closest(ea),ta,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=lt.getDataAttributes(this._element);for(const n of Object.keys(t))a_.has(n)&&delete t[n];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:mt(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,n]of Object.entries(this._config))this.constructor.Default[t]!==n&&(e[t]=n);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=ls.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ze(ls);const T_="popover",A_=".popover-header",N_=".popover-body",C_={...ls.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},k_={...ls.DefaultType,content:"(null|string|element|function)"};class To extends ls{static get Default(){return C_}static get DefaultType(){return k_}static get NAME(){return T_}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[A_]:this._getTitle(),[N_]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=To.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}Ze(To);const I_="scrollspy",S_="bs.scrollspy",Ao=`.${S_}`,x_=".data-api",O_=`activate${Ao}`,sa=`click${Ao}`,D_=`load${Ao}${x_}`,L_="dropdown-item",Pt="active",M_='[data-bs-spy="scroll"]',Sn="[href]",$_=".nav, .list-group",na=".nav-link",R_=".nav-item",P_=".list-group-item",j_=`${na}, ${R_} > ${na}, ${P_}`,F_=".dropdown",z_=".dropdown-toggle",U_={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},W_={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class un extends Je{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return U_}static get DefaultType(){return W_}static get NAME(){return I_}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=mt(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(D.off(this._config.target,sa),D.on(this._config.target,sa,Sn,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const n=this._rootElement||window,o=t.offsetTop-this._element.offsetTop;if(n.scrollTo){n.scrollTo({top:o,behavior:"smooth"});return}n.scrollTop=o}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=i=>this._targetLinks.get(`#${i.target.id}`),n=i=>{this._previousScrollData.visibleEntryTop=i.target.offsetTop,this._process(t(i))},o=(this._rootElement||document.documentElement).scrollTop,a=o>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=o;for(const i of e){if(!i.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(i));continue}const r=i.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(a&&r){if(n(i),!o)return;continue}!a&&!r&&n(i)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=U.find(Sn,this._config.target);for(const t of e){if(!t.hash||gt(t))continue;const n=U.findOne(decodeURI(t.hash),this._element);rs(n)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,n))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(Pt),this._activateParents(e),D.trigger(this._element,O_,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(L_)){U.findOne(z_,e.closest(F_)).classList.add(Pt);return}for(const t of U.parents(e,$_))for(const n of U.prev(t,j_))n.classList.add(Pt)}_clearActiveClass(e){e.classList.remove(Pt);const t=U.find(`${Sn}.${Pt}`,e);for(const n of t)n.classList.remove(Pt)}static jQueryInterface(e){return this.each(function(){const t=un.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}D.on(window,D_,()=>{for(const s of U.find(M_))un.getOrCreateInstance(s)});Ze(un);const H_="tab",V_="bs.tab",Lt=`.${V_}`,Y_=`hide${Lt}`,B_=`hidden${Lt}`,G_=`show${Lt}`,K_=`shown${Lt}`,Z_=`click${Lt}`,Q_=`keydown${Lt}`,J_=`load${Lt}`,X_="ArrowLeft",oa="ArrowRight",q_="ArrowUp",aa="ArrowDown",xn="Home",ra="End",kt="active",ia="fade",On="show",ef="dropdown",Hr=".dropdown-toggle",tf=".dropdown-menu",Dn=`:not(${Hr})`,sf='.list-group, .nav, [role="tablist"]',nf=".nav-item, .list-group-item",of=`.nav-link${Dn}, .list-group-item${Dn}, [role="tab"]${Dn}`,Vr='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ln=`${of}, ${Vr}`,af=`.${kt}[data-bs-toggle="tab"], .${kt}[data-bs-toggle="pill"], .${kt}[data-bs-toggle="list"]`;class ts extends Je{constructor(e){super(e),this._parent=this._element.closest(sf),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),D.on(this._element,Q_,t=>this._keydown(t)))}static get NAME(){return H_}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),n=t?D.trigger(t,Y_,{relatedTarget:e}):null;D.trigger(e,G_,{relatedTarget:t}).defaultPrevented||n&&n.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(kt),this._activate(U.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add(On);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),D.trigger(e,K_,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(ia))}_deactivate(e,t){if(!e)return;e.classList.remove(kt),e.blur(),this._deactivate(U.getElementFromSelector(e));const n=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove(On);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),D.trigger(e,B_,{relatedTarget:t})};this._queueCallback(n,e,e.classList.contains(ia))}_keydown(e){if(![X_,oa,q_,aa,xn,ra].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(o=>!gt(o));let n;if([xn,ra].includes(e.key))n=t[e.key===xn?0:t.length-1];else{const o=[oa,aa].includes(e.key);n=bo(t,e.target,o,!0)}n&&(n.focus({preventScroll:!0}),ts.getOrCreateInstance(n).show())}_getChildren(){return U.find(Ln,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const n of t)this._setInitialAttributesOnChild(n)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),n=this._getOuterElement(e);e.setAttribute("aria-selected",t),n!==e&&this._setAttributeIfNotExists(n,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=U.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const n=this._getOuterElement(e);if(!n.classList.contains(ef))return;const o=(a,i)=>{const r=U.findOne(a,n);r&&r.classList.toggle(i,t)};o(Hr,kt),o(tf,On),n.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,n){e.hasAttribute(t)||e.setAttribute(t,n)}_elemIsActive(e){return e.classList.contains(kt)}_getInnerElement(e){return e.matches(Ln)?e:U.findOne(Ln,e)}_getOuterElement(e){return e.closest(nf)||e}static jQueryInterface(e){return this.each(function(){const t=ts.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}D.on(document,Z_,Vr,function(s){["A","AREA"].includes(this.tagName)&&s.preventDefault(),!gt(this)&&ts.getOrCreateInstance(this).show()});D.on(window,J_,()=>{for(const s of U.find(af))ts.getOrCreateInstance(s)});Ze(ts);const rf="toast",lf="bs.toast",Et=`.${lf}`,cf=`mouseover${Et}`,uf=`mouseout${Et}`,df=`focusin${Et}`,_f=`focusout${Et}`,ff=`hide${Et}`,pf=`hidden${Et}`,vf=`show${Et}`,hf=`shown${Et}`,mf="fade",la="hide",$s="show",Rs="showing",gf={animation:"boolean",autohide:"boolean",delay:"number"},yf={animation:!0,autohide:!0,delay:5e3};class dn extends Je{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return yf}static get DefaultType(){return gf}static get NAME(){return rf}show(){if(D.trigger(this._element,vf).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(mf);const t=()=>{this._element.classList.remove(Rs),D.trigger(this._element,hf),this._maybeScheduleHide()};this._element.classList.remove(la),Ts(this._element),this._element.classList.add($s,Rs),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||D.trigger(this._element,ff).defaultPrevented)return;const t=()=>{this._element.classList.add(la),this._element.classList.remove(Rs,$s),D.trigger(this._element,pf)};this._element.classList.add(Rs),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove($s),super.dispose()}isShown(){return this._element.classList.contains($s)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const n=e.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){D.on(this._element,cf,e=>this._onInteraction(e,!0)),D.on(this._element,uf,e=>this._onInteraction(e,!1)),D.on(this._element,df,e=>this._onInteraction(e,!0)),D.on(this._element,_f,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=dn.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}rn(dn);Ze(dn);/*!
 * pinia v3.0.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Yr;const _n=s=>Yr=s,Br=Symbol();function Qn(s){return s&&typeof s=="object"&&Object.prototype.toString.call(s)==="[object Object]"&&typeof s.toJSON!="function"}var ys;(function(s){s.direct="direct",s.patchObject="patch object",s.patchFunction="patch function"})(ys||(ys={}));function bf(){const s=Ra(!0),e=s.run(()=>E({}));let t=[],n=[];const o=Pa({install(a){_n(o),o._a=a,a.provide(Br,o),a.config.globalProperties.$pinia=o,n.forEach(i=>t.push(i)),n=[]},use(a){return this._a?t.push(a):n.push(a),this},_p:t,_a:null,_e:s,_s:new Map,state:e});return o}const Gr=()=>{};function ca(s,e,t,n=Gr){s.push(e);const o=()=>{const a=s.indexOf(e);a>-1&&(s.splice(a,1),n())};return!t&&ai()&&ri(o),o}function jt(s,...e){s.slice().forEach(t=>{t(...e)})}const wf=s=>s(),ua=Symbol(),Mn=Symbol();function Jn(s,e){s instanceof Map&&e instanceof Map?e.forEach((t,n)=>s.set(n,t)):s instanceof Set&&e instanceof Set&&e.forEach(s.add,s);for(const t in e){if(!e.hasOwnProperty(t))continue;const n=e[t],o=s[t];Qn(o)&&Qn(n)&&s.hasOwnProperty(t)&&!Gs(n)&&!ja(n)?s[t]=Jn(o,n):s[t]=n}return s}const Ef=Symbol();function Tf(s){return!Qn(s)||!s.hasOwnProperty(Ef)}const{assign:pt}=Object;function Af(s){return!!(Gs(s)&&s.effect)}function Nf(s,e,t,n){const{state:o,actions:a,getters:i}=e,r=t.state.value[s];let l;function c(){r||(t.state.value[s]=o?o():{});const u=li(t.state.value[s]);return pt(u,a,Object.keys(i||{}).reduce((_,v)=>(_[v]=Pa(Q(()=>{_n(t);const f=t._s.get(s);return i[v].call(f,f)})),_),{}))}return l=Kr(s,c,e,t,n,!0),l}function Kr(s,e,t={},n,o,a){let i;const r=pt({actions:{}},t),l={deep:!0};let c,u,_=[],v=[],f;const g=n.state.value[s];!a&&!g&&(n.state.value[s]={}),E({});let m;function A(S){let O;c=u=!1,typeof S=="function"?(S(n.state.value[s]),O={type:ys.patchFunction,storeId:s,events:f}):(Jn(n.state.value[s],S),O={type:ys.patchObject,payload:S,storeId:s,events:f});const P=m=Symbol();ii().then(()=>{m===P&&(c=!0)}),u=!0,jt(_,O,n.state.value[s])}const w=a?function(){const{state:O}=t,P=O?O():{};this.$patch(te=>{pt(te,P)})}:Gr;function N(){i.stop(),_=[],v=[],n._s.delete(s)}const C=(S,O="")=>{if(ua in S)return S[Mn]=O,S;const P=function(){_n(n);const te=Array.from(arguments),le=[],ce=[];function Y(B){le.push(B)}function z(B){ce.push(B)}jt(v,{args:te,name:P[Mn],store:R,after:Y,onError:z});let X;try{X=S.apply(this&&this.$id===s?this:R,te)}catch(B){throw jt(ce,B),B}return X instanceof Promise?X.then(B=>(jt(le,B),B)).catch(B=>(jt(ce,B),Promise.reject(B))):(jt(le,X),X)};return P[ua]=!0,P[Mn]=O,P},k={_p:n,$id:s,$onAction:ca.bind(null,v),$patch:A,$reset:w,$subscribe(S,O={}){const P=ca(_,S,O.detached,()=>te()),te=i.run(()=>Nt(()=>n.state.value[s],le=>{(O.flush==="sync"?u:c)&&S({storeId:s,type:ys.direct,events:f},le)},pt({},l,O)));return P},$dispose:N},R=ni(k);n._s.set(s,R);const M=(n._a&&n._a.runWithContext||wf)(()=>n._e.run(()=>(i=Ra()).run(()=>e({action:C}))));for(const S in M){const O=M[S];if(Gs(O)&&!Af(O)||ja(O))a||(g&&Tf(O)&&(Gs(O)?O.value=g[S]:Jn(O,g[S])),n.state.value[s][S]=O);else if(typeof O=="function"){const P=C(O,S);M[S]=P,r.actions[S]=O}}return pt(R,M),pt(oi(R),M),Object.defineProperty(R,"$state",{get:()=>n.state.value[s],set:S=>{A(O=>{pt(O,S)})}}),n._p.forEach(S=>{pt(R,i.run(()=>S({store:R,app:n._a,pinia:n,options:r})))}),g&&a&&t.hydrate&&t.hydrate(R.$state,g),c=!0,u=!0,R}/*! #__NO_SIDE_EFFECTS__ */function cs(s,e,t){let n;const o=typeof e=="function";n=o?t:e;function a(i,r){const l=ui();return i=i||(l?ci(Br,null):null),i&&_n(i),i=Yr,i._s.has(s)||(o?Kr(s,e,n,i):Nf(s,n,i)),i._s.get(s)}return a.$id=s,a}const Cf=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,kf=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,If=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Sf(s,e){if(s==="__proto__"||s==="constructor"&&e&&typeof e=="object"&&"prototype"in e){xf(s);return}return e}function xf(s){console.warn(`[destr] Dropping "${s}" key to prevent prototype pollution.`)}function Of(s,e={}){if(typeof s!="string")return s;const t=s.trim();if(s[0]==='"'&&s.endsWith('"')&&!s.includes("\\"))return t.slice(1,-1);if(t.length<=9){const n=t.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!If.test(s)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return s}try{if(Cf.test(s)||kf.test(s)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(s,Sf)}return JSON.parse(s)}catch(n){if(e.strict)throw n;return s}}function Df(s,e){if(s==null)return;let t=s;for(let n=0;n<e.length;n++){if(t==null||t[e[n]]==null)return;t=t[e[n]]}return t}function No(s,e,t){if(t.length===0)return e;const n=t[0];return t.length>1&&(e=No(typeof s!="object"||s===null||!Object.prototype.hasOwnProperty.call(s,n)?Number.isInteger(Number(t[1]))?[]:{}:s[n],e,Array.prototype.slice.call(t,1))),Number.isInteger(Number(n))&&Array.isArray(s)?s.slice()[n]:Object.assign({},s,{[n]:e})}function Zr(s,e){if(s==null||e.length===0)return s;if(e.length===1){if(s==null)return s;if(Number.isInteger(e[0])&&Array.isArray(s))return Array.prototype.slice.call(s,0).splice(e[0],1);const t={};for(const n in s)t[n]=s[n];return delete t[e[0]],t}if(s[e[0]]==null){if(Number.isInteger(e[0])&&Array.isArray(s))return Array.prototype.concat.call([],s);const t={};for(const n in s)t[n]=s[n];return t}return No(s,Zr(s[e[0]],Array.prototype.slice.call(e,1)),[e[0]])}function Qr(s,e){return e.map(t=>t.split(".")).map(t=>[t,Df(s,t)]).filter(t=>t[1]!==void 0).reduce((t,n)=>No(t,n[1],n[0]),{})}function Jr(s,e){return e.map(t=>t.split(".")).reduce((t,n)=>Zr(t,n),s)}function da(s,{storage:e,serializer:t,key:n,debug:o,pick:a,omit:i,beforeHydrate:r,afterHydrate:l},c,u=!0){try{u&&(r==null||r(c));const _=e.getItem(n);if(_){const v=t.deserialize(_),f=a?Qr(v,a):v,g=i?Jr(f,i):f;s.$patch(g)}u&&(l==null||l(c))}catch(_){o&&console.error("[pinia-plugin-persistedstate]",_)}}function _a(s,{storage:e,serializer:t,key:n,debug:o,pick:a,omit:i}){try{const r=a?Qr(s,a):s,l=i?Jr(r,i):r,c=t.serialize(l);e.setItem(n,c)}catch(r){o&&console.error("[pinia-plugin-persistedstate]",r)}}function Lf(s,e,t){const{pinia:n,store:o,options:{persist:a=t}}=s;if(!a)return;if(!(o.$id in n.state.value)){const l=n._s.get(o.$id.replace("__hot:",""));l&&Promise.resolve().then(()=>l.$persist());return}const r=(Array.isArray(a)?a:a===!0?[{}]:[a]).map(e);o.$hydrate=({runHooks:l=!0}={})=>{r.forEach(c=>{da(o,c,s,l)})},o.$persist=()=>{r.forEach(l=>{_a(o.$state,l)})},r.forEach(l=>{da(o,l,s),o.$subscribe((c,u)=>_a(u,l),{detached:!0})})}function Mf(s={}){return function(e){Lf(e,t=>({key:(s.key?s.key:n=>n)(t.key??e.store.$id),debug:t.debug??s.debug??!1,serializer:t.serializer??s.serializer??{serialize:n=>JSON.stringify(n),deserialize:n=>Of(n)},storage:t.storage??s.storage??window.localStorage,beforeHydrate:t.beforeHydrate,afterHydrate:t.afterHydrate,pick:t.pick,omit:t.omit}),s.auto??!1)}}var $f=Mf();const us=cs("messages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=E([]),t=E(new xe([],s)),n=E(!1),o=structuredClone(s);o.keys=[];const a=structuredClone(s);a.keys=["name","type"];const i=E(new xe([],o)),r=E(new xe([],o)),l=E(new xe([],o)),c=E(new xe([],o)),u=E(new xe([],a)),_=E(new xe([],a)),v=E(new xe([],a));function f(C){n.value=C}function g(C){const k=C.split("/");k.length===3&&e.value.push(k[0]+"."+k[1]+"."+k[2])}function m(C){c.value.add(C+"_Request"),c.value.add(C+"_Response")}function A(C){c.value.add(C+"_Goal"),c.value.add(C+"_Result"),c.value.add(C+"_Feedback")}function w(C){e.value=[],i.value.setCollection(C.topics),r.value.setCollection(C.services),l.value.setCollection(C.actions),c.value.setCollection(C.topics),C.services.forEach(m),C.actions.forEach(A),C.topics.forEach(g),t.value.setCollection(e.value)}function N(C){u.value.setCollection(C.topics),_.value.setCollection(C.services),v.value.setCollection(C.actions)}return{messages:e,messages_fuse:t,messages_available:n,ros_topic_type_fuse:i,ros_service_type_fuse:r,ros_action_type_fuse:l,ros_all_messages_fuse:c,ros_topic_name_fuse:u,ros_service_name_fuse:_,ros_action_name_fuse:v,areMessagesAvailable:f,updateAvailableMessages:w,updateMessageChannels:N}}),fn=cs("packages",()=>{const s={shouldSort:!0,threshold:.3,location:0,distance:100,maxPatternLength:200,minMatchCharLength:1,keys:["package","path"],isCaseSensitive:!1,ignoreLocation:!0,useExtendedSearch:!0},e=ne([]),t=ne(new xe([],s)),n=E(!1);function o(i){n.value=i}function a(i){e.value=i,t.value=new xe(e.value,s)}return{packages:e,packages_fuse:t,packages_available:n,arePackagesAvailable:o,updateAvailablePackages:a}}),ds=cs("nodes",()=>{const s=ve(),e={shouldSort:!0,threshold:.3,location:0,distance:20,maxPatternLength:100,minMatchCharLength:1,keys:["node_class","node_type","module","tags"],ignoreLocation:!0,useExtendedSearch:!0},t=ne([]),n=ne(new xe([],e)),o=ne([]);function a(c){t.value=c;const u=c.map(_=>(_.max_children<0?_.node_type="Flow control":_.max_children>0?_.node_type="Decorator":_.node_type="Leaf",_));n.value=new xe(u,e)}function i(c){if(c===""){o.value=[];return}o.value=n.value.search(c).map(u=>u.item)}function r(){o.value=[]}function l(c){s.get_available_nodes_service.callService({node_modules:[c]},u=>{u.success?(a(u.available_nodes),L({title:"Updated available BT nodes!",type:"success"})):L({title:"Failed to update available BT nodes!",text:u.error_message,type:"error"})},u=>{L({title:"Failed to call GetAvailableNodes service!",text:u,type:"error"})})}return{nodes:t,nodes_fuse:n,filtered_nodes:o,updateAvailableNode:a,filterNodes:i,clearFilteredNodes:r,getNodes:l}});var Ee=(s=>(s[s.DO_NOTHING=0]="DO_NOTHING",s[s.TICK_ONCE=1]="TICK_ONCE",s[s.TICK_PERIODICALLY=2]="TICK_PERIODICALLY",s[s.TICK_UNTIL_RESULT=3]="TICK_UNTIL_RESULT",s[s.STOP=4]="STOP",s[s.RESET=5]="RESET",s[s.SHUTDOWN=6]="SHUTDOWN",s[s.SETUP_AND_SHUTDOWN=7]="SETUP_AND_SHUTDOWN",s))(Ee||{}),Xs=(s=>(s.DARK="darkmode",s.LIGHT="lightmode",s))(Xs||{});const _e=cs("editor",()=>{const s=E([]),e=E([]),t=E([]),n=E(!1),o=E(!1),a=E(!1),i=E(new Set);let r=0;const l=200,c=E(),u=E(),_=E(),v=Q(()=>c.value!==void 0||u.value!==void 0||_.value!==void 0),f=E(!0),g=E("darkmode"),m=E(""),A=Q(()=>m.value!==""),w=Q(()=>({structure:s.value.find(q=>q.tree_id===m.value),state:e.value.find(q=>q.tree_id===m.value),data:t.value.find(q=>q.tree_id===m.value)})),N=E(""),C=E(void 0),k=E(!1);function R(q){n.value=q}function W(q){a.value=q}function M(q){i.value.add(q)}function S(q){i.value.delete(q)}function O(q){r=setTimeout(()=>c.value=q,l)}function P(q){r=setTimeout(()=>u.value=q,l)}function te(q){_.value=q}function le(){clearTimeout(r),c.value=void 0,u.value=void 0,_.value=void 0}function ce(){_.value=void 0}function Y(q){f.value=q}function z(){switch(g.value){case"darkmode":g.value="lightmode";return;case"lightmode":g.value="darkmode";return;default:g.value="darkmode";return}}function X(q){q.startsWith("file://")?N.value=q:N.value="file://"+q}function B(){N.value=""}function fe(q){C.value=q}function ye(){C.value=void 0}return{selected_tree:m,has_selected_subtree:A,current_tree:w,publish_subtrees:n,publish_data:o,debug:a,tree_structure_list:s,tree_state_list:e,tree_data_list:t,running_commands:i,dragging_new_node:c,dragging_existing_node:u,data_edge_endpoint:_,is_dragging:v,is_layer_mode:k,runNewCommand:M,removeRunningCommand:S,enableSubtreePublishing:R,enableDebugging:W,startDraggingNewNode:O,startDraggingExistingNode:P,startDrawingDataEdge:te,stopDragging:le,stopDrawingDataEdge:ce,show_data_graph:f,enableShowDataGraph:Y,skin:g,cycleEditorSkin:z,selected_edge:C,selectEdge:fe,unselectEdge:ye,quick_save_location:N,setQuickSaveLocation:X,resetQuickSaveLocation:B}},{persist:{pick:["publish_data","publish_subtrees","quick_save_location"],storage:sessionStorage}}),ve=cs("ros",()=>{const s=us(),e=fn(),t=ds(),n=_e(),o=ne(new bi({})),a=E(!1),i=E("ws://"+window.location.hostname+":9090"),r=E(""),l=E(["/"]),c=ne(new G({ros:o.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"})),u=ne(new G({ros:o.value,name:r.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"})),_=ne(new G({ros:o.value,name:r.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"})),v=ne(new G({ros:o.value,name:r.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"})),f=ne(new G({ros:o.value,name:r.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"})),g=ne(new G({ros:o.value,name:r.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"})),m=ne(new G({ros:o.value,name:r.value+"debug/set_publish_data",serviceType:"std_srvs/srv/SetBool"})),A=ne(new We({ros:o.value,name:r.value+"tree_structure_list",messageType:"ros_bt_py_interfaces/msg/TreeStructureList",latch:!0,reconnect_on_close:!0})),w=ne(new We({ros:o.value,name:r.value+"tree_state_list",messageType:"ros_bt_py_interfaces/msg/TreeStateList",latch:!0,reconnect_on_close:!0})),N=ne(new We({ros:o.value,name:r.value+"tree_data_list",messageType:"ros_bt_py_interfaces/msg/TreeDataList",latch:!0,reconnect_on_close:!0})),C=ne(new We({ros:o.value,name:r.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0})),k=ne(new We({ros:o.value,name:r.value+"message_types",messageType:"ros_bt_py_interfaces/msg/MessageTypes",latch:!0,reconnect_on_close:!0})),R=ne(new We({ros:o.value,name:r.value+"message_channels",messageType:"ros_bt_py_interfaces/msg/MessageChannels",latch:!0,reconnect_on_close:!0})),W=ne(new G({ros:o.value,name:r.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"})),M=ne(new G({ros:o.value,name:r.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"})),S=ne(new G({ros:o.value,name:r.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),O=ne(new G({ros:o.value,name:r.value+"remove_node",serviceType:"ros_bt_pt_interfaces/srv/RemoveNode"})),P=ne(new G({ros:o.value,name:r.value+"replace_node",serviceType:"ros_bt_pt_interfaces/srv/ReplaceNode"})),te=ne(new G({ros:o.value,name:r.value+"set_options",serviceType:"ros_bt_pt_interfaces/srv/SetOptions"})),le=ne(new G({ros:o.value,name:r.value+"morph_node",serviceType:"ros_bt_pt_interfaces/srv/MorphNode"})),ce=ne(new G({ros:o.value,name:r.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"})),Y=ne(new G({ros:o.value,name:r.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"})),z=ne(new G({ros:o.value,name:r.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"})),X=ne(new G({ros:o.value,name:r.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"})),B=ne(new G({ros:o.value,name:r.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"})),fe=ne(new G({ros:o.value,name:r.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"})),ye=ne(new G({ros:o.value,name:r.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"})),q=ne(new G({ros:o.value,name:r.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"})),Xe=ne(new G({ros:o.value,name:r.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"})),Re=ne(new G({ros:o.value,name:r.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"}));o.value.on("connection",()=>{ke()}),o.value.on("close",()=>{be()}),o.value.on("error",()=>{L({title:"ROS connection error!",type:"error"})});function Ue(){A.value.unsubscribe(),A.value.removeAllListeners(),A.value=new We({ros:o.value,name:r.value+"tree_structure_list",messageType:"ros_bt_py_interfaces/msg/TreeStructureList",latch:!0,reconnect_on_close:!0}),w.value.unsubscribe(),w.value.removeAllListeners(),w.value=new We({ros:o.value,name:r.value+"tree_state_list",messageType:"ros_bt_py_interfaces/msg/TreeStateList",latch:!0,reconnect_on_close:!0}),N.value.unsubscribe(),N.value.removeAllListeners(),N.value=new We({ros:o.value,name:r.value+"tree_data_list",messageType:"ros_bt_py_interfaces/msg/TreeDataList",latch:!0,reconnect_on_close:!0}),k.value.unsubscribe(),k.value.removeAllListeners(),k.value=new We({ros:o.value,name:r.value+"message_types",messageType:"ros_bt_py_interfaces/msg/MessageTypes",latch:!0,reconnect_on_close:!0}),C.value.unsubscribe(),C.value.removeAllListeners(),C.value=new We({ros:o.value,name:r.value+"packages",messageType:"ros_bt_py_interfaces/msg/Packages",latch:!0,reconnect_on_close:!0}),R.value.unsubscribe(),R.value.removeAllListeners(),R.value=new We({ros:o.value,name:r.value+"message_channels",messageType:"ros_bt_py_interfaces/msg/MessageChannels",latch:!0,reconnect_on_close:!0}),g.value=new G({ros:o.value,name:r.value+"debug/set_publish_subtrees",serviceType:"std_srvs/srv/SetBool"}),m.value=new G({ros:o.value,name:r.value+"debug/set_publish_data",serviceType:"std_srvs/srv/SetBool"}),c.value=new G({ros:o.value,name:"/rosapi/services_for_type",serviceType:"rosapi/ServicesForType"}),u.value=new G({ros:o.value,name:r.value+"load_tree",serviceType:"ros_bt_py_interfaces/srv/LoadTree"}),_.value=new G({ros:o.value,name:r.value+"fix_yaml",serviceType:"ros_bt_py_interfaces/srv/FixYaml"}),v.value=new G({ros:o.value,name:r.value+"control_tree_execution",serviceType:"ros_bt_py_interfaces/srv/ControlTreeExecution"}),f.value=new G({ros:o.value,name:r.value+"clear",serviceType:"ros_bt_py_interfaces/srv/ClearTree"}),W.value=new G({ros:o.value,name:r.value+"get_available_nodes",serviceType:"ros_bt_py_interfaces/srv/GetAvailableNodes"}),M.value=new G({ros:o.value,name:r.value+"get_message_fields",serviceType:"ros_bt_py_interfaces/srv/GetMessageFields"}),S.value=new G({ros:o.value,name:r.value+"unwire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),O.value=new G({ros:o.value,name:r.value+"remove_node",serviceType:"ros_bt_py_interfaces/srv/RemoveNode"}),P.value=new G({ros:o.value,name:r.value+"replace_node",serviceType:"ros_bt_pt_interfaces/srv/ReplaceNode"}),te.value=new G({ros:o.value,name:r.value+"set_options",serviceType:"ros_bt_py_interfaces/srv/SetOptions"}),le.value=new G({ros:o.value,name:r.value+"morph_node",serviceType:"ros_bt_py_interfaces/srv/MorphNode"}),X.value=new G({ros:o.value,name:r.value+"generate_subtree",serviceType:"ros_bt_py_interfaces/srv/GenerateSubtree"}),z.value=new G({ros:o.value,name:r.value+"wire_data",serviceType:"ros_bt_py_interfaces/srv/WireNodeData"}),Y.value=new G({ros:o.value,name:r.value+"add_node_at_index",serviceType:"ros_bt_py_interfaces/srv/AddNodeAtIndex"}),ce.value=new G({ros:o.value,name:r.value+"move_node",serviceType:"ros_bt_py_interfaces/srv/MoveNode"}),B.value=new G({ros:o.value,name:r.value+"get_storage_folders",serviceType:"ros_bt_py_interfaces/srv/GetStorageFolders"}),fe.value=new G({ros:o.value,name:r.value+"get_folder_structure",serviceType:"ros_bt_py_interfaces/srv/GetFolderStructure"}),ye.value=new G({ros:o.value,name:r.value+"get_package_structure",serviceType:"ros_bt_py_interfaces/srv/GetPackageStructure"}),q.value=new G({ros:o.value,name:r.value+"save_tree",serviceType:"ros_bt_py_interfaces/srv/SaveTree"}),Xe.value=new G({ros:o.value,name:r.value+"change_tree_name",serviceType:"ros_bt_py_interfaces/srv/ChangeTreeName"}),Re.value=new G({ros:o.value,name:r.value+"load_tree_from_path",serviceType:"ros_bt_py_interfaces/srv/LoadTreeFromPath"}),t.getNodes("")}function pe(){o.value.connect(i.value)}function ue(et){i.value=et}function ke(){a.value=!0,L({title:"ROS connection established!",type:"success"})}function be(){a.value=!1,s.areMessagesAvailable(!1),e.arePackagesAvailable(!1),n.enableSubtreePublishing(!1),n.publish_data=!1,L({title:"ROS connection closed!",type:"warn"})}function we(et){r.value=et,l.value.indexOf(et)===-1&&l.value.push(r.value),Ue()}function qe(et){l.value=et}return{ros:o,connected:a,url:i,namespace:r,available_namespaces:l,services_for_type_service:c,load_tree_service:u,fix_yaml_service:_,control_tree_execution_service:v,clear_tree_service:f,get_available_nodes_service:W,get_message_fields_service:M,unwire_data_service:S,remove_node_service:O,morph_node_service:le,set_options_service:te,move_node_service:ce,replace_node_service:P,wire_data_service:z,add_node_at_index_service:Y,generate_subtree_service:X,set_publish_subtrees_service:g,set_publish_data_service:m,get_storage_folders_service:B,get_folder_structure_service:fe,get_package_structure_service:ye,save_tree_service:q,change_tree_name_service:Xe,load_tree_from_path_service:Re,tree_structure_sub:A,tree_state_sub:w,tree_data_sub:N,packages_sub:C,messages_sub:k,channels_sub:R,connect:pe,setUrl:ue,changeNamespace:we,setAvailableNamespaces:qe,hasConnected:ke,hasDisconnected:be,updateROSServices:Ue}},{persist:{pick:["namespace","url","available_namespaces"],storage:localStorage,afterHydrate:s=>{s.store.updateROSServices(),s.store.connect()}}}),Rf={class:"border rounded mb-2"},Pf={key:0,class:"m-2"},jf={class:"d-grid gap-2 mb-2"},Ff={class:"input-group mb-3"},zf=["value"],Uf=oe({__name:"PackageLoader",setup(s){const e=ds(),t=E(!0),n=E("ros_bt_py.nodes.sequence");function o(){t.value=!t.value}function a(i){const r=i.target;n.value=r.value}return(i,r)=>{const l=Ne("FontAwesomeIcon");return h(),x("div",Rf,[d("div",{class:"text-center cursor-pointer font-weight-bold m-2",onClick:o},[r[2]||(r[2]=he(" Package Loader ")),t.value?(h(),J(l,{key:1,icon:"fa-solid fa-angle-down","aria-hidden":"true"})):(h(),J(l,{key:0,icon:"fa-solid fa-angle-up","aria-hidden":"true"}))]),t.value?ge("",!0):(h(),x("div",Pf,[d("div",jf,[d("button",{id:"refresh",class:"btn btn-block btn-primary mt-2",onClick:r[0]||(r[0]=()=>b(e).getNodes(""))}," Refresh ")]),d("div",Ff,[d("input",{id:"loadPackageForm",type:"text",class:"form-control","aria-describedby":"loadPackageFormConfirm","aria-label":"Load Package",value:n.value,onChange:a},null,40,zf),d("button",{id:"loadPackageFormConfirm",type:"button",className:"btn btn-block btn-outline-primary",onClick:r[1]||(r[1]=()=>b(e).getNodes(n.value))}," Load package ")])]))])}}}),Ie=new Map,Wf="ros_bt_py.custom_types.TypeWrapper",fa="collections.OrderedDict";Ie.set(fa,{"py/reduce":[{"py/type":fa},{"py/tuple":[[]]},null,null,null]});const pa="ros_bt_py.ros_helpers.LoggerLevel";Ie.set(pa,{"py/object":pa,logger_level:"Debug"});const Xn="ros_bt_py.helpers.MathUnaryOperator";Ie.set(Xn,{"py/object":Xn,operator:"sqrt"});const qn="ros_bt_py.helpers.MathBinaryOperator";Ie.set(qn,{"py/object":qn,operator:"+"});const eo="ros_bt_py.helpers.MathOperandType";Ie.set(eo,{"py/object":eo,operand_type:"float"});const to="ros_bt_py.helpers.MathUnaryOperandType";Ie.set(to,{"py/object":to,operand_type:"float"});const va="ros_bt_py.ros_helpers.EnumValue";Ie.set(va,{"py/object":va,enum_value:"",field_names:[]});const so="ros_bt_py.custom_types.FilePath";Ie.set(so,{"py/object":so,path:""});const ws="ros_bt_py.custom_types.RosTopicType";Ie.set(ws,{"py/object":ws,type_str:"example_interfaces/msg/Empty"});const qs="ros_bt_py.custom_types.RosServiceType";Ie.set(qs,{"py/object":qs,type_str:"example_interfaces/srv/Trigger"});const en="ros_bt_py.custom_types.RosActionType";Ie.set(en,{"py/object":en,type_str:"example_interfaces/action/Fibonacci"});const no="ros_bt_py.custom_types.RosTopicName";Ie.set(no,{"py/object":no,name:""});const oo="ros_bt_py.custom_types.RosServiceName";Ie.set(oo,{"py/object":oo,name:""});const ao="ros_bt_py.custom_types.RosActionName";Ie.set(ao,{"py/object":ao,name:""});function Hf(s){return Ie.has(s)}function Vf(s){return structuredClone(Ie.get(s))}var Ye=(s=>(s.RUNNING="RUNNING",s.IDLE="IDLE",s.SUCCEEDED="SUCCEEDED",s.FAILED="FAILED",s.SHUTDOWN="SHUTDOWN",s.UNINITIALIZED="UNINITIALIZED",s.UNASSIGNED="UNASSIGNED",s.ASSIGNED="ASSIGNED",s.BROKEN="BROKEN",s.PAUSED="PAUSED",s))(Ye||{}),Se=(s=>(s.IDLE="IDLE",s.EDITABLE="EDITABLE",s.TICKING="TICKING",s.WAITING_FOR_TICK="WAITING_FOR_TICK",s.STOP_REQUESTED="STOP_REQUESTED",s.ERROR="ERROR",s))(Se||{}),Le=(s=>(s.INPUT="inputs",s.OUTPUT="outputs",s.OTHER="other",s))(Le||{}),V=(s=>(s.TOP="top",s.BOTTOM="bottom",s.LEFT="left",s.RIGHT="right",s.CENTER="center",s.ROOT="root",s))(V||{}),rt=(s=>(s.FILE="file",s.DIR="directory",s))(rt||{});function ha(s,e){if(s.node.data.name===e.node.data.name||s.kind===e.kind)return!1;const t=s.kind===Le.OUTPUT?s:e,n=s.kind===Le.INPUT?s:e;return n.type==='{"py/type": "__builtin__.object"}'||n.type==='{"py/type": "builtins.object"}'?!0:Te(t.type)===Te(n.type)}const Bs=["int","float","str","bool","list","dict","set","type"];function Te(s){const e=JSON.parse(s);if(e["py/type"]!==void 0)return e["py/type"]==="bt_capabilities.nodes.capability.CapabilityType"?"CapabilityType":e["py/type"].replace("__builtin__.","").replace("builtins.","").replace(/^basestring$/,"str").replace(/^unicode$/,"str");if(e["py/object"]!==void 0&&e["py/object"]==="ros_bt_py.node_config.OptionRef")return"OptionRef("+e.option_key+")";if(e["py/object"]!==void 0&&e["py/object"]===Wf){const t=e;return Te(JSON.stringify(t.actual_type))+"("+t.info+")"}return e["py/reduce"]!==void 0&&e["py/reduce"][0]!==void 0&&e["py/reduce"][0]["py/type"]!==void 0&&e["py/reduce"][0]["py/type"]==="collections.OrderedDict"?e["py/reduce"][0]["py/type"]:"Unknown type object: "+s}function pn(s){let e;return s.startsWith("OptionRef(")?e=s.match(/(.*\(.*\))\((.*)\)/):e=s.match(/(.*)\((.*)\)/),e===null?[s,""]:[e[1],e[2]]}const ss="unset_optionref";function Xr(s,e=null){if(s.startsWith("OptionRef(")){const t=s.substring(10,s.length-1);if(e===null)return ss;const n=e.find(o=>o.key===t);return n?n.serialized_value===""?Kt(Te(n.serialized_type)).value:Te(n.serialized_value):ss}else return s}function Kt(s,e=null){const t=pn(s)[0];if(t==="type")return{type:s,value:"int"};if(t==="int")return{type:s,value:0};if(t==="str")return{type:s,value:"foo"};if(t==="float")return{type:s,value:1.2};if(t==="bool")return{type:s,value:!0};if(t==="list")return{type:s,value:[]};if(t==="dict")return{type:s,value:{}};if(t.startsWith("OptionRef(")){const n=Xr(t,e);if(n===ss){const o=t.substring(10,t.length-1);return{type:ss,value:'Ref to "'+o+'"'}}return Kt(n,e)}else return Hf(t)?{type:s,value:Vf(t)||{}}:{type:"__"+s,value:{}}}function Co(s){return s.map(e=>{const t={key:e.key,serialized_value:"",serialized_type:""};if(e.value.type.startsWith("type"))Bs.indexOf(e.value.value)>=0&&(e.value.value="builtins."+e.value.value),t.serialized_value=JSON.stringify({"py/type":e.value.value});else if(e.value.type.startsWith("__")){const n=e.value.value;n["py/object"]=e.value.type.substring(2),t.serialized_value=JSON.stringify(e.value.value)}else t.serialized_value=JSON.stringify(e.value.value);return t})}function tn(s){if(!s||s==null||s.length==0)return"No documentation provided";{const e=s.indexOf("**Behavior Tree I/O keys**");return e<0?s:s.substring(0,e).trim()}}var vt=(s=>(s.ASK="Ask before overwrite",s.OVERWRITE="Overwrite file",s.RENAME="Rename file",s))(vt||{});function qr(s){let e,t;switch(s){case"Ask before overwrite":e=!1,t=!1;break;case"Overwrite file":e=!0,t=!1;break;case"Rename file":e=!1,t=!0;break;default:console.warn("Improper state for name conflict resolution strategy",s),e=!1,t=!1;break}return[e,t]}function Ft(s,e){return{key:s.key,type:Xr(Te(s.serialized_type),e)}}const Ce=cs("edit_node",()=>{const s=_e(),e=ds(),t=E(!1),n=E(!1),o=E(void 0),a=E(void 0),i=E([]),r=E("none"),l=E(""),c=E(""),u=E(""),_=E([]),v=E([]),f=E([]),g=E(!1),m=E(!1),A=Q(()=>e.nodes.filter(Y=>Y.max_children==-1)),w=Q(()=>A.value.filter(Y=>u.value===Y.module&&c.value===Y.node_class).length>0),N=E(!1);function C(){n.value=!0}function k(){n.value=!1}function R(){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,a.value=void 0,i.value=[],r.value="none"}function W(Y){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,a.value=Y,N.value=!1,t.value=!0,i.value=[],r.value="nodelist",l.value=Y.name,c.value=Y.node_class,u.value=Y.module,g.value=!0,m.value=!1,_.value=Y.options.map(z=>({key:z.key,value:Kt(Te(z.serialized_type),Y.options)})),v.value=Y.inputs.map(z=>Ft(z,Y.options)),f.value=Y.outputs.map(z=>Ft(z,Y.options))}function M(Y){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;const z=s.current_tree.structure.nodes.find(B=>B.name===Y);if(z===void 0){console.error("Could not find node in tree"),R();return}const X=e.nodes.find(B=>B.node_class===z.node_class&&B.module===z.module);X===void 0&&console.error("Cannot recover node information"),o.value=z,a.value=X,N.value=!0,t.value=!1,i.value=[Y],r.value="editor",l.value=z.name,c.value=z.node_class,u.value=z.module,g.value=!0,m.value=!1,_.value=z.options.map(B=>{const fe=Te(B.serialized_type);let ye=JSON.parse(B.serialized_value);return fe.startsWith("type")&&(ye=Te(B.serialized_value)),{key:B.key,value:{type:fe,value:ye}}}),v.value=z.inputs.map(B=>Ft(B,z.options)),f.value=z.outputs.map(B=>Ft(B,z.options))}function S(Y){if(n.value)if(window.confirm("Are you sure you wish to discard all changes to the currently edited node?"))n.value=!1;else return;o.value=void 0,a.value=void 0,r.value="multiple",i.value.forEach(z=>{const X=Y.indexOf(z);X===-1?Y.push(z):Y.splice(X,1)}),i.value=Y}function O(Y){N.value=Y}function P(Y){n.value=!0,l.value=Y}function te(Y){const z=A.value.find(X=>X.module+X.node_class===Y);if(z===void 0){console.warn("Can't locate node morph target");return}a.value=z,c.value=z.node_class,u.value=z.module,_.value=z.options.map(X=>({key:X.key,value:Kt(Te(X.serialized_type),z.options)})),v.value=z.inputs.map(X=>Ft(X,z.options)),f.value=z.outputs.map(X=>Ft(X,z.options)),n.value=!0,m.value=!0}function le(Y,z,X){n.value=!0;function B(fe){return fe.key===z?{key:z,value:{type:fe.value.type,value:X}}:fe}if(Y==="options"){let fe=function(pe){return pe.filter(ue=>Te(ue.serialized_type).startsWith("OptionRef(")).map(ue=>[ue.key,Te(ue.serialized_type).substring(10,Te(ue.serialized_type).length-1)]).filter(ue=>ue[1]===z)},ye=function(pe,ue){const ke=pe.find(be=>be[0]===ue.key);if(ke){const be=_.value.find(we=>we.key===ke[1]);if(be){const we=be.value.value;return{key:ue.key,value:Kt(we)}}}return ue},q=function(pe,ue){const ke=pe.find(be=>be[0]===ue.key);if(ke){const be=_.value.find(we=>we.key===ke[1]);if(be){const we=be.value.value;return{key:ue.key,type:we}}}return ue};if(a.value===void 0){console.error("Cannot recover node information");return}const Xe=fe(a.value.options),Re=fe(a.value.inputs),Ue=fe(a.value.outputs);_.value=_.value.map(B),_.value=_.value.map(pe=>ye(Xe,pe)),Re.length>0&&(v.value=v.value.map(pe=>q(Re,pe))),Ue.length>0&&(f.value=f.value.map(pe=>q(Ue,pe)))}}function ce(){return{module:u.value,node_class:c.value,name:l.value,max_children:0,child_names:[],options:Co(_.value),inputs:[],outputs:[],version:""}}return{selected_node:o,reference_node:a,selected_node_names:i,last_seletion_source:r,node_has_changed:n,copy_node_mode:N,node_is_valid:g,node_is_morphed:m,new_node_name:l,new_node_class:c,new_node_module:u,new_node_options:_,new_node_inputs:v,new_node_outputs:f,flow_control_nodes:A,is_flow_control_node:w,nodeListSelectionChange:W,editorSelectionChange:M,selectMultipleNodes:S,clearSelection:R,setNodeHasChanged:C,clearNodeHasChanged:k,changeCopyMode:O,changeNodeName:P,changeNodeClass:te,updateParamValue:le,buildNodeMsg:ce}}),Yf={class:"list-group-item"},Bf={class:"d-flex w-100"},Gf={class:"fs-5"},Kf={class:"text-truncate"},Zf={class:"text-truncate text-muted ms-2 mb-2"},$n=oe({__name:"IOTableEntry",props:{io_node_data:{},title:{}},setup(s){const e=E(!0);return(t,n)=>{const o=Ne("FontAwesomeIcon");return h(),x("div",Yf,[d("div",Bf,[d("div",Gf,Z(t.title),1),F(o,{icon:"fa-solid "+(e.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto",onClick:n[0]||(n[0]=()=>e.value=!e.value)},null,8,["icon"])]),e.value?(h(!0),x(ie,{key:0},me(t.io_node_data,a=>(h(),x(ie,{key:t.title+a.key},[d("div",Kf,Z(a.key),1),d("div",Zf,Z(b(Te)(a.serialized_type)),1)],64))),128)):ge("",!0)])}}}),Qf={class:"d-flex w-100"},Jf={class:"text-truncate fs-4"},Xf={class:"text-muted mx-2 my-auto"},qf={class:"text-muted"},ep={key:0,class:"mt-3"},tp={class:"list-group"},sp={key:0,class:"list-group-item"},np={class:"d-flex w-100"},op={key:0},ap=oe({__name:"NodeListItem",props:{node:{}},setup(s){const e=s,t=_e(),n=Ce(),o=Q(()=>t.dragging_new_node?t.dragging_new_node.node_class===e.node.node_class&&t.dragging_new_node.module===e.node.module:!1),a=Q(()=>o.value?"border-primary":"grab"),i=Q(()=>e.node.max_children>0?"fa-link":e.node.max_children===0?"fa-leaf":"fa-network-wired"),r=E(!1),l=E(!0);function c(){console.log("click "+e.node.name),n.nodeListSelectionChange(e.node)}return(u,_)=>{const v=Ne("FontAwesomeIcon");return h(),x("div",{class:Ae(["border rounded p-2 m-2",a.value]),tabindex:"0",onClick:c,onMousedown:_[2]||(_[2]=Wn(()=>b(t).startDraggingNewNode(u.node),["stop","prevent"])),onKeydown:_[3]||(_[3]=$e(f=>b(n).nodeListSelectionChange(u.node),["enter"]))},[d("div",Qf,[d("div",Jf,Z(u.node.node_class),1),d("div",Xf,[F(v,{icon:"fa-solid "+i.value},null,8,["icon"]),he(" "+Z(u.node.max_children>0?"("+u.node.max_children+")":""),1)]),F(v,{icon:"fa-solid "+(r.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto p-1",onClick:_[0]||(_[0]=Wn(()=>r.value=!r.value,["stop"]))},null,8,["icon"])]),d("div",qf,Z(u.node.module),1),r.value?(h(),x("div",ep,[d("div",tp,[b(tn)(u.node.doc)!==""?(h(),x("div",sp,[d("div",np,[_[4]||(_[4]=d("div",{class:"fs-5"}," Description ",-1)),F(v,{icon:"fa-solid "+(l.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"cursor-pointer ms-auto",onClick:_[1]||(_[1]=()=>l.value=!l.value)},null,8,["icon"])]),l.value?(h(),x("div",op,Z(b(tn)(u.node.doc)),1)):ge("",!0)])):ge("",!0),u.node.options.length>0?(h(),J($n,{key:1,title:"Options",io_node_data:u.node.options},null,8,["io_node_data"])):ge("",!0),u.node.inputs.length>0?(h(),J($n,{key:2,title:"Inputs",io_node_data:u.node.inputs},null,8,["io_node_data"])):ge("",!0),u.node.outputs.length>0?(h(),J($n,{key:3,title:"Outputs",io_node_data:u.node.outputs},null,8,["io_node_data"])):ge("",!0)])])):ge("",!0)],34)}}}),Mt=(s,e)=>{const t=s.__vccOpts||s;for(const[n,o]of e)t[n]=o;return t},rp=Mt(ap,[["__scopeId","data-v-459e0133"]]),ip={class:"border rounded m-1 pb-2 d-flex flex-column"},lp={key:0,class:"scroll-col flex-shrink-1"},cp=oe({__name:"NodeList",setup(s){const e=E(!1),t=ds(),n=function(i,r){return i.node_class<r.node_class?-1:i.node_class>r.node_class?1:0},o=function(i,r){return i.module<r.module?-1:i.module>r.module?1:n(i,r)},a=Q(()=>{if(t.filtered_nodes.length>0)return t.filtered_nodes;{let i=[...t.nodes].sort(n);return i=i.sort(o),i}});return(i,r)=>{const l=Ne("FontAwesomeIcon");return h(),x("div",ip,[d("div",{class:"text-center cursor-pointer m-2",onClick:r[0]||(r[0]=c=>e.value=!e.value)},[r[1]||(r[1]=he(" Node List ")),F(l,{icon:"fa-solid "+(e.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true"},null,8,["icon"])]),e.value?ge("",!0):(h(),x("div",lp,[(h(!0),x(ie,null,me(a.value,c=>(h(),J(rp,{key:c.node_class+c.module,node:c},null,8,["node"]))),128))]))])}}}),up=Mt(cp,[["__scopeId","data-v-f13b82b6"]]),dp={class:"input-group my-2"},_p=["value"],fp={label:"Subtrees"},pp=["value"],vp=["checked"],ma="publish_subtrees",hp=oe({__name:"SelectSubtree",setup(s){const e=_e(),t=ve(),n=Q(()=>e.tree_structure_list.filter(i=>i.tree_id!=="").map(i=>[i.tree_id,i.name]).sort((i,r)=>i[0].localeCompare(r[0])));function o(i){const r=i.target;if(!t.connected){L({title:"Service not available!",text:"SetExecutionMode ROS service is not connected!",type:"error"});return}t.set_publish_subtrees_service.callService({data:r.checked},l=>{l.success?(L({title:(r.checked?"Enable":"Disable")+" subtree publishing",type:"success"}),e.enableSubtreePublishing(r.checked)):L({title:"Failed to toggle subtree publishing",text:l.message,type:"warn"})},l=>{L({title:"Failed to call setPublishSubtrees service",text:l,type:"error"})})}function a(i){const r=i.target;e.selected_tree=r.value}return(i,r)=>{const l=Ne("FontAwesomeIcon");return h(),x("div",dp,[r[1]||(r[1]=d("label",{class:"input-group-text",for:"formTree"}," Tree ",-1)),d("select",{id:"formTree",class:"form-select",value:b(e).selected_tree,onChange:a},[r[0]||(r[0]=d("option",{value:""},"Main Tree",-1)),d("optgroup",fp,[(h(!0),x(ie,null,me(n.value,c=>(h(),x("option",{key:c[0],value:c[0]},Z(c[1]),9,pp))),128))])],40,_p),d("input",{id:ma,type:"checkbox",class:"btn-check",autocomplete:"off",checked:b(e).publish_subtrees,onChange:o},null,40,vp),d("label",{class:"btn btn-primary",for:ma,title:"Publish subtrees"},[F(l,{class:Ae(b(e).publish_subtrees?"text-white":"text-white-50"),icon:"fa-solid fa-bullhorn"},null,8,["class"])])])}}});function Bt(s,e,t,n=!0,o=!0){const a=ve();let i;return o?i=L:i=r=>console.log(r),new Promise((r,l)=>{a.add_node_at_index_service.callService({parent_name:e,node:s,allow_rename:n,new_child_index:t},c=>{c.success?(i({title:"Added node "+c.actual_node_name,type:"success"}),r(c.actual_node_name)):(i({title:"Failed to add node "+s.name,text:c.error_message,type:"warn"}),l(c.error_message))},c=>{i({title:"Failed to call addNodeAtIndex service",text:c,type:"error"}),l(c)})})}function zt(s,e,t,n=!0){const o=ve();let a;return n?a=L:a=i=>console.log(i),new Promise((i,r)=>{o.move_node_service.callService({node_name:s,new_parent_name:e,new_child_index:t},l=>{l.success?(a({title:"Moved node "+s,type:"success"}),i()):(a({title:"Failed to move node "+s,text:l.error_message,type:"warn"}),r(l.error_message))},l=>{a({title:"Failed to call moveNode service",text:l,type:"error"}),r(l)})})}function ei(s,e,t=!0){const n=ve();let o;return t?o=L:o=a=>console.log(a),new Promise((a,i)=>{n.remove_node_service.callService({node_name:s,remove_children:e},r=>{r.success?(o({title:"Removed node",type:"success"}),a()):(o({title:"Failed to remove node",text:r.error_message,type:"warn"}),i(r.error_message))},r=>{o({title:"Failed to call removeNode service",text:r,type:"error"}),i(r)})})}function ga(s,e,t=!0){const n=ve();let o;return t?o=L:o=a=>console.log(a),new Promise((a,i)=>{n.replace_node_service.callService({old_node_name:s,new_node_name:e},r=>{r.success?(o({title:"Replaced node "+s,text:"with node "+e,type:"success"}),a()):(o({title:"Failed to replace node",text:r.error_message,type:"warn"}),i(r.error_message))},r=>{o({title:"Failed to call ReplaceNode service",text:r,type:"error"}),i(r)})})}const mp=["visibility"],gp=["href"],yp=["href"],bp=["href"],wp=["visibility"],Ep=["fill"],Tp=30,He=50,Ps=10,Ve=15,ps=10,ya=20,Ap=50,Np=.02,Rn=5,Pn=1e-4,Qe="__forest_root",At=10,at=80,ba=20,Cp=3,kp=25,js=30,wa=40,Ip=30,Ea=150,vs="node",Ut="btnode",Ta="node_name",Aa="class_name",Na="state_icon",Ca="link",Fs="drop_target",hs="gripper-group",ka="gripper",Wt="label",Ia="label-type",zs="data-link",Sa="hightlightEdge",jn="highlightV1",xa="highlightV2",ft="data-hover",Fn="compatible",Sp="node-selected",Us="data-select",xp=oe({__name:"D3BehaviorTreeEditor",setup(s){const e=_e(),t=Ce(),n=ve(),o=E(),a=E(),i=E(),r=E(),l=E(),c=E(),u=E(),_=E(),v=E(),f=E();let g,m=!1,A=!1,w=0,N=0;const C=E([]);let k,R=[0,0];const W=new RegExp("[a-z0-9][A-Z]|[_\\- ][a-zA-Z]","gd");let M;function S(){if(o.value===void 0||a.value===void 0||g===void 0){L({title:"Element reference undefined!",type:"error"});return}const T=se(o.value),y=T.node().getBoundingClientRect().height,p=Si(o.value).k,I=y*.5/p-60;T.call(g.translateTo,0,I)}function O(T){const y=T.options.map(p=>({key:p.key,value:Kt(Te(p.serialized_type),T.options)}));return{module:T.module,node_class:T.node_class,name:T.name,options:Co(y),child_names:[],inputs:[],outputs:[],version:"",max_children:0}}function P(T){if(o.value===void 0)return;if(!e.is_dragging){k!==void 0&&(window.clearInterval(k),R=[]);return}const y=o.value.getBoundingClientRect().width,p=o.value.getBoundingClientRect().height,I=Ss(T,o.value);let $=!1;if(R=[0,0],I[0]<He){$=!0;const j=(He-I[0])/He;R[0]=Ps*j}else if(I[0]>y-He){$=!0;const j=(He-(y-I[0]))/He;R[0]=-1*Ps*j}if(I[1]<He){$=!0;const j=(He-I[1])/He;R[1]=Ps*j}else if(I[1]>p-He){$=!0;const j=(He-(p-I[1]))/He;R[1]=-1*Ps*j}if(!$&&k!==void 0){window.clearInterval(k),k=void 0;return}k===void 0&&(k=window.setInterval(te,1e3/Tp))}function te(){if(!e.is_dragging&&k){window.clearInterval(k),k=void 0;return}se(o.value).call(g.translateBy,R[0],R[1])}Nt([()=>e.current_tree.structure,()=>e.is_layer_mode],le,{immediate:!0});function le(){if(a.value===void 0||i.value===void 0){console.warn("DOM is broken");return}if(e.current_tree.structure===void 0){console.warn("Nothing to draw");return}M=se(a.value).transition("tree-transition").duration(100).ease(Ei);const T=K=>({key:K.key,serialized_type:K.serialized_type}),y=e.current_tree.structure.nodes.map(K=>({node_class:K.node_class,module:K.module,name:K.name,max_children:K.max_children,child_names:K.child_names,options:K.options.map(T),inputs:K.inputs.map(T),outputs:K.outputs.map(T),size:{width:1,height:1},offset:{x:0,y:0}})),p={node_class:"",module:"",max_children:-1,name:Qe,child_names:[],inputs:[],outputs:[],options:[],size:{width:0,height:0},offset:{x:0,y:0}};y.findIndex(K=>K.name===Qe)<0&&y.push(p);const I={};for(const K in y){const ae=y[K];for(const de in ae.child_names)I[ae.child_names[de]]=ae.name}const $=Ti().id(K=>K.name).parentId(K=>K.name in I?I[K.name]:K.name===p.name?void 0:(p.child_names.push(K.name),p.name))(y);$.sort(function(K,ae){if(K.depth!==ae.depth)return ae.depth-K.depth;for(;K.parent!==ae.parent;)K=K.parent,ae=ae.parent;const de=K.parent.data.child_names;return de.findIndex(re=>re===K.data.name)-de.findIndex(re=>re===ae.data.name)});const H=se(i.value).selectAll("."+vs).data($.descendants().filter(K=>K.data.name!==Qe),K=>K.id).join(ce).call(X);B();const ee=fe(H,$);ye(ee),q(ee),ke(ee,e.current_tree.structure.data_wirings)}function ce(T){const y=T.append("g").classed(vs,!0).classed("node--internal",p=>p.children!==void 0&&p.children.length>0).classed("node--leaf",p=>p.children===void 0||p.children.length==0).on("click.select",(p,I)=>{p.shiftKey?t.selectMultipleNodes([I.data.name]):t.editorSelectionChange(I.data.name),p.stopPropagation()});return e.has_selected_subtree||y.on("mousedown.dragdrop",(p,I)=>{e.startDraggingExistingNode(I),p.stopPropagation()}),y.append("rect").classed(Ut,!0),y.append("text").classed(Ta,!0),y.append("text").classed(Aa,!0),y.append("svg").classed(Na,!0).attr("width",js).attr("height",js).append("path"),y}function Y(T){switch(T){case Ye.RUNNING:return Va.icon;case Ye.IDLE:return Ha.icon;case Ye.SUCCEEDED:return Wa.icon;case Ye.FAILED:return Ua.icon;case Ye.SHUTDOWN:default:return za.icon}}function z(T,y){let p=0;const I=se(T),$=I.select("."+Ta),j=I.select("."+Aa),H=y.data.name,ee=y.data.node_class;$.selectAll("tspan").remove(),j.selectAll("tspan").remove();let K=0,ae=[0];for(const re of H.matchAll(W))ae.push(re.index+1);ae.push(H.length),ae.reverse();let de=0;for(;de<H.length;){const re=$.append("tspan");re.attr("x",0),de>0&&re.attr("dy",wa);let tt=ae.findIndex(Tt=>de===0?Tt<ba-Cp:Tt<de+ba);ae[tt]===de&&(tt-=1);const dt=ae[tt];re.text(H.slice(de,dt)),de===0?p=re.node().getComputedTextLength()+js+At:p=Math.max(p,re.node().getComputedTextLength()),de=dt,K+=1}j.attr("y",K*wa),ae=[0];for(const re of ee.matchAll(W))ae.push(re.index+1);for(ae.push(ee.length),ae.reverse(),de=0;de<ee.length;){const re=j.append("tspan");re.attr("x",0),de>0&&re.attr("dy",Ip);let tt=ae.findIndex(Tt=>Tt<de+kp);ae[tt]===de&&(tt-=1);const dt=ae[tt];re.text(ee.slice(de,dt)),p=Math.max(p,re.node().getComputedTextLength()),de=dt}return p}function X(T){return T.each(function(y){y.data.size.width=z(this,y)}),T.select("."+Ut).attr("x",null).attr("y",null).attr("width",null).attr("height",null),T.each(function(y){const p=y.data.inputs||[],I=y.data.outputs||[],$=Math.max(p.length,I.length),j=Ve*$+ps*($+1),H=this.getBBox();y.data.offset.x=H.x-At,y.data.offset.y=H.y-.5*At,y.data.size.width+=2*At,y.data.size.height=Math.max(H.height+1.5*At,j)}),T.select("."+Ut).attr("x",y=>y.data.offset.x).attr("y",y=>y.data.offset.y).attr("width",y=>y.data.size.width).attr("height",y=>y.data.size.height),T}Nt(()=>e.current_tree.state,B);function B(){if(i.value===void 0){console.warn("DOM is broken");return}const y=se(i.value).selectAll("."+vs).each(p=>{if(e.current_tree.state===void 0){console.warn("No state to update");return}const I=e.current_tree.state.node_states.find($=>$.name===p.data.name);I!==void 0&&(p.data.state=I.state)});y.select("."+Ut).style("stroke",p=>{switch(p.data.state){case Ye.RUNNING:return"var(--node-color-running)";case Ye.IDLE:return"var(--node-color-idle)";case Ye.SUCCEEDED:return"var(--node-color-succeeded)";case Ye.FAILED:return"var(--node-color-failed)";case Ye.SHUTDOWN:return"var(--node-color-shutdown)";case Ye.UNINITIALIZED:default:return"var(--node-color-default)"}}),y.select("."+Na).attr("viewBox",p=>{const I=Y(p.data.state);return"0 0 "+I[0]+" "+I[1]}).attr("x",p=>p.data.size.width-js-2*At).attr("y",p=>p.data.offset.y+At).select("path").attr("d",p=>{const I=Y(p.data.state);return typeof I[4]=="string"?I[4]:(console.warn("Potentially unhandled multivalue path",I[4]),I[4].join(""))})}function fe(T,y){const p=Array(y.height+1).fill(0);T.each($=>{p[$.depth]=Math.max($.data.size.height,p[$.depth])});const I=Ai({nodeSize:$=>{let j;return e.is_layer_mode?j=p[$.depth]:j=$.data.size.height,j+=$.depth>0?at:0,[$.data.size.width,j]},spacing:($,j)=>e.is_layer_mode?at:$.parent!==j.parent?2*at:at})(y);return T.data(I.descendants().filter($=>$.data.name!==Qe),$=>$.id).transition(M).attr("transform",$=>{const j=$.x-$.data.size.width/2,H=$.y;return"translate("+j+", "+H+")"}),I}function ye(T){if(r.value===void 0){console.warn("DOM is broken");return}se(r.value).selectAll("."+Ca).data(T.links().filter(y=>y.source.data.name!==Qe),y=>y.source.id+"###"+y.target.id).join("path").classed(Ca,!0).transition(M).attr("d",Ni().source(y=>{const p=y.source;return[p.x+p.data.offset.x,p.y+p.data.offset.y+p.data.size.height]}).target(y=>{const p=y.target;return[p.x+p.data.offset.x,p.y+p.data.offset.y]}))}function q(T){if(_.value===void 0){console.warn("DOM is broken");return}const y=[];e.has_selected_subtree||T.each(p=>{p.data.name!==Qe&&(y.push({node:p,position:V.LEFT}),y.push({node:p,position:V.CENTER}),y.push({node:p,position:V.RIGHT}),y.push({node:p,position:V.TOP}),(p.data.max_children===-1||p.data.max_children>p.data.child_names.length)&&y.push({node:p,position:V.BOTTOM}))}),y.length===0&&y.push({node:T,position:V.ROOT}),se(_.value).selectAll("."+Fs).data(y,p=>p.node.id+"###"+p.position).join("rect").classed(Fs,!0).attr("width",p=>{switch(p.position){case V.LEFT:case V.RIGHT:return at;case V.TOP:case V.BOTTOM:case V.CENTER:return p.node.data.size.width;case V.ROOT:return Ea;default:return 0}}).attr("height",p=>{switch(p.position){case V.LEFT:case V.RIGHT:case V.CENTER:return p.node.data.size.height;case V.TOP:case V.BOTTOM:return .5*at;case V.ROOT:return Ea;default:return 0}}).attr("x",p=>{if(p.position===V.ROOT)return-150/2;let I=p.node.x+p.node.data.offset.x;return p.position===V.RIGHT?I+=.5*p.node.data.size.width:(I-=.5*p.node.data.size.width,p.position===V.LEFT&&(I-=at)),I}).attr("y",p=>{if(p.position===V.ROOT)return-.5*at;let I=p.node.y+p.node.data.offset.y;return p.position===V.TOP&&(I-=.5*at),p.position===V.BOTTOM&&(I+=p.node.data.size.height),I}).attr("opacity",.2).on("mouseover.highlight",function(){se(this).attr("opacity",.8)}).on("mouseout.highlight",function(){se(this).attr("opacity",.2)}).on("mouseup.dragdrop",(p,I)=>{e.dragging_new_node?pe(I):e.dragging_existing_node?Re(I):console.warn("Unintended drag release")})}function Xe(){return e.dragging_new_node!==void 0||e.dragging_existing_node!==void 0?"visible":"hidden"}async function Re(T){if(e.dragging_existing_node===void 0){console.warn("Tried to move existing node by dragging but none selected");return}const y=e.dragging_existing_node.data.name;if(!T.node.parent){console.error("A tree with an existing node should never show the root target");return}if(T.position===V.BOTTOM){await zt(y,T.node.data.name,0);return}if(T.position===V.LEFT||T.position===V.RIGHT){let p=T.node.parent.data.name;p===Qe&&(p="");let I=T.node.parent.children.indexOf(T.node);T.position===V.RIGHT&&I++,p===e.dragging_existing_node.parent.data.name&&I>T.node.parent.children.findIndex($=>$.data.name===y)&&I--,await zt(y,p,I);return}if(T.position===V.TOP){let p=T.node.parent.data.name;p===Qe&&(p="");let I=T.node.parent.children.indexOf(T.node);p===e.dragging_existing_node.parent.data.name&&I>T.node.parent.children.findIndex($=>$.data.name===y)&&I--,await zt(T.node.data.name,y,-1),await zt(y,p,I);return}if(T.position===V.CENTER){await ga(T.node.data.name,y);return}console.warn("Couldn't identify drop target position, this should never happen")}Ws(Ue);function Ue(){if(_.value===void 0){console.warn("DOM is broken");return}const T=se(_.value).selectAll("."+Fs).attr("visibility",null);e.dragging_existing_node!==void 0&&(T.filter(y=>e.dragging_existing_node.descendants().find(p=>p.data.name===y.node.data.name)!==void 0).attr("visibility","hidden"),T.filter(y=>{switch(y.position){case V.CENTER:return e.dragging_existing_node.data.max_children!==-1&&y.node.data.child_names.length+e.dragging_existing_node.data.child_names.length>e.dragging_existing_node.data.max_children;case V.TOP:return e.dragging_existing_node.data.max_children!==-1&&e.dragging_existing_node.data.child_names.length>=e.dragging_existing_node.data.max_children;case V.BOTTOM:return y.node.data.max_children!==-1&&y.node.data.name!==e.dragging_existing_node.parent.data.name&&y.node.data.child_names.length>=y.node.data.max_children;case V.LEFT:case V.RIGHT:return y.node.parent.data.max_children!==-1&&y.node.parent.data.name!==e.dragging_existing_node.parent.data.name&&y.node.parent.data.child_names.length>=y.node.parent.data.max_children;case V.ROOT:default:return!0}}).attr("visibility","hidden"))}async function pe(T){if(e.dragging_new_node===void 0){console.warn("Tried to add new node by dragging but none selected");return}const y=O(e.dragging_new_node);if(T.position===V.ROOT){await Bt(y,"",0);return}if(!T.node.parent){console.error("All non-root targets should have a set parent node");return}if(T.position===V.BOTTOM){const p=T.node.data.name;await Bt(y,p,0);return}if(T.position===V.LEFT||T.position===V.RIGHT){let p=T.node.parent.data.name;p===Qe&&(p="");let I=T.node.parent.children.indexOf(T.node);T.position===V.RIGHT&&I++,await Bt(y,p,I);return}if(T.position===V.TOP){let p=T.node.parent.data.name;p===Qe&&(p="");const I=T.node.parent.children.indexOf(T.node),$=await Bt(y,"",-1);await zt(T.node.data.name,$,0),await zt($,p,I);return}if(T.position===V.CENTER){const p=await Bt(y,"",-1);await ga(T.node.data.name,p);return}console.warn("Couldn't identify drop target position, this should never happen")}Ws(ue);function ue(){if(_.value===void 0){console.warn("DOM is broken");return}const T=se(_.value).selectAll("."+Fs).attr("visibility",null);e.dragging_new_node!==void 0&&T.filter(y=>{switch(y.position){case V.CENTER:return e.dragging_new_node.max_children!==-1&&y.node.data.child_names.length>e.dragging_new_node.max_children;case V.TOP:return e.dragging_new_node.max_children===0;case V.BOTTOM:return y.node.data.max_children!==-1&&y.node.data.child_names.length>=y.node.data.max_children;case V.LEFT:case V.RIGHT:return y.node.parent.data.max_children!==-1&&y.node.parent.data.child_names.length>=y.node.parent.data.max_children;case V.ROOT:return!1;default:return!0}}).attr("visibility","hidden")}function ke(T,y){if(l.value===void 0||u.value===void 0){console.warn("DOM is broken");return}const p=[];T.each($=>{$.data.name!==Qe&&($.data.inputs.map((j,H)=>{p.push({node:$,index:H,kind:Le.INPUT,key:j.key,type:j.serialized_type,x:$.x+$.data.offset.x-$.data.size.width*.5-Ve,y:$.y+$.data.offset.y+ps+H*(Ve+ps)})}),$.data.outputs.map((j,H)=>{p.push({node:$,index:H,kind:Le.OUTPUT,key:j.key,type:j.serialized_type,x:$.x+$.data.offset.x+$.data.size.width*.5,y:$.y+$.data.offset.y+ps+H*(Ve+ps)})}))});const I=se(u.value).selectAll("."+hs).data(p,$=>$.node.id+"###"+$.kind+"###"+$.key).join(be);e.has_selected_subtree||I.select("."+ka).on("mousedown.drawedge",($,j)=>{e.startDrawingDataEdge(j)}).on("mouseup.drawedge",($,j)=>{if(e.data_edge_endpoint===void 0){console.warn("Unintended data edge draw");return}if(!ha(j,e.data_edge_endpoint)){console.warn("Invalid edge");return}j.kind===Le.INPUT?$t(e.data_edge_endpoint,j):$t(j,e.data_edge_endpoint)}),I.select("."+Wt).select("."+Ia).text($=>"(type: "+Te($.type)+")"),I.transition(M).attr("transform",$=>"translate("+$.x+", "+$.y+")"),we(p,I,y)}function be(T){const y=T.append("g").classed(hs,!0).on("mouseover.highlight",function(){if(e.is_dragging){const I=se(this).classed(Fn);se(this).classed(ft,I),se(v.value).classed(ft,I)}else se(this).classed(ft,!0).attr("id",jn).select("."+Wt).attr("visibility","visible")}).on("mouseout.highlight",function(){e.is_dragging?(se(this).classed(ft,!1),se(v.value).classed(ft,!1)):se(this).classed(ft,!1).attr("id",null).select("."+Wt).attr("visibility","hidden")});return y.append("rect").classed(ka,!0).attr("width",Ve).attr("height",Ve),y.append("text").classed(Wt,!0).attr("dominant-baseline","middle").attr("visibility","hidden").attr("text-anchor",I=>I.kind===Le.INPUT?"end":"start").text(I=>I.key).attr("x",I=>{switch(I.kind){case Le.INPUT:return-5;case Le.OUTPUT:return Ve+5;case Le.OTHER:default:return 0}}).attr("y",.5*Ve).append("tspan").classed(Ia,!0).attr("x",function(){return se(this.parentElement).attr("x")}).attr("dy","1em"),y}function we(T,y,p){if(l.value===void 0||u.value===void 0||c.value===void 0){console.warn("DOM is broken");return}const I=[];function $(j,H){return j.node_name===H.node.data.name&&j.data_kind===H.kind&&j.data_key===H.key}p.forEach(j=>{const H=T.find(K=>$(j.source,K)),ee=T.find(K=>$(j.target,K));if(H===void 0||ee===void 0){console.warn("Bad data edge",H,ee);return}H.kind===Le.INPUT?I.push({source:ee,target:H,wiring:j}):I.push({source:H,target:ee,wiring:j})}),se(c.value).selectAll("."+zs).data(I,j=>j.source.node.id+"###"+j.source.kind+"###"+j.source.index+"#####"+j.target.node.id+"###"+j.target.kind+"###"+j.target.index).join("path").classed(zs,!0).on("click.select",(j,H)=>{e.selectEdge(H.wiring),j.stopPropagation()}).on("mouseover.highlight",function(j,H){e.is_dragging||(y.filter(ee=>ee===H.source||ee===H.target).dispatch("mouseover").attr("id",ee=>ee.kind===Le.INPUT?xa:jn).select("."+Wt).attr("visibility",ee=>ee.kind===Le.INPUT?"hidden":"visible"),se(this).classed(ft,!0).attr("id",Sa))}).on("mouseout.highlight",function(j,H){e.is_dragging||(y.filter(ee=>ee===H.source||ee===H.target).dispatch("mouseout"),se(this).classed(ft,!1).attr("id",null))}).transition(M).attr("d",j=>qe(j.source,j.target))}function qe(T,y){const p=Ci().x(ee=>ee.x+Ve/2).y(ee=>ee.y+Ve/2).curve(ki.alpha(.9));let I=0;Math.abs(T.y-y.y)<Ap&&(I=Math.min(T.y,y.y)-Np*Math.abs(T.x-y.x));const $={x:T.x+ya,y:T.y},j={x:y.x-ya,y:y.y},H={x:(T.x+y.x)/2,y:I||(T.y+y.y)/2};if(T.x>y.x)if(I===0)$.y+=Pn*(y.y-T.y)+Math.sign(y.y-T.y)*Rn,j.y+=Pn*(T.y-y.y)+Math.sign(T.y-y.y)*Rn;else{const ee=Rn+Pn*Math.abs(T.x-y.x);$.y-=ee,H.y-=ee*4,j.y-=ee}return p([T,$,H,j,y])}Ws(et);function et(){if(u.value===void 0||v.value===void 0){console.warn("DOM is broken");return}const T=se(u.value).selectAll("."+hs).classed(Fn,!1);T.select("."+Wt).attr("visibility","hidden");const y=se(v.value).attr("d",null);e.data_edge_endpoint!==void 0&&(T.filter(p=>ha(p,e.data_edge_endpoint)).classed(Fn,!0),y.attr("d",()=>qe(e.data_edge_endpoint,e.data_edge_endpoint)))}function $t(T,y){n.wire_data_service.callService({wirings:[{source:{node_name:T.node.data.name,data_kind:T.kind,data_key:T.key},target:{node_name:y.node.data.name,data_kind:y.kind,data_key:y.key}}],ignore_failure:!1},p=>{p.success?L({title:"Added data edge",type:"success"}):L({title:"Failed to add data edge",text:p.error_message,type:"warn"})},p=>{L({title:"Failed to call dataWiring service",text:p,type:"error"})})}Nt(()=>[t.selected_node_names,C.value],()=>hn());function hn(){if(i.value===void 0){console.warn("DOM is broken");return}const T=t.selected_node_names.filter(I=>!C.value.includes(I)),y=C.value.filter(I=>!t.selected_node_names.includes(I)),p=T.concat(y);se(i.value).selectAll("."+vs).select("."+Ut).classed(Sp,I=>p.includes(I.data.name))}Nt(()=>e.selected_edge,()=>{Is()});function Is(){if(c.value===void 0||u.value===void 0){console.warn("DOM is broken");return}const T=se(c.value),y=se(u.value);if(T.selectAll("."+zs).classed(Us,!1),y.selectAll("."+hs).classed(Us,!1),e.selected_edge!==void 0){const p=T.selectAll("."+zs).filter(I=>I.wiring===e.selected_edge).classed(Us,!0).datum();y.selectAll("."+hs).filter(I=>I===p.source||I===p.target).classed(Us,!0)}}return ns(()=>{if(o.value===void 0||a.value===void 0){L({title:"Element reference undefined!",type:"error"});return}const T=se(o.value);g=Ii(),g.scaleExtent([.3,1]);const y=se(a.value);T.call(g.on("zoom",p=>{y.attr("transform",p.transform)})),g.filter(p=>!p.shiftKey&&(!e.is_dragging||p.type==="wheel")),S(),T.on("mousemove.pan_if_drag",P),T.on("click.unselect",p=>{p.shiftKey||(t.clearSelection(),e.unselectEdge())}),m=!1,A=!1,T.on("mousedown.drawselect",p=>{if(a.value===void 0){console.warn("DOM is broken");return}if(p.shiftKey){m=!0;const[I,$]=Ss(p,a.value);w=I,N=$}}),T.on("mousemove.drawselect",p=>{if(a.value===void 0||i.value===void 0||f.value===void 0){console.warn("DOM is broken");return}if(p.shiftKey&&m){A=!0;const I=se(f.value),[$,j]=Ss(p,a.value),H=Math.min($,w),ee=Math.min(j,N),K=Math.abs($-w),ae=Math.abs(j-N);I.attr("x",H).attr("y",ee),I.attr("width",K).attr("height",ae);const de=[];se(i.value).selectAll("."+vs).select("."+Ut).each(re=>{re.x-re.data.size.width/2>=H&&re.x+re.data.size.width/2<=H+K&&re.y>=ee&&re.y+re.data.size.height<=ee+ae&&de.push(re.data.name)}),C.value=de}}),T.on("mouseup.drawselect",()=>{if(i.value===void 0||f.value===void 0){console.warn("DOM is broken");return}m&&A&&(m=!1,A=!1,se(f.value).attr("width",0).attr("height",0),t.selectMultipleNodes(C.value),C.value=[])}),T.on("mousemove.drawedge",p=>{if(a.value===void 0||v.value===void 0){console.warn("DOM is broken");return}if(e.data_edge_endpoint===void 0)return;const[I,$]=Ss(p,a.value),j={x:I-Ve/2,y:$-Ve/2};se(v.value).attr("d",()=>e.data_edge_endpoint.kind===Le.INPUT?qe(j,e.data_edge_endpoint):qe(e.data_edge_endpoint,j))}),T.on("mouseup.drawedge",()=>{if(v.value===void 0){console.warn("DOM is broken");return}e.stopDrawingDataEdge(),se(v.value).attr("d",null)})}),(T,y)=>(h(),x("svg",{id:"editor_viewport",ref_key:"viewport_ref",ref:o,class:Ae(["reactive-svg",b(e).skin])},[d("g",{id:"container",ref_key:"svg_g_ref",ref:a},[d("g",{ref_key:"g_edges_ref",ref:r,class:"edges"},null,512),d("g",{ref_key:"g_vertices_ref",ref:i,class:"vertices"},null,512),d("g",{ref_key:"g_data_graph_ref",ref:l,class:"data_graph",visibility:b(e).show_data_graph?"visible":"hidden"},[d("g",{ref_key:"g_data_edges_ref",ref:c,class:"data_edges"},null,512),d("g",{ref_key:"g_data_vertices_ref",ref:u,class:"data_vertices"},null,512),d("use",{href:"#"+jn,"pointer-events":"none"},null,8,gp),d("use",{href:"#"+xa,"pointer-events":"none"},null,8,yp),d("use",{href:"#"+Sa,"pointer-events":"none"},null,8,bp)],8,mp),d("g",{ref_key:"g_drop_targets_ref",ref:_,class:"drop_targets",visibility:Xe()},null,8,wp),d("path",{ref_key:"draw_indicator_ref",ref:v,class:"drawing-indicator"},null,512),d("rect",{ref_key:"selection_rect_ref",ref:f,class:"selection"},null,512)],512),d("text",{x:"10",y:"20",fill:b(e).skin===b(Xs).DARK?"#FFFFFF":"#000000",textAnchor:"left",alignmentBaseline:"central",class:"cursor-pointer svg-button",onClick:S}," Reset View ",8,Ep)],2))}}),Op={class:"d-flex flex-column"},Dp={class:"btn-group d-flex mb-2",role:"group"},Lp={class:"d-flex justify-content-between align-items-center mb-3"},Mp={class:""},$p={class:"text-primary"},Rp={class:""},Pp={class:"text-primary"},jp={key:0,class:"mx-auto text-center"},Fp=oe({__name:"BehaviorTreeEdge",setup(s){const e=ve(),t=_e(),n=Ce(),o=Q(()=>{if(t.selected_edge===void 0||t.current_tree.data===void 0)return;const l=t.selected_edge;return t.current_tree.data.wiring_data.find(c=>{const u=c.wiring;return u.source.node_name===l.source.node_name&&u.source.data_kind===l.source.data_kind&&u.source.data_key===l.source.data_key&&u.target.node_name===l.target.node_name&&u.target.data_kind===l.target.data_kind&&u.target.data_key===l.target.data_key})});function a(){const l=t.selected_edge;e.unwire_data_service.callService({wirings:[{source:l.source,target:l.target}]},c=>{c.success?(L({title:"Removed data edge: "+l.source+" -> "+l.target+"!",type:"success"}),t.unselectEdge()):L({title:"Failed to remove data edge: "+l.source+" -> "+l.target+"!",text:c.error_message,type:"error"})})}function i(){n.editorSelectionChange(t.selected_edge.source.node_name)}function r(){n.editorSelectionChange(t.selected_edge.target.node_name)}return(l,c)=>(h(),x("div",Op,[d("div",Dp,[d("button",{class:"btn btn-danger w-100",onClick:c[0]||(c[0]=()=>a())},"Delete Edge")]),d("div",Lp,[d("div",Mp,[d("button",{class:"btn btn-outline-contrast",onClick:c[1]||(c[1]=()=>i())},[d("span",$p,Z(b(t).selected_edge.source.node_name),1),c[3]||(c[3]=d("br",null,null,-1)),he(" "+Z(b(t).selected_edge.source.data_key),1)])]),c[5]||(c[5]=d("hr",{class:"flex-fill connector"},null,-1)),d("div",Rp,[d("button",{class:"btn btn-outline-contrast",onClick:c[2]||(c[2]=()=>r())},[d("span",Pp,Z(b(t).selected_edge.target.node_name),1),c[4]||(c[4]=d("br",null,null,-1)),he(" "+Z(b(t).selected_edge.target.data_key),1)])])]),o.value!==void 0?(h(),x("div",jp,[he(" Value: "+Z(o.value.serialized_data)+" ",1),c[6]||(c[6]=d("br",null,null,-1)),he(" of type: "+Z(b(Te)(o.value.serialized_type))+" ",1),c[7]||(c[7]=d("br",null,null,-1)),he(" expected type: "+Z(b(Te)(o.value.serialized_expected_type)),1)])):ge("",!0)]))}}),zp=Mt(Fp,[["__scopeId","data-v-a99b2454"]]),Up={class:"fs-1 mb-3 mt-4 mx-4"},Wp={key:0,class:"mx-4 mb-4"},Hp={class:"input-group mb-3"},Vp={class:"input-group-text"},Yp=["disabled","placeholder"],Bp={key:0,class:"d-grid overflow-auto",style:{"max-height":"70vh"}},Gp=["onClick"],Kp={key:1},Zp={class:"input-group mb-3"},Qp=["disabled"],Jp=["onClick"],Xp={class:"d-grid overflow-auto",style:{"max-height":"50vh"}},qp=["onClick"],ev={key:2},tv={key:1},vn=oe({__name:"FileBrowser",props:{location:{},title:{},search_term:{},fromPackages:{type:Boolean},file_filter:{}},emits:["location","select","close"],setup(s,{emit:e}){const t=s,n=e,o=ve(),a=fn(),i=RegExp("config|hook|cmake|environment"),r=E(null),l=E([]),c=E(""),u=E(new xe([],{keys:["package","path"]})),_=Q(()=>{let M;return t.fromPackages?c.value===""?M=a.packages:M=a.packages_fuse.search(c.value).map(S=>S.item):c.value===""?M=l.value:M=u.value.search(c.value).map(S=>S.item),M.sort((S,O)=>S.package.localeCompare(O.package))}),v=Q(()=>t.fromPackages&&a.packages_available||l.value.length>0),f=E(null),g=E(null),m=E(new xe([],{keys:["data.name"]})),A=Q(()=>{var S;let M=[];return t.search_term===""?M=((S=f.value)==null?void 0:S.children)||[]:M=m.value.search(t.search_term).map(O=>O.item),M=M.filter(O=>{var P;switch(O.data.type){case rt.DIR:return t.fromPackages&&(f.value===void 0||((P=f.value)==null?void 0:P.parent)===null)?!i.test(O.data.name):!0;case rt.FILE:return t.file_filter===void 0?!0:t.file_filter.test(O.data.name);default:return!1}}),M.sort((O,P)=>O.data.type===P.data.type?O.data.name.localeCompare(P.data.name):O.data.type===rt.DIR?-1:1)});function w(){o.get_storage_folders_service.callService({},M=>{l.value=M.storage_folders.map(S=>({package:S,path:S})),u.value.setCollection(l.value)},M=>{L({title:"Failed to call GetStorageFolders service!",text:M,type:"error"})})}function N(M){f.value=xi(JSON.parse(M)),m.value.setCollection(f.value.children||[])}function C(){o.get_folder_structure_service.callService({storage_folder:r.value.package,show_hidden:!0},M=>{M.success?N(M.storage_folder_structure):L({title:"Error when calling GetFolderStructure service!",text:M.error_message,type:"warn"})},M=>{L({title:"Failed to call GetFolderStructure service!",text:M,type:"error"})})}function k(){o.get_package_structure_service.callService({package:r.value.package,show_hidden:!0},M=>{M.success?N(M.package_structure):L({title:"Error when calling GetPackageStructure service!",text:M.error_message,type:"error"})},M=>{L({title:"Failed to call GetPackageStructure service!",text:M,type:"error"})})}function R(M){M===null?(r.value=null,c.value="",f.value=null,g.value=null,n("location",""),n("select",[],!0)):(r.value=M,c.value=M.package,t.fromPackages?k():C(),n("location",M.package))}function W(M){switch(M.data.type){case rt.DIR:f.value=M,m.value.setCollection(M.children||[]);break;case rt.FILE:g.value=M;break}n("select",M.ancestors().slice(0,-1).reverse().map(S=>S.data.name),M.data.type===rt.DIR)}return ns(()=>{t.fromPackages||w()}),(M,S)=>{const O=Ne("FontAwesomeIcon");return h(),x(ie,null,[d("button",{class:"btn float-end",onClick:S[0]||(S[0]=P=>n("close"))},[F(O,{class:"fa-3x",style:{opacity:"0.1"},icon:"fa-solid fa-xmark"})]),d("h1",Up,Z(t.title),1),v.value?(h(),x("div",Wp,[d("div",Hp,[d("span",Vp,Z(t.location)+": ",1),Pe(d("input",{"onUpdate:modelValue":S[1]||(S[1]=P=>c.value=P),disabled:r.value!==null,type:"text",class:"form-control",placeholder:"Search "+t.location+" Name"},null,8,Yp),[[os,c.value]]),d("button",{class:"btn btn-outline-secondary",onClick:S[2]||(S[2]=P=>R(null))},[F(O,{icon:"fa-solid fa-xmark"})])]),r.value===null?(h(),x("div",Bp,[(h(!0),x(ie,null,me(_.value,P=>(h(),x("button",{key:P.path,class:"btn btn-outline-contrast ms-4 mb-3 text-start",onClick:te=>R(P)},[F(O,{icon:"fa-solid fa-cubes",class:"me-1"}),he(" "+Z(P.package),1)],8,Gp))),128))])):f.value!==null?(h(),x("div",Kp,[di(M.$slots,"default",{},()=>[S[4]||(S[4]=he("Control Buttons, Selects, ..."))]),d("div",Zp,[d("button",{disabled:f.value.parent===null,class:"btn btn-outline-secondary",onClick:S[3]||(S[3]=P=>W(f.value.parent))},[F(O,{icon:"fa-solid fa-angle-up"})],8,Qp),(h(!0),x(ie,null,me(f.value.ancestors().slice(0,-1).reverse(),P=>(h(),x("button",{key:P.data.item_id,class:"btn btn-outline-secondary",onClick:te=>W(P)},Z(P.data.name),9,Jp))),128))]),d("div",Xp,[(h(!0),x(ie,null,me(A.value,P=>{var te;return h(),x("button",{key:P.data.item_id,class:Ae(["btn btn-outline-contrast ms-4 mb-3 text-start",{active:P.data.item_id===((te=g.value)==null?void 0:te.data.item_id)}]),onClick:le=>W(P)},[P.data.type===b(rt).DIR?(h(),J(O,{key:0,icon:"fa-solid fa-folder-open",style:{width:"20px"}})):ge("",!0),P.data.type===b(rt).FILE?(h(),J(O,{key:1,icon:"fa-solid fa-file-code",style:{width:"20px"}})):ge("",!0),he(" "+Z(P.data.name),1)],10,qp)}),128))])])):(h(),x("div",ev,"Loading content of storage location"))])):(h(),x("div",tv,"Loading possible storage locations"))],64)}}}),sv={class:"d-flex justify-content-between mb-3"},nv=["disabled"],ov=["value"],av={class:"input-group mb-3"},rv=oe({__name:"SelectLocationModal",emits:["select","close"],setup(s,{emit:e}){const t=e,n=/\.(yaml)$/,o=E(n),a=E(""),i=E([]),r=E(!0),l=E(""),c=E(vt.ASK),u=Q(()=>r.value?[...i.value,l.value].join("/"):[...i.value.slice(0,-1),l.value].join("/"));function _(v,f){i.value=v,r.value=f,f?l.value="":l.value=v[v.length-1]}return(v,f)=>(h(),J(b(sn),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:ht(()=>[F(vn,{location:"Folder",title:"Save Tree to Folder",file_filter:o.value,search_term:l.value,onClose:f[4]||(f[4]=g=>t("close")),onLocation:f[5]||(f[5]=g=>a.value=g),onSelect:f[6]||(f[6]=(g,m)=>_(g,m))},{default:ht(()=>[d("div",sv,[d("button",{class:"btn btn-primary me-2",disabled:!n.test(l.value),onClick:f[0]||(f[0]=g=>t("select",a.value,u.value,c.value))}," Select ",8,nv),Pe(d("select",{"onUpdate:modelValue":f[1]||(f[1]=g=>o.value=g),class:"form-select me-2"},[d("option",{value:n},"Valid files"),f[7]||(f[7]=d("option",{value:void 0},"All files",-1))],512),[[St,o.value]]),Pe(d("select",{"onUpdate:modelValue":f[2]||(f[2]=g=>c.value=g),class:"form-select"},[(h(!0),x(ie,null,me(Object.values(b(vt)),g=>(h(),x("option",{key:g,value:g},Z(g),9,ov))),128))],512),[[St,c.value]])]),d("div",av,[f[8]||(f[8]=d("span",{class:"input-group-text"}," Name: ",-1)),Pe(d("input",{"onUpdate:modelValue":f[3]||(f[3]=g=>l.value=g),type:"text",class:"form-control",placeholder:"Name of File to Save (also acts as a search bar)"},null,512),[[os,l.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),iv={class:"d-flex flex-column"},lv={class:"row g-2 mb-3"},cv={class:"btn-group col-8"},uv=["disabled"],dv={class:"input-group mb-3"},_v=["value"],fv=["value"],pv={class:"d-flex flex-column"},vv={class:"input-group mb-3"},hv=oe({__name:"MultipleSelection",setup(s){const e=ve(),t=Ce();let n=t.selected_node_names.join("_");n.length===0&&(n="Subtree");const o=E(n),a=E(""),i=E(""),r=E(!1),l=E(vt.ASK);async function c(){if(!window.confirm("Really delete all selected nodes ("+t.selected_node_names.join(", ")+")?"))return;const g=[];t.selected_node_names.forEach(m=>{g.push(ei(m,!1).then(()=>{t.selected_node_names=t.selected_node_names.filter(A=>A!==m)}))}),await Promise.all(g)}function u(){r.value=!0}function _(g,m,A){r.value=!1,a.value=g,i.value=m,l.value=A}function v(){e.generate_subtree_service.callService({nodes:t.selected_node_names},g=>{g.success?(L({title:"Generated subtree successfully!",type:"success"}),f(g.tree)):L({title:"Failed to generate subtree!",text:g.error_message,type:"warn"})},g=>{L({title:"Failed to call GenerateSubtree service!",text:g,type:"error"})})}function f(g){g.name=o.value;const[m,A]=qr(l.value),w={storage_path:a.value,filepath:i.value,tree:g,allow_overwrite:m,allow_rename:A};e.save_tree_service.callService(w,N=>{if(N.success)L({title:"Successfully saved subtree!",text:N.file_path,type:"success"});else{if(l.value!==vt.ASK||N.error_message!=="Overwrite not allowed"){L({title:"Failed to save subtree!",text:N.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+a.value+"/"+i.value+"' ?")){L({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}w.allow_overwrite=!0,w.allow_rename=!1,e.save_tree_service.callService(w,C=>{C.success?L({title:"Successfully saved subtree!",text:C.file_path,type:"success"}):L({title:"Failed to save subtree!",text:C.error_message,type:"warn"})},C=>{L({title:"Failed to call SaveTree service!",text:C,type:"error"})})}},N=>{L({title:"Failed to call SaveTree service!",text:N,type:"error"})})}return(g,m)=>(h(),x(ie,null,[F(rv,{modelValue:r.value,"onUpdate:modelValue":m[0]||(m[0]=A=>r.value=A),onClose:m[1]||(m[1]=A=>r.value=!1),onSelect:_},null,8,["modelValue"]),d("div",iv,[d("div",lv,[d("div",cv,[d("button",{class:"btn btn-primary",onClick:u},"Select Location"),d("button",{class:"btn btn-primary",disabled:a.value===""||i.value==="",onClick:v}," Save Subtree ",8,uv)]),d("div",{class:"btn-group col-4"},[d("button",{class:"btn btn-danger",onClick:c},"Delete Nodes")])]),d("div",dv,[m[3]||(m[3]=d("span",{class:"input-group-text"},"Location:",-1)),d("input",{class:"form-control overflow-x-auto",type:"text",value:a.value,placeholder:"Storage Folder","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,_v),d("input",{class:"form-control overflow-x-auto",type:"text",value:i.value,placeholder:"Filepath","aria-label":"SubreeFilepath","aria-describedby":"subtree-filepath",disabled:"true"},null,8,fv)]),d("div",pv,[d("div",vv,[m[4]||(m[4]=d("span",{class:"input-group-text"},"Name:",-1)),Pe(d("input",{"onUpdate:modelValue":m[2]||(m[2]=A=>o.value=A),class:"form-control",type:"text",placeholder:"Name","aria-label":"SubreeName","aria-describedby":"subtree-name"},null,512),[[os,o.value]])])])])],64))}}),mv={key:0,class:"form-group"},gv={class:"d-block"},yv=["value","disabled"],bv={class:"mb-2 search-results"},wv=["onClick","onKeyup"],Ev={key:1},Tv=oe({__name:"TypeParam",props:{category:{},data_key:{}},setup(s){const e=s,t=_e(),n=Ce(),o=us(),a=E([]),i=Q(()=>n.new_node_options.find(N=>N.key===e.data_key)),r=Q(()=>i.value===void 0?o.messages_fuse:pn(i.value.value.type)[1]==="builtin"?new xe(Bs):o.messages_fuse),l=Q(()=>{if(i.value===void 0)return"";let N=i.value.value.value;return Bs.includes(N)&&(N="builtins."+N),N}),c=E(!0),u=E(!1);function _(N){if(i.value===void 0){console.error("Undefined parameter");return}let k=N.target.value||"";k=k.replace("__builtin__.","").replace("builtins.","");const R=r.value.search(k);a.value=R.map(W=>W.item),n.updateParamValue(e.category,e.data_key,k)}function v(N){n.updateParamValue(e.category,e.data_key,N),w()}function f(N){return Bs.includes(N)&&(N="builtins."+N),N.replace(/\./g,".​")}function g(){n.changeCopyMode(!1),c.value=!1}function m(){c.value=!0}function A(){u.value=!0}function w(){u.value=!1}return(N,C)=>i.value!==void 0?(h(),x("div",mv,[d("label",gv,[he(Z(i.value.key)+" ",1),d("input",{type:"text",class:"form-control mt-2",value:l.value,disabled:b(t).has_selected_subtree,onInput:_,onFocus:g,onBlur:m,onKeyup:C[0]||(C[0]=$e(()=>{m(),w()},["esc"])),onKeydown:$e(A,["tab"])},null,40,yv)]),d("div",bv,[d("div",{class:Ae(["list-group rounded-top-0",{"d-none":c.value&&!u.value}]),onMouseenter:A,onMouseleave:w},[(h(!0),x(ie,null,me(a.value,k=>(h(),x("div",{key:k,class:"list-group-item search-result",tabindex:"0",onClick:()=>v(k),onKeyup:[$e(()=>v(k),["enter"]),$e(w,["esc"])]},Z(f(k)),41,wv))),128))],34)])])):(h(),x("div",Ev,"Error loading param data"))}});var Av=gl();const Nv=wi(Av),Cv={class:"d-flex align-items-center justify-content-between mb-1"},kv=oe({__name:"JSONInput",props:{category:{},data_key:{}},setup(s){const e=Ce(),t=ve(),n=s,o=Q(()=>e.new_node_options.find(f=>f.key===n.data_key)),a=E(!0),i=E();let r;const l=Q(()=>o.value===void 0?!1:o.value.value.type==="dict(ros)"),c=Q(()=>{if(l.value)return e.new_node_options.find(f=>f.value.type===ws)});function u(){e.changeCopyMode(!1)}function _(){if(r!==void 0)try{const f=r.get();a.value=!0,e.updateParamValue(n.category,n.data_key,f)}catch(f){console.debug(f),a.value=!1}}function v(){if(c.value===void 0){console.warn("Nothing to fetch");return}const f=c.value.value.value.type_str;console.log(f),t.get_message_fields_service.callService({message_type:f},g=>{if(console.log(g),g.success){const m=JSON.parse(g.fields);r!==void 0&&r.update(m),e.updateParamValue(n.category,n.data_key,m),L({title:"Successfully loaded message fields!",text:"",type:"success"})}else L({title:"Failed to load message fields!",text:g.error_message,type:"warn"})},g=>{L({title:"Failed to call GetMessageFields service!",text:g,type:"error"})}),console.log("Sent message fields request")}return Nt(()=>o.value===void 0?"":o.value.value.type,()=>{r===void 0||o.value===void 0||r.update(o.value.value.value)}),ns(()=>{i.value!==void 0&&(r=new Nv(i.value,{mode:"code",onChange:()=>_()}),r.aceEditor.setOptions({maxLines:100}),r.aceEditor.resize(),o.value!==void 0&&r.update(o.value.value.value))}),_i(()=>{r!==void 0&&r.destroy()}),(f,g)=>{var m;return h(),x(ie,null,[d("div",Cv,[d("label",null,Z((m=o.value)==null?void 0:m.key),1),c.value?(h(),x("button",{key:0,class:"btn btn-primary btn-sm",onClick:v}," Fetch default message fields ")):ge("",!0)]),d("div",{id:"editor",ref_key:"editor_ref",ref:i,onFocus:u},null,544)],64)}}}),Iv={key:0,class:"form-group"},Sv={class:"d-block"},xv=["value","disabled"],Ov=["value"],Dv={key:1},Oa=oe({__name:"MathOperatorParam",props:{category:{},data_key:{},op_type:{}},setup(s){const e=_e(),t=Ce(),n=s,o=Q(()=>t.new_node_options.find(r=>r.key===n.data_key));function a(r){if(o.value===void 0){console.error("Undefined parameter");return}const l=r.target,c=o.value.value.value;c.operator=l.value,t.updateParamValue(n.category,o.value.key,c)}const i={unary:["not","inv","~","neg","-","pos","+","exp","expm1","log","log1p","log10","ceil","fabs","factorial","floor","sqrt","acos","asin","atan","acosh","asinh","atanh","cos","sin","tan","cosh","sinh","tanh","degrees","radians","erf","erfc","gamma","lgamma"],binary:["add","+","and","&","div","/","floordiv","//","lshift","<<","mod","%","mul","*","or","|","pow","**","rshift",">>","sub","-","truediv","xor","^"]};return(r,l)=>o.value!==void 0?(h(),x("div",Iv,[d("label",Sv,Z(o.value.key),1),d("select",{class:"form-select",value:o.value.value.value.operator,disabled:b(e).has_selected_subtree,onChange:a},[(h(!0),x(ie,null,me(i[n.op_type],c=>(h(),x("option",{key:c,value:c},Z(c),9,Ov))),128))],40,xv)])):(h(),x("div",Dv," Error loading param data "))}}),Lv={key:0,class:"form-group"},Mv={class:"d-block"},$v=["value","disabled"],Rv=["value"],Pv={key:1},Da=oe({__name:"MathOperandParam",props:{category:{},data_key:{},op_type:{}},setup(s){const e=_e(),t=Ce(),n=s,o=Q(()=>t.new_node_options.find(r=>r.key===n.data_key));function a(r){if(o.value===void 0){console.error("Undefined parameter");return}const l=r.target,c=o.value.value.value;c.operand_type=l.value,t.updateParamValue(n.category,o.value.key,c)}const i={unary:["int","float"],binary:["int","float","bool"]};return(r,l)=>o.value!==void 0?(h(),x("div",Lv,[d("label",Mv,Z(o.value.key),1),d("select",{class:"form-select",value:o.value.value.value.operand_type,disabled:b(e).has_selected_subtree,onChange:a},[(h(!0),x(ie,null,me(i[n.op_type],c=>(h(),x("option",{key:c,value:c},Z(c),9,Rv))),128))],40,$v)])):(h(),x("div",Pv," Error loading param data "))}}),jv={class:"d-flex justify-content-between mb-3"},Fv=["disabled"],zv={class:"input-group"},Uv=oe({__name:"SelectFileModal",props:{fromPackages:{type:Boolean}},emits:["select","close"],setup(s,{emit:e}){const t=s,n=e,o=/\.(yaml)$/,a=E(o),i=E(""),r=E([]),l=E(!0),c=E(""),u=Q(()=>(t.fromPackages?"package":"file")+"://"+i.value+"/"+r.value.join("/"));function _(v,f){r.value=v,l.value=f,f&&(c.value="")}return(v,f)=>(h(),J(b(sn),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:ht(()=>[F(vn,{file_filter:a.value,"from-packages":t.fromPackages,title:"Select File from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:c.value,onClose:f[3]||(f[3]=g=>n("close")),onLocation:f[4]||(f[4]=g=>i.value=g),onSelect:f[5]||(f[5]=(g,m)=>_(g,m))},{default:ht(()=>[d("div",jv,[d("button",{class:"btn btn-primary me-2",disabled:l.value,onClick:f[0]||(f[0]=g=>n("select",u.value))}," Select ",8,Fv),Pe(d("select",{"onUpdate:modelValue":f[1]||(f[1]=g=>a.value=g),class:"form-select me-2 w-50"},[d("option",{value:o},"Valid files"),f[6]||(f[6]=d("option",{value:void 0},"All files",-1))],512),[[St,a.value]]),d("div",zv,[f[7]||(f[7]=d("span",{class:"input-group-text"}," Search: ",-1)),Pe(d("input",{"onUpdate:modelValue":f[2]||(f[2]=g=>c.value=g),type:"text",class:"form-control",placeholder:"Search Folder or File"},null,512),[[os,c.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),Wv={key:0,class:"form-group"},Hv={class:"d-block"},Vv={class:"input-group"},Yv=["value"],Bv={key:1},Gv=oe({__name:"FilePathParam",props:{category:{},data_key:{}},setup(s){const e=Ce(),t=s,n=Q(()=>e.new_node_options.find(c=>c.key===t.data_key)),o=E(!1),a=E(!1);function i(){a.value=!0,o.value=!0}function r(){a.value=!1,o.value=!0}function l(c){if(n.value===void 0){console.error("Undefined parameter");return}const u=n.value.value.value;u.path=c,e.updateParamValue(t.category,n.value.key,u),o.value=!1}return(c,u)=>{const _=Ne("FontAwesomeIcon");return h(),x(ie,null,[F(Uv,{modelValue:o.value,"onUpdate:modelValue":u[0]||(u[0]=v=>o.value=v),"from-packages":a.value,onClose:u[1]||(u[1]=v=>o.value=!1),onSelect:l},null,8,["modelValue","from-packages"]),n.value!==void 0?(h(),x("div",Wv,[d("label",Hv,Z(n.value.key),1),d("div",Vv,[d("input",{type:"text",class:"form-control",value:n.value.value.value.path,disabled:""},null,8,Yv),d("button",{class:"btn btn-primary",onClick:i},[F(_,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),u[2]||(u[2]=d("span",{class:"ms-1"},"Package",-1))]),d("button",{class:"btn btn-primary",onClick:r},[F(_,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),u[3]||(u[3]=d("span",{className:"ms-1"},"File",-1))])])])):(h(),x("div",Bv,"Error loading param data"))],64)}}}),Kv={key:0,class:"form-group"},Zv={class:"d-block"},Qv=["value","disabled"],Jv={class:"mb-2 search-results"},Xv=["onClick","onKeyup"],qv={key:1},zn=oe({__name:"RosTypeParam",props:{category:{},data_key:{},type:{}},setup(s){const e=Ce(),t=_e(),n=us(),o=s,a=E([]),i=Q(()=>e.new_node_options.find(w=>w.key===o.data_key)),r=Q(()=>{if(i.value!==void 0&&pn(i.value.value.type)[1]==="full")return n.ros_all_messages_fuse;switch(o.type){case"topic":return n.ros_topic_type_fuse;case"service":return n.ros_service_type_fuse;case"action":return n.ros_action_type_fuse;default:return}}),l=E(!0),c=E(!1);function u(w){if(i.value===void 0||r.value===void 0){console.error("Undefined parameter");return}const C=w.target.value||"",k=r.value.search(C);a.value=k.map(R=>R.item),_(C)}function _(w){if(i.value===void 0){console.error("Undefined parameter");return}const N=i.value.value.value;N.type_str=w,e.updateParamValue(o.category,o.data_key,N)}function v(w){_(w),A()}function f(){e.changeCopyMode(!1),l.value=!1}function g(){l.value=!0}function m(){c.value=!0}function A(){c.value=!1}return(w,N)=>i.value!==void 0?(h(),x("div",Kv,[d("label",Zv,[he(Z(i.value.key)+" ",1),d("input",{type:"text",class:"form-control mt-2",value:i.value.value.value.type_str,disabled:b(t).has_selected_subtree,onInput:u,onFocus:f,onBlur:g,onKeyup:N[0]||(N[0]=$e(()=>{g(),A()},["esc"])),onKeydown:$e(m,["tab"])},null,40,Qv)]),d("div",Jv,[d("div",{class:Ae(["list-group rounded-top-0",{"d-none":l.value&&!c.value}]),onMouseenter:m,onMouseleave:A},[(h(!0),x(ie,null,me(a.value,C=>(h(),x("div",{key:C,class:"list-group-item search-result",tabindex:"0",onClick:()=>v(C),onKeyup:[$e(()=>v(C),["enter"]),$e(A,["esc"])]},Z(C),41,Xv))),128))],34)])])):(h(),x("div",qv,"Error loading param data"))}}),eh={key:0,class:"form-group"},th={class:"d-block"},sh=["value","disabled"],nh={class:"mb-2 search-results"},oh=["onClick","onKeyup"],ah={key:1},Un=oe({__name:"RosNameParam",props:{category:{},data_key:{},type:{}},setup(s){const e=Ce(),t=_e(),n=us(),o=s,a=E([]),i=Q(()=>e.new_node_options.find(C=>C.key===o.data_key)),r=Q(()=>{let C;switch(o.type){case"topic":C=ws;break;case"service":C=qs;break;case"action":C=en;break;default:return}return e.new_node_options.find(k=>k.value.type===C)}),l=Q(()=>{switch(o.type){case"topic":return n.ros_topic_name_fuse;case"service":return n.ros_service_name_fuse;case"action":return n.ros_action_name_fuse;default:return}}),c=E(!0),u=E(!1);function _(C){if(i.value===void 0||l.value===void 0){console.error("Undefined parameter");return}const R=C.target.value||"",W=l.value.search({name:R});a.value=W.map(M=>M.item),v(R)}function v(C){if(i.value===void 0){console.error("Undefined parameter");return}const k=i.value.value.value;k.name=C,e.updateParamValue(o.category,o.data_key,k)}function f(C){if(r.value===void 0)return;const k=r.value.value.value;k.type_str=C,e.updateParamValue(o.category,r.value.key,k)}function g(C){v(C.name),f(C.type),N()}function m(){e.changeCopyMode(!1),c.value=!1}function A(){c.value=!0}function w(){u.value=!0}function N(){u.value=!1}return(C,k)=>i.value!==void 0?(h(),x("div",eh,[d("label",th,[he(Z(i.value.key)+" ",1),d("input",{type:"text",class:"form-control mt-2",value:i.value.value.value.name,disabled:b(t).has_selected_subtree,onInput:_,onFocus:m,onBlur:A,onKeyup:k[0]||(k[0]=$e(()=>{A(),N()},["esc"])),onKeydown:$e(w,["tab"])},null,40,sh)]),d("div",nh,[d("div",{class:Ae(["list-group rounded-top-0",{"d-none":c.value&&!u.value}]),onMouseenter:w,onMouseleave:N},[(h(!0),x(ie,null,me(a.value,R=>(h(),x("div",{key:R.name,class:"list-group-item search-result",tabindex:"0",onClick:()=>g(R),onKeyup:[$e(()=>g(R),["enter"]),$e(N,["esc"])]},[he(Z(R.name),1),k[1]||(k[1]=d("br",null,null,-1)),d("small",null,Z(R.type),1)],40,oh))),128))],34)])])):(h(),x("div",ah,"Error loading param data"))}}),rh={key:0,class:"list-group-item"},ih={key:0,class:"form-group"},lh={class:"d-block"},ch={key:13,class:"form-group position-relative"},uh={key:1},dh=oe({__name:"ParamInputs",props:{category:{},data_key:{}},setup(s){const e=s,t=Ce(),n=_e(),o=Q(()=>t.new_node_options.find(u=>u.key===e.data_key)),a=Q(()=>o.value===void 0?"":pn(o.value.value.type)[0]),i=["int","float","bool","str",ss],r=Q(()=>{if(o.value===void 0||!i.includes(a.value))return;let u,_,v="any",f=["form-control"],g=!1,m=n.has_selected_subtree;switch(a.value){case"int":v=1;case"float":u="number",_=o.value.value.value;break;case"bool":u="checkbox",g=o.value.value.value,f=["form-check-input","d-block"];break;case ss:m=!0;case"str":u="text",_=o.value.value.value;break;default:u="hidden";break}return{type:u,value:_,class:f,step:v,checked:g,disabled:m}});function l(u){if(o.value===void 0)return;const _=u.target;let v;switch(o.value.value.type){case"int":v=parseInt(_.value),isNaN(v)&&(v=0);break;case"float":v=parseFloat(_.value),isNaN(v)&&(v=0);break;case"bool":v=_.checked;break;default:v=_.value;break}t.updateParamValue(e.category,e.data_key,v)}function c(){t.changeCopyMode(!1)}return(u,_)=>o.value!==void 0?(h(),x("div",rh,[r.value!==void 0?(h(),x("div",ih,[d("label",lh,Z(o.value.key),1),d("input",Fa(r.value,{onChange:l,onFocus:c}),null,16)])):a.value==="type"?(h(),J(Tv,{key:1,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):a.value===b(Xn)?(h(),J(Oa,{key:2,category:e.category,data_key:e.data_key,op_type:"unary"},null,8,["category","data_key"])):a.value===b(to)?(h(),J(Da,{key:3,category:e.category,data_key:e.data_key,op_type:"unary"},null,8,["category","data_key"])):a.value===b(qn)?(h(),J(Oa,{key:4,category:e.category,data_key:e.data_key,op_type:"binary"},null,8,["category","data_key"])):a.value===b(eo)?(h(),J(Da,{key:5,category:e.category,data_key:e.data_key,op_type:"binary"},null,8,["category","data_key"])):a.value===b(so)?(h(),J(Gv,{key:6,category:e.category,data_key:e.data_key},null,8,["category","data_key"])):a.value===b(ws)?(h(),J(zn,{key:7,category:e.category,data_key:e.data_key,type:"topic"},null,8,["category","data_key"])):a.value===b(no)?(h(),J(Un,{key:8,category:e.category,data_key:e.data_key,type:"topic"},null,8,["category","data_key"])):a.value===b(qs)?(h(),J(zn,{key:9,category:e.category,data_key:e.data_key,type:"service"},null,8,["category","data_key"])):a.value===b(oo)?(h(),J(Un,{key:10,category:e.category,data_key:e.data_key,type:"service"},null,8,["category","data_key"])):a.value===b(en)?(h(),J(zn,{key:11,category:e.category,data_key:e.data_key,type:"action"},null,8,["category","data_key"])):a.value===b(ao)?(h(),J(Un,{key:12,category:e.category,data_key:e.data_key,type:"action"},null,8,["category","data_key"])):(h(),x("div",ch,[F(kv,{category:e.category,data_key:e.data_key},null,8,["category","data_key"])]))])):(h(),x("div",uh,"Error loading param data"))}}),_h={key:0,class:"list-group-item"},fh={class:"h5"},ph={className:"text-muted"},vh={key:0,class:"d-flex flex-wrap m-1"},hh=["onClick"],mh={key:1},La=oe({__name:"ParamDisplay",props:{category:{},data_key:{}},setup(s){const e=s,t=_e(),n=Ce(),o=Q(()=>{switch(e.category){case"inputs":return n.new_node_inputs.find(l=>l.key===e.data_key);case"outputs":return n.new_node_outputs.find(l=>l.key===e.data_key);default:return}}),a=Q(()=>t.current_tree.structure===void 0?[]:t.current_tree.structure.data_wirings.filter(l=>i(l.source)||i(l.target)));function i(l){return n.selected_node===void 0?!1:l.data_key===e.data_key&&l.data_kind===e.category&&l.node_name===n.selected_node.name}function r(l){let c=null;return i(l.source)&&(c=l.target),i(l.target)&&(c=l.source),c===null?"":c.node_name+"."+c.data_key}return(l,c)=>o.value!==void 0?(h(),x("div",_h,[d("div",fh,[he(Z(o.value.key+" ")+" ",1),d("span",ph,"(type: "+Z(o.value.type)+")",1)]),a.value?(h(),x("div",vh,[(h(!0),x(ie,null,me(a.value,u=>(h(),x("button",{class:"btn btn-outline-primary m-1",onClick:_=>b(t).selectEdge(u)},Z(r(u)),9,hh))),256))])):ge("",!0)])):(h(),x("div",mh,"Error loading param data"))}}),gh={class:"d-flex flex-column overflow-auto pb-3",style:{"max-height":"40vh"}},yh=["value","disabled"],bh={class:"d-flex align-items-baseline mb-2"},wh={class:"text-muted"},Eh={key:0},Th=["value","disabled"],Ah=["value"],Nh={key:0,class:"mb-3"},Ch={key:0,class:"mx-2"},kh={class:"mb-3"},Ih={class:"list-group"},Sh={class:"mb-3"},xh={class:"list-group"},Oh={className:"mb-3"},Dh={class:"list-group"},ti=oe({__name:"EditableNode",setup(s){const e=_e(),t=Ce(),n=E(!1);return(o,a)=>{const i=Ne("FontAwesomeIcon");return h(),x("div",gh,[d("input",{class:"form-control-lg mb-2",type:"text",value:b(t).new_node_name,disabled:b(e).has_selected_subtree,onFocus:a[0]||(a[0]=()=>b(t).changeCopyMode(!1)),onChange:a[1]||(a[1]=r=>b(t).changeNodeName(r.target.value))},null,40,yh),d("div",bh,[d("h4",wh,[b(t).is_flow_control_node?(h(),x("select",{key:1,class:"form-select",value:b(t).new_node_module+b(t).new_node_class,disabled:b(e).has_selected_subtree,onChange:a[2]||(a[2]=r=>b(t).changeNodeClass(r.target.value))},[(h(!0),x(ie,null,me(b(t).flow_control_nodes,r=>(h(),x("option",{key:r.module+r.node_class,value:r.module+r.node_class},[he(Z(r.node_class)+" ",1),d("small",null,"("+Z(r.module)+")",1)],8,Ah))),128))],40,Th)):(h(),x("div",Eh,[he(Z(b(t).new_node_class)+" ",1),d("small",null,"("+Z(b(t).new_node_module)+")",1)]))])]),b(t).reference_node&&b(tn)(b(t).reference_node.doc)!==""?(h(),x("div",Nh,[d("div",{class:"d-flex align-items-baseline cursor-pointer",onClick:a[3]||(a[3]=()=>n.value=!n.value)},[a[4]||(a[4]=d("h5",null,"Description",-1)),F(i,{icon:"fa-solid "+(n.value?"fa-angle-up":"fa-angle-down"),"aria-hidden":"true",class:"ms-2"},null,8,["icon"])]),n.value?(h(),x("div",Ch,Z(b(tn)(b(t).reference_node.doc)),1)):ge("",!0)])):ge("",!0),d("div",kh,[a[5]||(a[5]=d("h5",null,"Options",-1)),d("div",Ih,[(h(!0),x(ie,null,me(b(t).new_node_options,r=>(h(),J(dh,{key:"option_"+r.key,data_key:r.key,category:"options"},null,8,["data_key"]))),128))])]),d("div",Sh,[a[6]||(a[6]=d("h5",null,"Input",-1)),d("div",xh,[(h(!0),x(ie,null,me(b(t).new_node_inputs,r=>(h(),J(La,{key:"input_"+r.key,data_key:r.key,category:"inputs"},null,8,["data_key"]))),128))])]),d("div",Oh,[a[7]||(a[7]=d("h5",null,"Output",-1)),d("div",Dh,[(h(!0),x(ie,null,me(b(t).new_node_outputs,r=>(h(),J(La,{key:"output_"+r.key,data_key:r.key,category:"outputs"},null,8,["data_key"]))),128))])])])}}}),Lh={class:"d-flex flex-column"},Mh=["disabled"],$h={class:"pt-2 pb-2"},Rh=["disabled"],Ph=["value"],jh=oe({__name:"NewNode",props:{parents:{}},setup(s){const e=s,t=Ce(),n=E(e.parents.length>0?e.parents[0].name:"");async function o(){if(t.reference_node===void 0){console.error("Undefined node reference, can't add node to tree");return}const a=await Bt(t.buildNodeMsg(),n.value,-1);t.clearNodeHasChanged(),t.editorSelectionChange(a)}return(a,i)=>(h(),x("div",Lh,[d("button",{class:"btn btn-block btn-primary",disabled:!b(t).node_is_valid,onClick:o}," Add to Tree ",8,Mh),d("label",$h,[i[1]||(i[1]=he(" Parent ")),Pe(d("select",{"onUpdate:modelValue":i[0]||(i[0]=r=>n.value=r),class:"custom-select d-block",disabled:a.parents.length===0},[(h(!0),x(ie,null,me(a.parents,r=>(h(),x("option",{key:r.name,value:r.name},Z(r.name),9,Ph))),128))],8,Rh),[[St,n.value]])]),F(ti)]))}}),Fh={class:"d-flex flex-column"},zh={class:"row g-2 mb-3"},Uh={class:"btn-group col-4"},Wh=["disabled"],Hh={class:"btn-group col-8"},Vh=["disabled"],Yh=["disabled"],Bh=oe({__name:"SelectedNode",setup(s){const e=ve(),t=_e(),n=Ce();async function o(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+"?")&&(await ei(n.selected_node.name,!1),n.clearSelection())}function a(){if(n.selected_node===void 0){console.error("Can't delete a node that doesn't exist");return}window.confirm("Really delete node "+n.selected_node.name+" and all of its children?")&&e.remove_node_service.callService({node_name:n.selected_node.name,remove_children:!0},l=>{l.success?(L({title:"Removed "+n.selected_node.name+" and its children successfully!",type:"success"}),n.clearSelection()):L({title:"Failed to remove node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}function i(){if(n.selected_node===void 0){console.error("Can't update a node that doesn't exist");return}e.set_options_service.callService({node_name:n.selected_node.name,rename_node:!0,new_name:n.new_node_name,options:Co(n.new_node_options)},l=>{l.success?(L({title:"Updated node "+n.new_node_name+" successfully!",type:"success"}),n.clearNodeHasChanged(),n.editorSelectionChange(n.new_node_name)):L({title:"Failed to update node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}function r(){if(n.node_is_morphed){if(n.selected_node===void 0){console.error("Can't morph a node that doesn't exist");return}e.morph_node_service.callService({node_name:n.selected_node.name,new_node:n.buildNodeMsg()},l=>{l.success?(L({title:"Morphed node "+n.new_node_name+" successfully!",type:"success"}),n.node_is_morphed=!1,i()):L({title:"Failed to morph node "+n.selected_node.name+"!",text:l.error_message,type:"error"})})}else i()}return(l,c)=>(h(),x("div",Fh,[d("div",zh,[d("div",Uh,[d("button",{class:"btn btn-primary",disabled:!b(n).node_is_valid||b(t).has_selected_subtree,onClick:r}," Update Node ",8,Wh)]),d("div",Hh,[d("button",{class:"btn btn-danger",disabled:b(t).has_selected_subtree,onClick:o}," Delete Node ",8,Vh),d("button",{class:"btn btn-danger",disabled:b(t).has_selected_subtree,onClick:a}," Delete Node + Children ",8,Yh)])]),F(ti)]))}}),Gh={class:"row my-2"},Kh={class:"col"},Zh={class:"input-group"},Qh=["disabled","value"],Jh=["disabled"],Xh={class:"col-auto"},qh={class:"input-group state-display"},em=oe({__name:"TreeNameStateDisplay",setup(s){const e=_e(),t=ve(),n=Q(()=>e.current_tree.structure!==void 0?e.current_tree.structure.name:""),o=E(n.value),a=Q(()=>{const u=e.tree_state_list.find(_=>_.tree_id==="");return u!==void 0?u.state:Se.EDITABLE}),i=Q(()=>{let u="";switch(a.value){case Se.ERROR:u="--bg-color-error";break;case Se.IDLE:u="--bg-color-idle";break;case Se.STOP_REQUESTED:u="--bg-color-stop-requested";break;case Se.TICKING:u="--bg-color-ticking";break;case Se.WAITING_FOR_TICK:u="--bg-color-waiting-for-tick";break;case Se.EDITABLE:default:u="--bg-color-default";break}return{backgroundColor:"var("+u+")"}}),r=Q(()=>{let u;switch(a.value){case Se.ERROR:u="fa-exclamation";break;case Se.IDLE:u="fa-pause";break;case Se.STOP_REQUESTED:u="fa-pause";break;case Se.TICKING:u="fa-bolt";break;case Se.WAITING_FOR_TICK:u="fa-hourglass-half";break;case Se.EDITABLE:u="fa-pen";break;default:u="";break}return"fa-solid "+u});Ws(l);function l(){a.value===Se.ERROR&&window.alert("There has been an error while running the tree")}function c(){console.log(o.value),t.change_tree_name_service.callService({name:o.value},u=>{u.success?L({title:"Successfully renamed tree!",text:o.value,type:"success"}):L({title:"Failed to rename tree!",text:u.error_message,type:"warn"})},u=>{L({title:"Failed to call ChangeTreeName service!",text:u,type:"error"})})}return(u,_)=>{const v=Ne("FontAwesomeIcon");return h(),x("div",Gh,[d("div",Kh,[d("div",Zh,[_[1]||(_[1]=d("label",{class:"input-group-text",for:"treeNameForm"}," Name ",-1)),d("input",{id:"treeNameForm",class:"form-control",type:"text",disabled:b(e).has_selected_subtree,value:n.value,onInput:_[0]||(_[0]=f=>o.value=f.target.value)},null,40,Qh),d("button",{class:"btn btn-primary",disabled:b(e).has_selected_subtree,onClick:c}," Save ",8,Jh)])]),d("div",Xh,[d("div",qh,[_[2]||(_[2]=d("label",{class:"input-group-text"}," State ",-1)),d("label",{class:"input-group-text",style:fi([i.value,{width:"12em"}])},[F(v,{icon:r.value,class:"me-2"},null,8,["icon"]),he(" "+Z(a.value),1)],4)])])])}}}),tm=Mt(em,[["__scopeId","data-v-d9f50467"]]),sm={class:"d-flex align-items-center h-100"},nm={class:"btn-group"},om=oe({__name:"EditorDisplayButtons",props:{execBarVisible:{type:Boolean}},emits:["show","hide"],setup(s,{emit:e}){const t=s,n=e,o=_e();return(a,i)=>{const r=Ne("FontAwesomeIcon");return h(),x("div",sm,[d("div",nm,[d("button",{class:"btn btn-primary",title:"Toggle Data Graph",onClick:i[0]||(i[0]=l=>b(o).enableShowDataGraph(!b(o).show_data_graph))},[F(r,{class:Ae(b(o).show_data_graph?"text-white":"text-white-50"),icon:"fa-solid fa-route"},null,8,["class"])]),t.execBarVisible?(h(),x("button",{key:0,class:"btn btn-primary btn-spaced",title:"Hide User Interface",onClick:i[1]||(i[1]=l=>n("hide"))},[F(r,{icon:"fa-solid fa-window-maximize"})])):(h(),x("button",{key:1,class:"btn btn-primary btn-spaced",title:"Show User Interface",onClick:i[2]||(i[2]=l=>n("show"))},[F(r,{icon:"fa-solid fa-window-restore"})])),d("button",{class:"btn btn-primary btn-spaced",title:"Change tree layout (layers/subtrees)",onClick:i[3]||(i[3]=()=>b(o).is_layer_mode=!b(o).is_layer_mode)},[F(r,{class:Ae(b(o).is_layer_mode?"text-white":"text-white-50"),icon:"fa-solid fa-layer-group"},null,8,["class"]),F(r,{class:Ae(b(o).is_layer_mode?"text-white-50":"text-white"),icon:"fa-solid fa-tree"},null,8,["class"])]),d("button",{class:"btn btn-primary btn-spaced",title:"Change editor appearance",onClick:i[4]||(i[4]=(...l)=>b(o).cycleEditorSkin&&b(o).cycleEditorSkin(...l))},[F(r,{class:Ae(b(o).skin===b(Xs).DARK?"text-white":"text-white-50"),icon:"fa-solid fa-moon"},null,8,["class"]),F(r,{class:Ae(b(o).skin===b(Xs).LIGHT?"text-white":"text-white-50"),icon:"fa-solid fa-sun"},null,8,["class"])])])])}}}),am=["disabled"],rm=["disabled"],im=oe({__name:"LoadSaveClient",setup(s){const e=ve(),t=_e(),n=E(),o=new FileReader;function a(_){const v=_.target;if(o.onloadend=c,v.files===null){L({title:"File selection is null!",type:"error"});return}o.readAsText(v.files[0])}function i(_,v){const f=document.createElement("a");f.download=v,f.href=_,document.body.appendChild(f),f.click(),document.body.removeChild(f)}function r(_){if(e.load_tree_service===void 0){L({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:_,permissive:!1},v=>{if(v.success)L({title:"Loaded tree successfully!",type:"success"}),t.resetQuickSaveLocation();else{if((v.error_message.startsWith("Expected data to be of type type, got dict instead. Looks like failed jsonpickle decode,")||v.error_message.startsWith("AttributeError, maybe a ROS Message definition changed."))&&(L({title:"Loaded tree has invalid input/output/option typings!",type:"warn"}),window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!"))){if(e.load_tree_service===void 0){L({title:"Service is unavailable!",text:"LoadTree service is not connected!",type:"error"});return}e.load_tree_service.callService({tree:_,permissive:!0},f=>{f.success?(L({title:"Loaded tree successfully!",type:"success"}),t.resetQuickSaveLocation()):L({title:"Failed to load tree!",text:f.error_message,type:"warn"})},f=>{L({title:"Failed to call load tree service!",text:f,type:"error"})})}L({title:"Failed to load tree!",text:v.error_message,type:"error"})}},v=>{L({title:"Failed to call load tree service!",text:v,type:"error"})})}function l(){if(n.value===void 0){console.error("Fileref is undefined!");return}n.value.click()}function c(){let _=[];try{if(o.result===null){L({title:"Content of selected reads as null!",type:"error"});return}const v=o.result;_=gn.loadAll(v);let f=null;for(let g=0;g<_.length;g++)_[g]!=null&&(f=_[g]);r(f)}catch(v){if(console.warn(v),e.fix_yaml_service===void 0){L({title:"Service is unavailable!",text:"FixYaml service is not connected!",type:"error"});return}e.fix_yaml_service.callService({broken_yaml:o.result},f=>{if(f.success){_=gn.loadAll(f.fixed_yaml);let g=null;for(let m=0;m<_.length;m++)_[m]!=null&&(g=_[m]);r(g)}},f=>{L({title:"Failed to call FixYaml service!",text:f,type:"error"})})}}function u(){if(!e.connected){L({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand(Ee.SHUTDOWN),e.control_tree_execution_service.callService({command:Ee.SHUTDOWN},_=>{if(_.success){L({title:"Tree shutdown successful!",type:"success"});const v=t.tree_structure_list.find(g=>g.tree_id==="");if(v===void 0){L({title:"Tree is undefined, cannot save!",type:"error"});return}const f=gn.dump(v);i("data:text/plain,"+encodeURIComponent(f),"tree.yaml")}else L({title:"Failed to shutdown tree, cannot save now!",text:_.error_message,type:"error"})},_=>{L({title:"Calling ControlTreeExecution ROS service failed!",text:_,type:"error"})})}return(_,v)=>{const f=Ne("FontAwesomeIcon");return h(),x(ie,null,[d("input",{ref_key:"file_input_ref",ref:n,type:"file",class:"file_input_ref",onChange:a},null,544),d("button",{class:"btn btn-primary btn-spaced",title:"Upload",disabled:b(t).has_selected_subtree,onClick:l},[F(f,{icon:"fa-solid fa-file-upload","aria-hidden":"true"}),v[0]||(v[0]=d("span",{class:"ms-1 hide-button-text"},"Upload",-1))],8,am),d("button",{class:"btn btn-primary btn-spaced",title:"Download",disabled:b(t).has_selected_subtree,onClick:u},[F(f,{icon:"fa-solid fa-file-download","aria-hidden":"true"}),v[1]||(v[1]=d("span",{class:"ms-1 hide-button-text"},"Download",-1))],8,rm)],64)}}}),lm=Mt(im,[["__scopeId","data-v-4641ffcc"]]),cm={class:"d-flex justify-content-between mb-3"},um=["disabled"],dm=["value"],_m={class:"input-group mb-3"},fm=oe({__name:"SaveFileModal",emits:["close"],setup(s,{emit:e}){const t=e,n=ve(),o=_e(),a=/\.(yaml)$/,i=E(a),r=E(""),l=E([]),c=E(!0),u=E(""),_=Q(()=>o.tree_structure_list.find(A=>A.tree_id==="")),v=Q(()=>c.value?[...l.value,u.value].join("/"):[...l.value.slice(0,-1),u.value].join("/"));function f(A,w){l.value=A,c.value=w,w?u.value="":u.value=A[A.length-1]}const g=E(vt.ASK);function m(){if(!a.test(v.value)){console.error("Path is of improper format: ",v);return}if(_.value===void 0){console.error("No tree to save");return}const[A,w]=qr(g.value),N={storage_path:r.value,filepath:v.value,tree:_.value,allow_overwrite:A,allow_rename:w};n.save_tree_service.callService(N,C=>{if(C.success)L({title:"Successfully saved tree!",text:C.file_path,type:"success"}),o.setQuickSaveLocation(C.file_path),t("close");else{if(g.value!==vt.ASK||C.error_message!=="Overwrite not allowed"){L({title:"Failed to save tree!",text:C.error_message,type:"warn"});return}if(!window.confirm("Do you want to overwrite '"+r.value+"/"+v.value+"' ?")){L({title:"Failed to save tree!",text:"Rejected overwrite confirmation",type:"warn"});return}N.allow_overwrite=!0,N.allow_rename=!1,n.save_tree_service.callService(N,k=>{k.success?(L({title:"Successfully saved tree!",text:k.file_path,type:"success"}),o.setQuickSaveLocation(k.file_path),t("close")):L({title:"Failed to save tree!",text:k.error_message,type:"warn"})},k=>{L({title:"Failed to call SaveTree service!",text:k,type:"error"})})}},C=>{L({title:"Failed to call SaveTree service!",text:C,type:"error"})})}return(A,w)=>(h(),J(b(sn),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:ht(()=>[F(vn,{location:"Folder",title:"Save Tree to Folder",file_filter:i.value,search_term:u.value,onClose:w[3]||(w[3]=N=>t("close")),onLocation:w[4]||(w[4]=N=>r.value=N),onSelect:w[5]||(w[5]=(N,C)=>f(N,C))},{default:ht(()=>[d("div",cm,[d("button",{class:"btn btn-primary me-2",disabled:!a.test(u.value),onClick:m}," Save ",8,um),Pe(d("select",{"onUpdate:modelValue":w[0]||(w[0]=N=>i.value=N),class:"form-select me-2"},[d("option",{value:a},"Valid files"),w[6]||(w[6]=d("option",{value:void 0},"All files",-1))],512),[[St,i.value]]),Pe(d("select",{"onUpdate:modelValue":w[1]||(w[1]=N=>g.value=N),class:"form-select"},[(h(!0),x(ie,null,me(Object.values(b(vt)),N=>(h(),x("option",{key:N,value:N},Z(N),9,dm))),128))],512),[[St,g.value]])]),d("div",_m,[w[7]||(w[7]=d("span",{class:"input-group-text"}," Name: ",-1)),Pe(d("input",{"onUpdate:modelValue":w[2]||(w[2]=N=>u.value=N),type:"text",class:"form-control",placeholder:"Name of File to Save (also acts as a search bar)"},null,512),[[os,u.value]])])]),_:1},8,["file_filter","search_term"])]),_:1}))}}),pm={class:"d-flex justify-content-between mb-3"},vm=["disabled"],hm={class:"input-group"},Ma=oe({__name:"LoadFileModal",props:{fromPackages:{type:Boolean}},emits:["close"],setup(s,{emit:e}){const t=s,n=e,o=_e(),a=ve(),i=[],r=/\.(yaml)$/,l=E(r),c=E(""),u=E([]),_=E(!0),v=E(""),f=Q(()=>(t.fromPackages?"package":"file")+"://"+c.value+"/"+u.value.join("/"));function g(A,w){u.value=A,_.value=w,w&&(v.value="")}function m(){a.load_tree_from_path_service.callService({path:f.value,permissive:!1},A=>{if(A.success)L({title:"Successfully loaded tree!",text:f.value,type:"success"}),o.resetQuickSaveLocation(),n("close");else{if(L({title:"Error while calling LoadTree service!",text:A.error_message,type:"warn"}),!i.includes(A.error_message))return;if(!window.confirm("The tree you want to load seems to have nodes with invalid options, do you want to load it in permissive mode? WARNING: this will probably change some option values!")){L({title:"Error while calling LoadTree service!",text:"Loading in permissive mode was rejected.",type:"warn"});return}a.load_tree_from_path_service.callService({path:f.value,permissive:!0},w=>{w.success?(L({title:"Successfully loaded tree in permissive mode!",text:f.value,type:"success"}),o.resetQuickSaveLocation(),n("close")):L({title:"Error while calling LoadTree service in permissive mode!",text:w.error_message,type:"warn"})},w=>{L({title:"Failed to call LoadTree service!",text:w,type:"error"})})}},A=>{L({title:"Failed to call LoadTree service!",text:A,type:"error"})})}return(A,w)=>(h(),J(b(sn),{class:"flex justify-center items-center","content-class":"flex flex-col mt-4 mx-4 border rounded space-y-2","content-style":"background-color: var(--bs-body-bg);"},{default:ht(()=>[F(vn,{file_filter:l.value,"from-packages":t.fromPackages,title:"Load Tree from "+(t.fromPackages?"Package":"Folder"),location:t.fromPackages?"Package":"Folder",search_term:v.value,onClose:w[2]||(w[2]=N=>n("close")),onLocation:w[3]||(w[3]=N=>c.value=N),onSelect:w[4]||(w[4]=(N,C)=>g(N,C))},{default:ht(()=>[d("div",pm,[d("button",{class:"btn btn-primary me-2",disabled:_.value,onClick:m}," Load ",8,vm),Pe(d("select",{"onUpdate:modelValue":w[0]||(w[0]=N=>l.value=N),class:"form-select me-2 w-50"},[d("option",{value:r},"Valid files"),w[5]||(w[5]=d("option",{value:void 0},"All files",-1))],512),[[St,l.value]]),d("div",hm,[w[6]||(w[6]=d("span",{class:"input-group-text"}," Search: ",-1)),Pe(d("input",{"onUpdate:modelValue":w[1]||(w[1]=N=>v.value=N),type:"text",class:"form-control",placeholder:"Search Folder or File"},null,512),[[os,v.value]])])])]),_:1},8,["file_filter","from-packages","title","location","search_term"])]),_:1}))}}),mm=["disabled"],gm={class:"btn-group btn-spaced",role:"group"},ym=["disabled"],bm={class:"dropdown-menu","aria-labelledby":"btnGroupDrop1"},wm=["disabled"],Em=["disabled"],Tm=["disabled"],Am=["disabled"],Nm=oe({__name:"LoadSaveServer",setup(s){const e=ve(),t=_e(),n=E([]),o=Q(()=>{let m=t.quick_save_location;const A=t.tree_structure_list.find(N=>N.tree_id==="");if(m===""&&A!==void 0&&(m=A.path),m===""||!m.startsWith("file://"))return["",""];m=m.replace("file://","");const w=n.value.find(N=>m.startsWith(N+"/"));return w===void 0?["",""]:[w,m.replace(w+"/","")]}),a=Q(()=>o.value[0]===""||o.value[1]===""),i=mn({component:Ma,attrs:{fromPackages:!0,onClose(){i.close()}}}),r=mn({component:Ma,attrs:{fromPackages:!1,onClose(){r.close()}}}),l=mn({component:fm,attrs:{onClose(){l.close()}}});function c(){if(e.clear_tree_service===void 0){L({title:"Service not available!",text:"ClearTree ROS service not available.",type:"error"});return}window.confirm("Do you want to create a new tree? Warning: This will discard the tree that is loaded at the moment.")&&e.clear_tree_service.callService({},m=>{m.success?(console.log("called ClearTree service successfully"),L({title:"Created new tree successfully!",type:"success"}),t.resetQuickSaveLocation()):L({title:"Could not create new tree!",type:"warn",text:m.error_message})},m=>{L({title:"ClearTree service call failed!",type:"error",text:m})})}function u(){i.open()}function _(){r.open()}function v(){if(e.control_tree_execution_service===void 0){L({title:"Service not available!",text:"ControlTreeExecution ROS service is not connected.",type:"error"});return}t.runNewCommand(Ee.SHUTDOWN),e.control_tree_execution_service.callService({command:Ee.SHUTDOWN},m=>{t.removeRunningCommand(Ee.SHUTDOWN),m.success?(L({title:"Tree shutdown successful!",type:"success"}),l.open()):L({title:"Failed to shutdown tree, cannot save now!",text:m.error_message,type:"warn"})},m=>{L({title:"Calling ControlTreeExecution ROS service failed!",text:m,type:"error"})})}function f(){if(a.value||!window.confirm(`Do you want to overwrite ${o.value[0]}/${o.value[1]}?`))return;const m=t.tree_structure_list.find(A=>A.tree_id==="");e.save_tree_service.callService({storage_path:o.value[0],filepath:o.value[1],tree:m,allow_overwrite:!0,allow_rename:!1},A=>{A.success?L({title:"Successfully saved tree to",text:A.file_path,type:"success"}):L({title:"Quick save failed",text:A.error_message,type:"warn"})},A=>{L({title:"Failed to call SaveTree service",text:A,type:"error"})})}function g(){e.get_storage_folders_service.callService({},m=>{n.value=m.storage_folders},m=>{L({title:"Failed to call GetStorageFolders service!",text:m,type:"error"})})}return ns(()=>{g()}),(m,A)=>{const w=Ne("FontAwesomeIcon");return h(),x(ie,null,[d("button",{class:"btn btn-primary",title:"New tree",disabled:b(t).has_selected_subtree,onClick:c},[F(w,{icon:"fa-solid fa-file","aria-hidden":"true"}),A[0]||(A[0]=d("span",{class:"ms-1 hide-button-text"},"New",-1))],8,mm),d("div",gm,[d("button",{id:"btnGroupDrop1",type:"button",class:"btn btn-primary dropdown-toggle","data-bs-toggle":"dropdown","aria-expanded":"false",disabled:b(t).has_selected_subtree},[F(w,{icon:"fa-solid fa-folder","aria-hidden":"true"}),A[1]||(A[1]=d("span",{class:"ms-1 hide-button-text"},"Load",-1))],8,ym),d("ul",bm,[d("li",null,[d("button",{class:"dropdown-item btn btn-primary",title:"Load from package",disabled:b(t).has_selected_subtree,onClick:u},[F(w,{icon:"fa-solid fa-folder-tree","aria-hidden":"true"}),A[2]||(A[2]=d("span",{class:"ms-1"},"Package",-1))],8,wm)]),d("li",null,[d("button",{class:"dropdown-item btn btn-primary",title:"Load from file",disabled:b(t).has_selected_subtree,onClick:_},[F(w,{icon:"fa-solid fa-folder-open","aria-hidden":"true"}),A[3]||(A[3]=d("span",{className:"ms-1"},"File",-1))],8,Em)])])]),d("button",{class:"btn btn-primary btn-spaced",title:"Quick Save to remote",disabled:b(t).has_selected_subtree||a.value,onClick:f},[F(w,{icon:"fa-solid fa-bookmark"}),A[4]||(A[4]=d("span",{class:"ms-1 hide-button-text"},"Quick Save",-1))],8,Tm),d("button",{class:"btn btn-primary btn-spaced",title:"Save to remote",disabled:b(t).has_selected_subtree,onClick:v},[F(w,{icon:"fa-solid fa-save","aria-hidden":"true"}),A[5]||(A[5]=d("span",{class:"ms-1 hide-button-text"},"Save",-1))],8,Am)],64)}}}),Cm={class:"input-group flex-nowrap my-3"},km=["value"],Im=["value"],Sm={class:"input-group flex-nowrap my-3"},xm=["value"],Om=oe({__name:"NamespaceSelect",setup(s){const e=ve(),t=E(!1),n=E(e.url);function o(l){const c=l.target;e.changeNamespace(c.value)}function a(){if(e.services_for_type_service===void 0){L({title:"Service not available!",text:"ServiceForType ROS service is not connected!",type:"error"});return}e.services_for_type_service.callService({type:"ros_bt_py_interfaces/srv/AddNode"},l=>{const c=l.services.map(u=>u.substring(0,u.lastIndexOf("/"))+"/");c.length>0&&(e.setAvailableNamespaces(c),e.namespace===""&&e.changeNamespace(c[0]))})}function i(l){const c=l.target;n.value=c.value}function r(){e.setUrl(n.value),e.connect(),t.value=!1}return ns(a),(l,c)=>{const u=Ne("FontAwesomeIcon");return h(),x("div",null,[c[2]||(c[2]=d("div",{class:"h4 my-3"},"Connection Settings",-1)),d("div",Cm,[c[0]||(c[0]=d("label",{class:"input-group-text"},"Namespace",-1)),d("select",{class:"form-select w-auto",value:b(e).namespace,onChange:o},[(h(!0),x(ie,null,me(b(e).available_namespaces,_=>(h(),x("option",{key:_,value:_},Z(_),9,Im))),128))],40,km),d("button",{type:"button",class:"btn btn-outline-secondary",onClick:a},[F(u,{icon:"fa-solid fa-sync","aria-hidden":"true"})])]),d("div",Sm,[c[1]||(c[1]=d("label",{class:"input-group-text"},"Rosbridge Server",-1)),d("input",{class:"form-control",type:"text",placeholder:"Websocket URL","aria-describedby":"websocketURL","aria-label":"Websocket URL",value:n.value,onChange:i},null,40,xm),d("button",{type:"button",class:"btn btn-primary",onClick:r},"Save")])])}}}),Dm={class:"btn-group"},Lm=oe({__name:"TickControls",setup(s){const e=_e(),t=ve();function n(o){if(!t.connected){L({title:"Service not available!",text:"ControlTreeExection service is not connected.",type:"error"});return}e.runNewCommand(o),t.control_tree_execution_service.callService({command:o},a=>{e.removeRunningCommand(o),a.success?L({title:"Running tree command",type:"success"}):L({title:"Running the tree command failed!",type:"error",text:a.error_message})})}return(o,a)=>{const i=Ne("FontAwesomeIcon");return h(),x("div",Dm,[d("button",{class:"btn btn-primary",title:"Tick Once",onClick:a[0]||(a[0]=()=>n(b(Ee).TICK_ONCE))},[b(e).running_commands.has(b(Ee).TICK_ONCE)?(h(),J(i,{key:0,icon:"fas fa-check",spin:"","aria-hidden":"true"})):(h(),J(i,{key:1,icon:"fas fa-check","aria-hidden":"true"})),a[6]||(a[6]=d("span",{class:"ms-1 hide-button-text-control"},"Tick Once",-1))]),d("button",{class:"btn btn-primary btn-spaced",title:"Tick Periodically",onClick:a[1]||(a[1]=()=>n(b(Ee).TICK_PERIODICALLY))},[b(e).running_commands.has(b(Ee).TICK_PERIODICALLY)?(h(),J(i,{key:0,icon:"fas fa-sync",spin:"","aria-hidden":"true"})):(h(),J(i,{key:1,icon:"fas fa-sync","aria-hidden":"true"})),a[7]||(a[7]=d("span",{class:"ms-1 hide-button-text-control"}," Tick Periodically ",-1))]),d("button",{class:"btn btn-primary btn-spaced",title:"Tick Until Result",onClick:a[2]||(a[2]=()=>n(b(Ee).TICK_UNTIL_RESULT))},[b(e).running_commands.has(b(Ee).TICK_UNTIL_RESULT)?(h(),J(i,{key:0,icon:"fas fa-play",spin:"","aria-hidden":"true"})):(h(),J(i,{key:1,icon:"fas fa-play","aria-hidden":"true"})),a[8]||(a[8]=d("span",{class:"ms-1 hide-button-text-control"}," Tick Until Result ",-1))]),d("button",{class:"btn btn-primary btn-spaced",title:"Stop",onClick:a[3]||(a[3]=()=>n(b(Ee).STOP))},[b(e).running_commands.has(b(Ee).STOP)?(h(),J(i,{key:0,icon:"fas fa-stop",spin:"","aria-hidden":"true"})):(h(),J(i,{key:1,icon:"fas fa-stop","aria-hidden":"true"})),a[9]||(a[9]=d("i",{class:"{stop_classes}"},null,-1)),a[10]||(a[10]=d("span",{class:"ms-1 hide-button-text-control"},"Stop",-1))]),d("button",{class:"btn btn-primary btn-spaced",title:"Reset",onClick:a[4]||(a[4]=()=>n(b(Ee).RESET))},[b(e).running_commands.has(b(Ee).RESET)?(h(),J(i,{key:0,icon:"fas fa-undo",spin:"","aria-hidden":"true"})):(h(),J(i,{key:1,icon:"fas fa-undo","aria-hidden":"true"})),a[11]||(a[11]=d("span",{class:"ms-1 hide-button-text-control"},"Reset",-1))]),d("button",{class:"btn btn-primary btn-spaced",title:"Shutdown",onClick:a[5]||(a[5]=()=>n(b(Ee).SHUTDOWN))},[b(e).running_commands.has(b(Ee).SHUTDOWN)?(h(),J(i,{key:0,icon:"fas fa-power-off",spin:"","aria-hidden":"true"})):(h(),J(i,{key:1,icon:"fas fa-power-off","aria-hidden":"true"})),a[12]||(a[12]=d("span",{class:"ms-1 hide-button-text-control"},"Shutdown",-1))])])}}}),Mm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='480'%20height='480'%20viewBox='0%200%20127%20127'%20version='1.1'%20id='svg5'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%3e%3cpath%20style='fill-opacity:1;stroke:none;stroke-width:0.5;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1;paint-order:markers%20stroke%20fill'%20d='m%2084.412499,15.013194%20c%202.357023,0%205,2.069281%205,5%20v%2086.973616%20c%200,2.97159%20-2.642977,5%20-5,5%20-2.357023,0%20-5,-2.11731%20-5,-5%20V%2020.013194%20c%200,-2.92906%202.642977,-5%205,-5%20z'%20id='path1301'%20/%3e%3cpath%20style='fill-opacity:1;stroke:none;stroke-width:0.5;stroke-linecap:round;stroke-dasharray:none;stroke-opacity:1;paint-order:markers%20stroke%20fill'%20d='m%2042.587501,15.013196%20c%202.357023,0%205,2.069281%205,5%20V%20106.9868%20c%200,2.97159%20-2.642977,5%20-5,5%20-2.357023,0%20-5,-2.11731%20-5,-5%20V%2020.013196%20c%200,-2.92906%202.642977,-5%205,-5%20z'%20id='path1301-6'%20/%3e%3c/g%3e%3c/svg%3e",$m="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDgwIgogICBoZWlnaHQ9IjQ4MCIKICAgdmlld0JveD0iMCAwIDEyNyAxMjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzUiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgICBpZD0iZGVmczIiPjxyZWN0CiAgICAgICB4PSIxOTgiCiAgICAgICB5PSI0Mi42NjY2NjgiCiAgICAgICB3aWR0aD0iMTAyLjY2NjY3IgogICAgICAgaGVpZ2h0PSIxMDAuNjY2NjciCiAgICAgICBpZD0icmVjdDEzODAiIC8+PC9kZWZzPjxnCiAgICAgaWQ9ImxheWVyMSI+PHBhdGgKICAgICAgIHN0eWxlPSJmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MC40Mzk3MTY7c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjE7cGFpbnQtb3JkZXI6bWFya2VycyBzdHJva2UgZmlsbCIKICAgICAgIGQ9Im0gODMuMzU0MTY1LDQ4IGMgMi4zNTcwMjMsMCA1LDEuNjAwMzk0IDUsMy44NjcwMyB2IDY3LjI2NTkzIGMgMCwyLjI5ODI1IC0yLjY0Mjk3NywzLjg2NzA0IC01LDMuODY3MDQgLTIuMzU3MDIzLDAgLTUsLTEuNjM3NTQgLTUsLTMuODY3MDQgViA1MS44NjcwMyBjIDAsLTIuMjY1MzUzIDIuNjQyOTc3LC0zLjg2NzAzIDUsLTMuODY3MDMgeiIKICAgICAgIGlkPSJwYXRoMTMwMSIgLz48cGF0aAogICAgICAgc3R5bGU9ImZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lO3N0cm9rZS13aWR0aDowLjQzOTcxNjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIgogICAgICAgZD0ibSA0My42NDU4MzUsNDggYyAyLjM1NzAyMywwIDUsMS42IDUsMy44NjcgdiA2Ny4yNjYgYyAwLDIuMjk4IC0yLjY0Mjk3NywzLjg2NyAtNSwzLjg2NyAtMi4zNTcwMjMsMCAtNSwtMS42MzggLTUsLTMuODY3IFYgNTEuODY3IGMgMCwtMi4yNjUgMi42NDI5NzcsLTMuODY3IDUsLTMuODY3IHoiCiAgICAgICBpZD0icGF0aDEzMDEtNiIgLz48dGV4dAogICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNjc3MjM0NjUsMCwwLDAuNjc3MjM0NjUsLTkxLjkwMDY3MSwtMzUuMTg5MDc4KSIKICAgICAgIGlkPSJ0ZXh0MTM3OCIKICAgICAgIHN0eWxlPSJmb250LXNpemU6NzQuNjY2N3B4O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMzgwKTtkaXNwbGF5OmlubGluZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS44ODk3NjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIj48dHNwYW4KICAgICAgICAgeD0iMTk4IgogICAgICAgICB5PSIxMTAuNzg2NzEiCiAgICAgICAgIGlkPSJ0c3BhbjMzNyI+TTwvdHNwYW4+PC90ZXh0PjwvZz48L3N2Zz4K",Rm="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDgwIgogICBoZWlnaHQ9IjQ4MCIKICAgdmlld0JveD0iMCAwIDEyNyAxMjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzUiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgICBpZD0iZGVmczIiPjxyZWN0CiAgICAgICB4PSIxNTQiCiAgICAgICB5PSIxNDQuNSIKICAgICAgIHdpZHRoPSIyMDMiCiAgICAgICBoZWlnaHQ9IjE0NS41IgogICAgICAgaWQ9InJlY3QxMTcyIiAvPjwvZGVmcz48ZwogICAgIGlkPSJsYXllcjEiPjxwYXRoCiAgICAgICBkPSJtIDExMy41MjIxMiw4MC40MzYxMzcgYyAxLjc1NzY0LC0xLjc1NzYyOSAxLjc1NzY0LC00LjYxMjAyMiAwLC02LjM2OTY1MiBMIDk1LjUyMzk4NSw1Ni4wNjgzNDkgYyAtMS43NTc2MzIsLTEuNzU3NjI5IC00LjYxMjAyMywtMS43NTc2MjkgLTYuMzY5NjU0LDAgLTEuNzU3NjMsMS43NTc2MzEgLTEuNzU3NjMsNC42MTIwMjMgMCw2LjM2OTY1MiBMIDk5LjQ3NTEzOSw3Mi43NTg4MDggSCAxNi42NTkxODMgYyAtMi40ODg4MDQsMCAtNC40OTk1MzMsMi4wMTA3MjkgLTQuNDk5NTMzLDQuNDk5NTM0IDAsMi40ODg4MDQgMi4wMTA3MjksNC40OTk1MzQgNC40OTk1MzMsNC40OTk1MzQgSCA5OS40NzUxMzkgTCA4OS4xNTQzMzEsOTIuMDc4NjgxIGMgLTEuNzU3NjMsMS43NTc2MyAtMS43NTc2Myw0LjYxMjAyMiAwLDYuMzY5NjUyIDEuNzU3NjMxLDEuNzU3NjI3IDQuNjEyMDIyLDEuNzU3NjI3IDYuMzY5NjU0LDAgTCAxMTMuNTIyMTIsODAuNDUwMTk4IFoiCiAgICAgICBpZD0icGF0aDExMDQiCiAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjAuMzI0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIgLz48dGV4dAogICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNzU0ODg3MDksMCwwLDAuNzU0ODg3MDksLTgxLjc5NTcxNSwtMTAzLjUwODAyKSIKICAgICAgIGlkPSJ0ZXh0MTE3MCIKICAgICAgIHN0eWxlPSJmb250LXNpemU6NzQuNjY2N3B4O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMTcyKTtkaXNwbGF5OmlubGluZTtzdHJva2U6IzAwMDAwMDtzdHJva2Utd2lkdGg6MS44ODk3NjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIj48dHNwYW4KICAgICAgICAgeD0iMTU0IgogICAgICAgICB5PSIyMTIuNjIwNyIKICAgICAgICAgaWQ9InRzcGFuODgxIj48dHNwYW4KICAgICAgICAgICBzdHlsZT0ic3Ryb2tlOm5vbmUiCiAgICAgICAgICAgaWQ9InRzcGFuODc5Ij5NPC90c3Bhbj48L3RzcGFuPjwvdGV4dD48L2c+PC9zdmc+Cg==",Pm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='480'%20height='480'%20viewBox='0%200%20127%20127'%20version='1.1'%20id='svg5'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%3e%3cpath%20d='m%20113.52212,90.244608%20c%201.75764,-1.757629%201.75764,-4.612022%200,-6.369652%20L%2095.523985,65.87682%20c%20-1.757632,-1.757629%20-4.612023,-1.757629%20-6.369654,0%20-1.75763,1.757631%20-1.75763,4.612023%200,6.369652%20L%2099.475139,82.567279%20H%2016.659183%20c%20-2.488804,0%20-4.499533,2.010729%20-4.499533,4.499534%200,2.488804%202.010729,4.499534%204.499533,4.499534%20H%2099.475139%20L%2089.154331,101.88716%20c%20-1.75763,1.75763%20-1.75763,4.61202%200,6.36965%201.757631,1.75763%204.612022,1.75763%206.369654,0%20L%20113.52212,90.258669%20Z'%20id='path1104'%20style='stroke-width:0.324;stroke-dasharray:none'%20/%3e%3cpath%20d='m%20113.52212,43.110984%20c%201.75764,-1.757629%201.75764,-4.612022%200,-6.369652%20L%2095.523981,18.743196%20c%20-1.75763,-1.757629%20-4.61202,-1.757629%20-6.36965,0%20-1.75763,1.757631%20-1.75763,4.612023%200,6.369652%20l%2010.32081,10.320807%20H%2016.659182%20c%20-2.488804,0%20-4.499533,2.010729%20-4.499533,4.499534%200,2.488804%202.010729,4.499534%204.499533,4.499534%20h%2082.815959%20l%20-10.32081,10.320805%20c%20-1.75763,1.75763%20-1.75763,4.612022%200,6.369652%201.757632,1.757628%204.61202,1.757628%206.369652,0%20L%20113.52212,43.125045%20Z'%20id='path1104-6'%20style='stroke-width:0.324;stroke-dasharray:none'%20/%3e%3c/g%3e%3c/svg%3e",jm="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gQ3JlYXRlZCB3aXRoIElua3NjYXBlIChodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy8pIC0tPgoKPHN2ZwogICB3aWR0aD0iNDgwIgogICBoZWlnaHQ9IjQ4MCIKICAgdmlld0JveD0iMCAwIDEyNyAxMjciCiAgIHZlcnNpb249IjEuMSIKICAgaWQ9InN2ZzUiCiAgIHhtbDpzcGFjZT0icHJlc2VydmUiCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnMKICAgICBpZD0iZGVmczIiPjxyZWN0CiAgICAgICB4PSI3OC41IgogICAgICAgeT0iMTkwIgogICAgICAgd2lkdGg9IjIwMyIKICAgICAgIGhlaWdodD0iMTA1LjUiCiAgICAgICBpZD0icmVjdDEyNjkiIC8+PC9kZWZzPjxnCiAgICAgaWQ9ImxheWVyMSI+PHBhdGgKICAgICAgIGQ9Im0gMTEzLjUyMjEyLDEwNC4wMDI5NyBjIDEuNzU3NjQsLTEuNzU3NjQgMS43NTc2NCwtNC42MTIwNDIgMCwtNi4zNjk2NzIgTCA5NS41MjM5ODUsNzkuNjM1MTYyIGMgLTEuNzU3NjMyLC0xLjc1NzYyOSAtNC42MTIwMjMsLTEuNzU3NjI5IC02LjM2OTY1NCwwIC0xLjc1NzYzLDEuNzU3NjMxIC0xLjc1NzYzLDQuNjEyMDIzIDAsNi4zNjk2NTIgTCA5OS40NzUxMzksOTYuMzI1NjIxIEggMTYuNjU5MTgzIGMgLTIuNDg4ODA0LDAgLTQuNDk5NTMzLDIuMDEwNzI5IC00LjQ5OTUzMyw0LjQ5OTUzOSAwLDIuNDg4ODIgMi4wMTA3MjksNC40OTk1NiA0LjQ5OTUzMyw0LjQ5OTU2IGggODIuODE1OTU2IGwgLTEwLjMyMDgwOCwxMC4zMjA4NiBjIC0xLjc1NzYzLDEuNzU3NjMgLTEuNzU3NjMsNC42MTIwMiAwLDYuMzY5NjUgMS43NTc2MzEsMS43NTc2MyA0LjYxMjAyMiwxLjc1NzYzIDYuMzY5NjU0LDAgbCAxNy45OTgxMzUsLTE3Ljk5ODIgeiIKICAgICAgIGlkPSJwYXRoMTEwNCIKICAgICAgIHN0eWxlPSJzdHJva2Utd2lkdGg6MC4zMjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lIiAvPjxwYXRoCiAgICAgICBkPSJtIDExMy41MjIxMiw1OC40NTY4MjcgYyAxLjc1NzY0LC0xLjc1NzYyOSAxLjc1NzY0LC00LjYxMjAyMiAwLC02LjM2OTY1MiBMIDk1LjUyMzk4MSwzNC4wODkwMzkgYyAtMS43NTc2MywtMS43NTc2MjkgLTQuNjEyMDIsLTEuNzU3NjI5IC02LjM2OTY1LDAgLTEuNzU3NjMsMS43NTc2MzEgLTEuNzU3NjMsNC42MTIwMjMgMCw2LjM2OTY1MiBsIDEwLjMyMDgxLDEwLjMyMDgwNyBIIDE2LjY1OTE4MiBjIC0yLjQ4ODgwNCwwIC00LjQ5OTUzMywyLjAxMDcyOSAtNC40OTk1MzMsNC40OTk1MzQgMCwyLjQ4ODgwNCAyLjAxMDcyOSw0LjQ5OTUzNCA0LjQ5OTUzMyw0LjQ5OTUzNCBoIDgyLjgxNTk1OSBsIC0xMC4zMjA4MSwxMC4zMjA4MDUgYyAtMS43NTc2MywxLjc1NzYzIC0xLjc1NzYzLDQuNjEyMDIyIDAsNi4zNjk2NTIgMS43NTc2MzIsMS43NTc2MjggNC42MTIwMiwxLjc1NzYyOCA2LjM2OTY1MiwwIEwgMTEzLjUyMjEyLDU4LjQ3MDg4OCBaIgogICAgICAgaWQ9InBhdGgxMTA0LTYiCiAgICAgICBzdHlsZT0ic3Ryb2tlLXdpZHRoOjAuMzI0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZSIgLz48dGV4dAogICAgICAgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIKICAgICAgIHRyYW5zZm9ybT0ibWF0cml4KDAuNjI5NjU4MDIsMCwwLDAuNjI5NjU4MDIsLTIzLjQ2MTQ2MiwtMTIyLjE0OTM3KSIKICAgICAgIGlkPSJ0ZXh0MTI2NyIKICAgICAgIHN0eWxlPSJmb250LXNpemU6NzQuNjY2N3B4O2ZvbnQtZmFtaWx5OnNhbnMtc2VyaWY7d2hpdGUtc3BhY2U6cHJlO3NoYXBlLWluc2lkZTp1cmwoI3JlY3QxMjY5KTtkaXNwbGF5OmlubGluZTtmaWxsLW9wYWNpdHk6MTtzdHJva2U6bm9uZTtzdHJva2Utd2lkdGg6MS44ODk3NjtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtZGFzaGFycmF5Om5vbmU7c3Ryb2tlLW9wYWNpdHk6MTtwYWludC1vcmRlcjptYXJrZXJzIHN0cm9rZSBmaWxsIj48dHNwYW4KICAgICAgICAgeD0iNzguNSIKICAgICAgICAgeT0iMjU4LjEyMDciCiAgICAgICAgIGlkPSJ0c3Bhbjg4MiI+RlQ8L3RzcGFuPjwvdGV4dD48L2c+PC9zdmc+Cg==",Fm="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='UTF-8'%20standalone='no'?%3e%3c!--%20Created%20with%20Inkscape%20(http://www.inkscape.org/)%20--%3e%3csvg%20width='480'%20height='480'%20viewBox='0%200%20127%20127'%20version='1.1'%20id='svg5'%20xml:space='preserve'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:svg='http://www.w3.org/2000/svg'%3e%3cdefs%20id='defs2'%20/%3e%3cg%20id='layer1'%3e%3cpath%20d='m%20111.67004,66.677796%20c%201.75764,-1.757629%201.75764,-4.612022%200,-6.369652%20L%2093.671906,42.310008%20c%20-1.757632,-1.757629%20-4.612023,-1.757629%20-6.369654,0%20-1.75763,1.757631%20-1.75763,4.612023%200,6.369652%20L%2097.62306,59.000467%20H%2014.807104%20c%20-2.488804,0%20-4.499533,2.010729%20-4.499533,4.499534%200,2.488804%202.010729,4.499534%204.499533,4.499534%20H%2097.62306%20L%2087.302252,78.32034%20c%20-1.75763,1.75763%20-1.75763,4.612022%200,6.369652%201.757631,1.757628%204.612022,1.757628%206.369654,0%20L%20111.67004,66.691857%20Z'%20id='path1104'%20style='stroke-width:0.324;stroke-dasharray:none'%20/%3e%3c/g%3e%3c/svg%3e",zm={class:"border rounded mb-2"},Um={key:0,class:"d-flex flex-wrap justify-content-center m-1"},Wm=["onClick","onMousedown","onKeydown"],$a="grab",Hm="border-primary",Vm=oe({__name:"NodeQuickSelect",setup(s){const e=ds(),t=_e(),n=Ce(),o=Q(()=>e.nodes.filter(l=>l.max_children===-1)),a=E(!1);function i(l){return t.dragging_new_node&&t.dragging_new_node.node_class===l.node_class&&t.dragging_new_node.module===l.module?Hm:$a}function r(l){switch(l){case"Fallback":return Mm;case"MemoryFallback":return $m;case"MemorySequence":return Rm;case"Parallel":return Pm;case"ParallelFailureTolerance":return jm;case"Sequence":return Fm;default:return""}}return(l,c)=>{const u=Ne("FontAwesomeIcon");return h(),x("div",zm,[d("div",{class:"w-100 text-center cursor-pointer m-2",onClick:c[0]||(c[0]=_=>a.value=!a.value)},[c[1]||(c[1]=he(" Flow Control Nodes ")),F(u,{icon:"fa-solid "+(a.value?"fa-angle-down":"fa-angle-up"),"aria-hidden":"true"},null,8,["icon"])]),a.value?ge("",!0):(h(),x("div",Um,[(h(!0),x(ie,null,me(o.value,_=>(h(),x("div",{key:_.node_class+_.module,class:Ae(["border rounded m-1 image-container",i(_)]),tabindex:"0",onClick:v=>b(n).nodeListSelectionChange(_),onMousedown:Wn(()=>b(t).startDraggingNewNode(_),["stop","prevent"]),onKeydown:$e(v=>b(n).nodeListSelectionChange(_),["enter"])},[_.name==="NameSwitch"?(h(),J(u,{key:0,title:_.name,class:"icon",icon:"fa-solid fa-network-wired"},null,8,["title"])):(h(),J(b(pi),{key:1,title:_.name,class:"image",src:r(_.name)},null,8,["title","src"]))],42,Wm))),128))]))])}}}),Ym=Mt(Vm,[["__scopeId","data-v-57787590"]]),Bm={class:"form-check form-switch my-3 fs-5"},Gm=["checked"],Km=oe({__name:"SettingsPanel",setup(s){const e=_e(),t=ve();function n(o){const a=o.target;t.set_publish_data_service.callService({data:a.checked},i=>{i.success?(L({title:(a.checked?"Enable":"Disable")+" data publishing",type:"success"}),e.publish_data=a.checked):L({title:"Failed to toggle data publishing",text:i.message,type:"warn"})},i=>{L({title:"Failed to call setPublishData service",text:i,type:"error"})})}return(o,a)=>(h(),x(ie,null,[a[1]||(a[1]=d("div",{class:"h4 mb-3"},"Tree Data Settings",-1)),d("div",Bm,[d("input",{type:"checkbox",class:"form-check-input",checked:b(e).publish_data,onClick:n},null,8,Gm),a[0]||(a[0]=d("label",{class:"form-check-label ms-2"}," Transmit data flow information ",-1))])],64))}}),Zm={class:"d-flex align-items-center"},Qm={class:"btn btn-outline-contrast",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#settings"},Jm=oe({__name:"ConnectionStatus",setup(s){const e=ve(),t=us(),n=fn(),o=Q(()=>e.connected?t.messages_available?n.packages_available?{class:"connected",title:"Connected"}:{class:"packages-missing",title:"Connected, package list not (yet) available. File browser will not work."}:{class:"messages-missing",title:"Connected, message info not (yet) available. ROS-type autocompletion will not work."}:{class:"disconnected",title:"Disconnected"});return(a,i)=>{const r=Ne("FontAwesomeIcon");return h(),x("div",Zm,[F(r,Fa({icon:"fa-solid fa-wifi","aria-hidden":"true",class:"mx-2 fs-4"},o.value),null,16),d("button",Qm,[F(r,{icon:"fa-solid fa-cog"})])])}}}),Xm=Mt(Jm,[["__scopeId","data-v-243f196f"]]),qm={id:"settings",class:"offcanvas offcanvas-start",tabindex:"-1"},eg={class:"offcanvas-body"},tg={key:0,class:"d-flex justify-content-between align-items-center w-100 p-2 top-bar"},sg={class:"btn-group"},ng={key:0,id:"nodelist_container",class:"col-3 d-flex flex-column h-100"},og={class:"d-flex justify-content-between m-1 mt-2"},ag={class:"m-1"},rg={class:"border rounded"},ig={class:"input-group p-2"},lg=["value"],cg={class:"row justify-content-between bg-secondary"},ug={class:"col col-xl-3 order-xl-1"},dg={class:"col-auto order-xl-3"},_g={class:"col-12 col-xl order-xl-2"},fg={class:"row edit_canvas flex-grow-1 pb-2"},pg={class:"row"},vg={class:"col-6"},hg={key:3,class:"d-flex flex-column"},mg={class:"col-6"},gg={key:1,class:"d-flex flex-column"},yg=oe({__name:"App",setup(s){const e=ve(),t=us(),n=fn(),o=ds(),a=_e(),i=Ce(),r=E(!1);Nt(r,S=>{S?document.documentElement.setAttribute("data-bs-theme","dark"):document.documentElement.removeAttribute("data-bs-theme")});function l(S){n.packages_available||n.arePackagesAvailable(!0),n.updateAvailablePackages(S.packages)}function c(){e.packages_sub.subscribe(l)}function u(S){t.messages_available||t.areMessagesAvailable(!0),t.updateAvailableMessages(S)}function _(){e.messages_sub.subscribe(u)}function v(S){a.tree_structure_list=S.tree_structures}function f(S){a.tree_state_list=S.tree_states}function g(S){a.tree_data_list=S.tree_data}function m(){e.tree_structure_sub.subscribe(v),e.tree_state_sub.subscribe(f),e.tree_data_sub.subscribe(g)}function A(){e.channels_sub.subscribe(t.updateMessageChannels)}function w(S){const O=S.target;W.value=O.value,o.filterNodes(O.value)}function N(S){S.key=="Escape"&&(W.value="",o.clearFilteredNodes())}function C(){return a.current_tree.structure?a.current_tree.structure.nodes.filter(S=>S.max_children<0||S.child_names.length<S.max_children).sort(function(S,O){return S.name<O.name?-1:S.name>O.name?1:0}):[]}const k=E(!0),R=E(),W=E(""),M=E(!0);return e.$onAction(({name:S,after:O})=>{S!=="changeNamespace"&&S!="hasConnected"||O(()=>{m(),_(),A(),c()})}),ns(()=>{e.connect(),m(),_(),A(),c()}),(S,O)=>{const P=Ne("FontAwesomeIcon"),te=Ne("notifications");return h(),x(ie,null,[d("div",qm,[O[7]||(O[7]=d("div",{class:"offcanvas-header"},[d("h5",{class:"offcanvas-title"},"Settings"),d("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas"})],-1)),d("div",eg,[F(Km),F(Om)])]),M.value?(h(),x("header",tg,[F(Xm),F(Lm),d("div",sg,[F(Nm),F(lm)])])):ge("",!0),d("main",null,[d("div",{class:Ae([b(a).is_dragging?"cursor-grabbing":"","container-fluid"]),onMouseup:O[5]||(O[5]=()=>b(a).stopDragging()),onMouseleave:O[6]||(O[6]=()=>b(a).stopDragging())},[d("div",{class:Ae(["row",M.value?"row-height":"vh-100"])},[k.value?(h(),x("div",ng,[d("div",og,[d("button",{class:"btn btn-outline-primary",title:"Hide nodelist",onClick:O[0]||(O[0]=()=>{k.value=!k.value})},[F(P,{icon:"fa-solid fa-angle-double-left","aria-hidden":"true",class:"show-button-icon"})]),d("button",{class:"btn btn-outline-primary",title:"Change window appearance",onClick:O[1]||(O[1]=le=>r.value=!r.value)},[F(P,{class:Ae(r.value?"":"text-secondary"),icon:"fa-regular fa-moon"},null,8,["class"]),F(P,{class:Ae(r.value?"text-secondary":""),icon:"fa-regular fa-sun"},null,8,["class"])])]),d("div",ag,[F(Uf),F(Ym),d("div",rg,[d("div",ig,[O[8]||(O[8]=d("label",{for:"nodelist_search",class:"input-group-text"}," Search: ",-1)),d("input",{id:"nodelist_search",ref_key:"nodelist_input_ref",ref:R,type:"text",class:"form-control",value:W.value,placeholder:"Node Name",onInput:w,onKeydown:N},null,40,lg)])])]),F(up,{style:{"min-height":"0"}})])):ge("",!0),d("div",{id:"main_pane",class:Ae(["d-flex flex-column",k.value?"col-9":"col-12"])},[d("div",cg,[k.value?ge("",!0):(h(),x("button",{key:0,class:"btn btn-outline-light m-2 col-auto order-first",title:"Show nodelist",onClick:O[2]||(O[2]=()=>{k.value=!k.value})},[F(P,{icon:"fa-solid fa-angle-double-right","aria-hidden":"true",class:"show-button-icon"})])),d("div",ug,[F(hp)]),d("div",dg,[F(om,{"exec-bar-visible":M.value,onShow:O[3]||(O[3]=()=>{M.value=!0,k.value=!0}),onHide:O[4]||(O[4]=()=>{M.value=!1,k.value=!1})},null,8,["exec-bar-visible"])]),d("div",_g,[F(tm)])]),d("div",fg,[F(xp)]),d("div",pg,[d("div",vg,[b(i).last_seletion_source==="multiple"?(h(),J(hv,{key:0})):b(i).last_seletion_source==="nodelist"?(h(),J(jh,{key:b(e).namespace+(b(i).selected_node?b(i).selected_node.module+b(i).selected_node.node_class:""),parents:C()},null,8,["parents"])):b(i).last_seletion_source==="editor"?(h(),J(Bh,{key:b(e).namespace+(b(i).selected_node?b(i).selected_node.name:"")})):(h(),x("div",hg,"No Node Selected"))]),d("div",mg,[b(a).selected_edge!==void 0?(h(),J(zp,{key:0})):(h(),x("div",gg,"No Edge Selected"))])])],2)],2)],34),F(te,{position:"bottom right","pause-on-hover":!0}),F(b(vi))])],64)}}});Oi.add(Di,Li,Mi,Wa,$i,Ri,Pi,za,ji,Fi,zi,Ui,Wi,Hi,Vi,Yi,Bi,Gi,Ki,Zi,Qi,Ji,Xi,qi,el,tl,sl,nl,ol,Ua,al,rl,il,ll,Va,cl,ul,dl,Ha,_l,fl,pl,vl,hl);const ks=hi(yg),bg=mi(),si=bf();si.use($f);ks.use(si);ks.component("FontAwesomeIcon",ml);ks.use(gi,{velocity:yi});ks.use(bg);ks.mount("#root");
